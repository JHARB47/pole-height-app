@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile/resilience base improvements */
@layer base {
		html {
			min-height: 100dvh;
		}

	/* Inherit fonts into form controls for consistent sizing */
	button,
	input,
	select,
	textarea {
		font: inherit;
	}

	/* Improve tap responsiveness */
	button,
	[role="button"] {
		touch-action: manipulation;
	}

	/* Contain media overflow */
	img,
	svg,
	canvas,
	video,
	audio,
	iframe,
	embed,
	object {
		display: block;
		max-width: 100%;
		height: auto;
	}
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
	* {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
}

/* Print helpers */
@layer utilities {
	/* Prevent long tokens from overlapping UI; allow natural breaks */
	.break-anywhere { 
		word-break: break-word; 
		overflow-wrap: anywhere; 
	}

	/* Two-line clamp for verbose text */
	.line-clamp-2 {
		display: -webkit-box;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		line-clamp: 2;
		overflow: hidden;
	}

	@media print {
		.no-print { display: none !important; }

		.page-break {
			page-break-before: always;
			break-before: page;
		}
	}
}

/* Minor mobile-friendly utility tweaks */
@layer utilities {
	.safe-px {
		padding-left: env(safe-area-inset-left);
		padding-right: env(safe-area-inset-right);
	}
	.safe-pt { padding-top: env(safe-area-inset-top); }
	.safe-pb { padding-bottom: env(safe-area-inset-bottom); }

	/* Offset in-page anchors to account for sticky header */
	.anchor-offset { scroll-margin-top: 56px; }
}

/* Reusable section and workflow helpers to improve readability/navigation */
@layer components {
	.app-section {
		@apply rounded border p-3 md:p-4 bg-white;
	}

	.section-title {
		@apply text-base md:text-lg font-semibold mb-2;
	}

	.section-subtitle {
		@apply text-xs text-gray-600 mb-2;
	}

	.section-grid {
		@apply grid gap-3 md:gap-4;
	}

	.section-divider {
		@apply border-t border-gray-200 my-3 md:my-4;
	}

	.vertical-rhythm > * + * {
		margin-top: 0.75rem;
	}

	.workflow-nav {
		@apply sticky top-0 z-40 bg-white/80 backdrop-blur border-b border-gray-200;
	}

	.workflow-nav a {
		@apply text-sm md:text-[13px] text-gray-700 hover:text-black px-2 py-2 inline-block;
	}
}