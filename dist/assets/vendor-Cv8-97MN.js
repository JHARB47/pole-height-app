import{g as Ia,a as Ih,d as ti,u as Qe,Z as Re,b as ci,r as ns,c as Ui,e as Nh,f as Rh}from"./polyfills-CELajPCl.js";function Fl(t,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const n=Object.getOwnPropertyDescriptor(r,a);n&&Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Ha={exports:{}},Wa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs;function Ul(){return Rs||(Rs=1,(function(t){function e(j,$){var se=j.length;j.push($);e:for(;0<se;){var ee=se-1>>>1,ie=j[ee];if(0<a(ie,$))j[ee]=$,j[se]=ie,se=ee;else break e}}function i(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],se=j.pop();if(se!==$){j[0]=se;e:for(var ee=0,ie=j.length,Y=ie>>>1;ee<Y;){var Te=2*(ee+1)-1,Me=j[Te],_e=Te+1,Ie=j[_e];if(0>a(Me,se))_e<ie&&0>a(Ie,Me)?(j[ee]=Ie,j[_e]=se,ee=_e):(j[ee]=Me,j[Te]=se,ee=Te);else if(_e<ie&&0>a(Ie,se))j[ee]=Ie,j[_e]=se,ee=_e;else break e}}return $}function a(j,$){var se=j.sortIndex-$.sortIndex;return se!==0?se:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var n=performance;t.unstable_now=function(){return n.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var h=[],l=[],u=1,g=null,c=3,y=!1,S=!1,P=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(j){for(var $=i(l);$!==null;){if($.callback===null)r(l);else if($.startTime<=j)r(l),$.sortIndex=$.expirationTime,e(h,$);else break;$=i(l)}}function z(j){if(P=!1,G(j),!S)if(i(h)!==null)S=!0,Ce(E);else{var $=i(l);$!==null&&X(z,$.startTime-j)}}function E(j,$){S=!1,P&&(P=!1,b(p),p=-1),y=!0;var se=c;try{for(G($),g=i(h);g!==null&&(!(g.expirationTime>$)||j&&!L());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,c=g.priorityLevel;var ie=ee(g.expirationTime<=$);$=t.unstable_now(),typeof ie=="function"?g.callback=ie:g===i(h)&&r(h),G($)}else r(h);g=i(h)}if(g!==null)var Y=!0;else{var Te=i(l);Te!==null&&X(z,Te.startTime-$),Y=!1}return Y}finally{g=null,c=se,y=!1}}var C=!1,d=null,p=-1,v=5,x=-1;function L(){return!(t.unstable_now()-x<v)}function R(){if(d!==null){var j=t.unstable_now();x=j;var $=!0;try{$=d(!0,j)}finally{$?N():(C=!1,d=null)}}else C=!1}var N;if(typeof M=="function")N=function(){M(R)};else if(typeof MessageChannel!="undefined"){var ae=new MessageChannel,he=ae.port2;ae.port1.onmessage=R,N=function(){he.postMessage(null)}}else N=function(){A(R,0)};function Ce(j){d=j,C||(C=!0,N())}function X(j,$){p=A(function(){j(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){S||y||(S=!0,Ce(E))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return i(h)},t.unstable_next=function(j){switch(c){case 1:case 2:case 3:var $=3;break;default:$=c}var se=c;c=$;try{return j()}finally{c=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var se=c;c=j;try{return $()}finally{c=se}},t.unstable_scheduleCallback=function(j,$,se){var ee=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ee+se:ee):se=ee,j){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=se+ie,j={id:u++,callback:$,priorityLevel:j,startTime:se,expirationTime:ie,sortIndex:-1},se>ee?(j.sortIndex=se,e(l,j),i(h)===null&&j===i(l)&&(P?(b(p),p=-1):P=!0,X(z,se-ee))):(j.sortIndex=ie,e(h,j),S||y||(S=!0,Ce(E))),j},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(j){var $=c;return function(){var se=c;c=$;try{return j.apply(this,arguments)}finally{c=se}}}})(Wa)),Wa}var Os;function Mp(){return Os||(Os=1,Ha.exports=Ul()),Ha.exports}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ot(){return ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ot.apply(this,arguments)}var yt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yt||(yt={}));const Gs="popstate";function Ep(t){t===void 0&&(t={});function e(r,a){let{pathname:n,search:o,hash:s}=r.location;return Or("",{pathname:n,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(r,a){return typeof a=="string"?a:$r(a)}return zl(e,i,null,t)}function at(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function nr(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bl(){return Math.random().toString(36).substr(2,8)}function Ls(t,e){return{usr:t.state,key:t.key,idx:e}}function Or(t,e,i,r){return i===void 0&&(i=null),ot({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bi(e):e,{state:i,key:e&&e.key||r||Bl()})}function $r(t){let{pathname:e="/",search:i="",hash:r=""}=t;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bi(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zl(t,e,i,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:n=!1}=r,o=a.history,s=yt.Pop,h=null,l=u();l==null&&(l=0,o.replaceState(ot({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function g(){s=yt.Pop;let A=u(),b=A==null?null:A-l;l=A,h&&h({action:s,location:P.location,delta:b})}function c(A,b){s=yt.Push;let M=Or(P.location,A,b);l=u()+1;let G=Ls(M,l),z=P.createHref(M);try{o.pushState(G,"",z)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(z)}n&&h&&h({action:s,location:P.location,delta:1})}function y(A,b){s=yt.Replace;let M=Or(P.location,A,b);l=u();let G=Ls(M,l),z=P.createHref(M);o.replaceState(G,"",z),n&&h&&h({action:s,location:P.location,delta:0})}function S(A){let b=a.location.origin!=="null"?a.location.origin:a.location.href,M=typeof A=="string"?A:$r(A);return M=M.replace(/ $/,"%20"),at(b,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,b)}let P={get action(){return s},get location(){return t(a,o)},listen(A){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Gs,g),h=A,()=>{a.removeEventListener(Gs,g),h=null}},createHref(A){return e(a,A)},createURL:S,encodeLocation(A){let b=S(A);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:c,replace:y,go(A){return o.go(A)}};return P}var Ye;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ye||(Ye={}));const jl=new Set(["lazy","caseSensitive","path","id","index","children"]);function $l(t){return t.index===!0}function da(t,e,i,r){return i===void 0&&(i=[]),r===void 0&&(r={}),t.map((a,n)=>{let o=[...i,String(n)],s=typeof a.id=="string"?a.id:o.join("-");if(at(a.index!==!0||!a.children,"Cannot specify children on an index route"),at(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),$l(a)){let h=ot({},a,e(a),{id:s});return r[s]=h,h}else{let h=ot({},a,e(a),{id:s,children:void 0});return r[s]=h,a.children&&(h.children=da(a.children,e,o,r)),h}})}function Ki(t,e,i){return i===void 0&&(i="/"),sa(t,e,i,!1)}function sa(t,e,i,r){let a=typeof e=="string"?Bi(e):e,n=Na(a.pathname||"/",i);if(n==null)return null;let o=Oh(t);Vl(o);let s=null;for(let h=0;s==null&&h<o.length;++h){let l=rf(n);s=ef(o[h],l,r)}return s}function ql(t,e){let{route:i,pathname:r,params:a}=t;return{id:i.id,pathname:r,params:a,data:e[i.id],handle:i.handle}}function Oh(t,e,i,r){e===void 0&&(e=[]),i===void 0&&(i=[]),r===void 0&&(r="");let a=(n,o,s)=>{let h={relativePath:s===void 0?n.path||"":s,caseSensitive:n.caseSensitive===!0,childrenIndex:o,route:n};h.relativePath.startsWith("/")&&(at(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let l=kr([r,h.relativePath]),u=i.concat(h);n.children&&n.children.length>0&&(at(n.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Oh(n.children,e,u,l)),!(n.path==null&&!n.index)&&e.push({path:l,score:Yl(l,n.index),routesMeta:u})};return t.forEach((n,o)=>{var s;if(n.path===""||!((s=n.path)!=null&&s.includes("?")))a(n,o);else for(let h of Gh(n.path))a(n,o,h)}),e}function Gh(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,a=i.endsWith("?"),n=i.replace(/\?$/,"");if(r.length===0)return a?[n,""]:[n];let o=Gh(r.join("/")),s=[];return s.push(...o.map(h=>h===""?n:[n,h].join("/"))),a&&s.push(...o),s.map(h=>t.startsWith("/")&&h===""?"/":h)}function Vl(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:Ql(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}const Zl=/^:[\w-]+$/,Hl=3,Wl=2,Kl=1,Xl=10,Jl=-2,Ds=t=>t==="*";function Yl(t,e){let i=t.split("/"),r=i.length;return i.some(Ds)&&(r+=Jl),e&&(r+=Wl),i.filter(a=>!Ds(a)).reduce((a,n)=>a+(Zl.test(n)?Hl:n===""?Kl:Xl),r)}function Ql(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function ef(t,e,i){i===void 0&&(i=!1);let{routesMeta:r}=t,a={},n="/",o=[];for(let s=0;s<r.length;++s){let h=r[s],l=s===r.length-1,u=n==="/"?e:e.slice(n.length)||"/",g=Fs({path:h.relativePath,caseSensitive:h.caseSensitive,end:l},u),c=h.route;if(!g&&l&&i&&!r[r.length-1].route.index&&(g=Fs({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},u)),!g)return null;Object.assign(a,g.params),o.push({params:a,pathname:kr([n,g.pathname]),pathnameBase:hf(kr([n,g.pathnameBase])),route:c}),g.pathnameBase!=="/"&&(n=kr([n,g.pathnameBase]))}return o}function Fs(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=tf(t.path,t.caseSensitive,t.end),a=e.match(i);if(!a)return null;let n=a[0],o=n.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((l,u,g)=>{let{paramName:c,isOptional:y}=u;if(c==="*"){let P=s[g]||"";o=n.slice(0,n.length-P.length).replace(/(.)\/+$/,"$1")}const S=s[g];return y&&!S?l[c]=void 0:l[c]=(S||"").replace(/%2F/g,"/"),l},{}),pathname:n,pathnameBase:o,pattern:t}}function tf(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),nr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,h)=>(r.push({paramName:s,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function rf(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Na(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}function af(t,e){e===void 0&&(e="/");let{pathname:i,search:r="",hash:a=""}=typeof t=="string"?Bi(t):t;return{pathname:i?i.startsWith("/")?i:nf(i,e):e,search:lf(r),hash:ff(a)}}function nf(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function Ka(t,e,i,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lh(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function sf(t,e){let i=Lh(t);return e?i.map((r,a)=>a===i.length-1?r.pathname:r.pathnameBase):i.map(r=>r.pathnameBase)}function of(t,e,i,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=Bi(t):(a=ot({},t),at(!a.pathname||!a.pathname.includes("?"),Ka("?","pathname","search",a)),at(!a.pathname||!a.pathname.includes("#"),Ka("#","pathname","hash",a)),at(!a.search||!a.search.includes("#"),Ka("#","search","hash",a)));let n=t===""||a.pathname==="",o=n?"/":a.pathname,s;if(o==null)s=i;else{let g=e.length-1;if(!r&&o.startsWith("..")){let c=o.split("/");for(;c[0]==="..";)c.shift(),g-=1;a.pathname=c.join("/")}s=g>=0?e[g]:"/"}let h=af(a,s),l=o&&o!=="/"&&o.endsWith("/"),u=(n||o===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(l||u)&&(h.pathname+="/"),h}const kr=t=>t.join("/").replace(/\/\/+/g,"/"),hf=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lf=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ff=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class On{constructor(e,i,r,a){a===void 0&&(a=!1),this.status=e,this.statusText=i||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ga(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Dh=["post","put","patch","delete"],uf=new Set(Dh),cf=["get",...Dh],df=new Set(cf),gf=new Set([301,302,303,307,308]),pf=new Set([307,308]),Xa={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mf={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ss=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vf=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Fh="remix-router-transitions";function Pp(t){const e=t.window?t.window:typeof window!="undefined"?window:void 0,i=typeof e!="undefined"&&typeof e.document!="undefined"&&typeof e.document.createElement!="undefined",r=!i;at(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(t.mapRouteProperties)a=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;a=I=>({hasErrorBoundary:k(I)})}else a=vf;let n={},o=da(t.routes,a,void 0,n),s,h=t.basename||"/",l=t.dataStrategy||bf,u=t.patchRoutesOnNavigation,g=ot({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),c=null,y=new Set,S=null,P=null,A=null,b=t.hydrationData!=null,M=Ki(o,t.history.location,h),G=!1,z=null;if(M==null&&!u){let k=It(404,{pathname:t.history.location.pathname}),{matches:I,route:D}=Ks(o);M=I,z={[D.id]:k}}M&&!t.hydrationData&&le(M,o,t.history.location.pathname).active&&(M=null);let E;if(M)if(M.some(k=>k.route.lazy))E=!1;else if(!M.some(k=>k.route.loader))E=!0;else if(g.v7_partialHydration){let k=t.hydrationData?t.hydrationData.loaderData:null,I=t.hydrationData?t.hydrationData.errors:null;if(I){let D=M.findIndex(V=>I[V.route.id]!==void 0);E=M.slice(0,D+1).every(V=>!Ln(V.route,k,I))}else E=M.every(D=>!Ln(D.route,k,I))}else E=t.hydrationData!=null;else if(E=!1,M=[],g.v7_partialHydration){let k=le(null,o,t.history.location.pathname);k.active&&k.matches&&(G=!0,M=k.matches)}let C,d={historyAction:t.history.action,location:t.history.location,matches:M,initialized:E,navigation:Xa,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},p=yt.Pop,v=!1,x,L=!1,R=new Map,N=null,ae=!1,he=!1,Ce=[],X=new Set,j=new Map,$=0,se=-1,ee=new Map,ie=new Set,Y=new Map,Te=new Map,Me=new Set,_e=new Map,Ie=new Map,ge;function Ae(){if(c=t.history.listen(k=>{let{action:I,location:D,delta:V}=k;if(ge){ge(),ge=void 0;return}nr(Ie.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=f({currentLocation:d.location,nextLocation:D,historyAction:I});if(J&&V!=null){let Se=new Promise(ke=>{ge=ke});t.history.go(V*-1),Ee(J,{state:"blocked",location:D,proceed(){Ee(J,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),Se.then(()=>t.history.go(V))},reset(){let ke=new Map(d.blockers);ke.set(J,vr),me({blockers:ke})}});return}return xe(I,D)}),i){Gf(e,R);let k=()=>Lf(e,R);e.addEventListener("pagehide",k),N=()=>e.removeEventListener("pagehide",k)}return d.initialized||xe(yt.Pop,d.location,{initialHydration:!0}),C}function ze(){c&&c(),N&&N(),y.clear(),x&&x.abort(),d.fetchers.forEach((k,I)=>w(I)),d.blockers.forEach((k,I)=>W(I))}function be(k){return y.add(k),()=>y.delete(k)}function me(k,I){I===void 0&&(I={}),d=ot({},d,k);let D=[],V=[];g.v7_fetcherPersist&&d.fetchers.forEach((J,Se)=>{J.state==="idle"&&(Me.has(Se)?V.push(Se):D.push(Se))}),Me.forEach(J=>{!d.fetchers.has(J)&&!j.has(J)&&V.push(J)}),[...y].forEach(J=>J(d,{deletedFetchers:V,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),g.v7_fetcherPersist?(D.forEach(J=>d.fetchers.delete(J)),V.forEach(J=>w(J))):V.forEach(J=>Me.delete(J))}function Le(k,I,D){var V,J;let{flushSync:Se}=D===void 0?{}:D,ke=d.actionData!=null&&d.navigation.formMethod!=null&&qt(d.navigation.formMethod)&&d.navigation.state==="loading"&&((V=k.state)==null?void 0:V._isRedirect)!==!0,te;I.actionData?Object.keys(I.actionData).length>0?te=I.actionData:te=null:ke?te=d.actionData:te=null;let fe=I.loaderData?Hs(d.loaderData,I.loaderData,I.matches||[],I.errors):d.loaderData,re=d.blockers;re.size>0&&(re=new Map(re),re.forEach(($e,xt)=>re.set(xt,vr)));let ve=v===!0||d.navigation.formMethod!=null&&qt(d.navigation.formMethod)&&((J=k.state)==null?void 0:J._isRedirect)!==!0;s&&(o=s,s=void 0),ae||p===yt.Pop||(p===yt.Push?t.history.push(k,k.state):p===yt.Replace&&t.history.replace(k,k.state));let Pe;if(p===yt.Pop){let $e=R.get(d.location.pathname);$e&&$e.has(k.pathname)?Pe={currentLocation:d.location,nextLocation:k}:R.has(k.pathname)&&(Pe={currentLocation:k,nextLocation:d.location})}else if(L){let $e=R.get(d.location.pathname);$e?$e.add(k.pathname):($e=new Set([k.pathname]),R.set(d.location.pathname,$e)),Pe={currentLocation:d.location,nextLocation:k}}me(ot({},I,{actionData:te,loaderData:fe,historyAction:p,location:k,initialized:!0,navigation:Xa,revalidation:"idle",restoreScrollPosition:ye(k,I.matches||d.matches),preventScrollReset:ve,blockers:re}),{viewTransitionOpts:Pe,flushSync:Se===!0}),p=yt.Pop,v=!1,L=!1,ae=!1,he=!1,Ce=[]}async function Ue(k,I){if(typeof k=="number"){t.history.go(k);return}let D=Gn(d.location,d.matches,h,g.v7_prependBasename,k,g.v7_relativeSplatPath,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:V,submission:J,error:Se}=Us(g.v7_normalizeFormMethod,!1,D,I),ke=d.location,te=Or(d.location,V,I&&I.state);te=ot({},te,t.history.encodeLocation(te));let fe=I&&I.replace!=null?I.replace:void 0,re=yt.Push;fe===!0?re=yt.Replace:fe===!1||J!=null&&qt(J.formMethod)&&J.formAction===d.location.pathname+d.location.search&&(re=yt.Replace);let ve=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,Pe=(I&&I.flushSync)===!0,$e=f({currentLocation:ke,nextLocation:te,historyAction:re});if($e){Ee($e,{state:"blocked",location:te,proceed(){Ee($e,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),Ue(k,I)},reset(){let xt=new Map(d.blockers);xt.set($e,vr),me({blockers:xt})}});return}return await xe(re,te,{submission:J,pendingError:Se,preventScrollReset:ve,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:Pe})}function De(){if(it(),me({revalidation:"loading"}),d.navigation.state!=="submitting"){if(d.navigation.state==="idle"){xe(d.historyAction,d.location,{startUninterruptedRevalidation:!0});return}xe(p||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation,enableViewTransition:L===!0})}}async function xe(k,I,D){x&&x.abort(),x=null,p=k,ae=(D&&D.startUninterruptedRevalidation)===!0,F(d.location,d.matches),v=(D&&D.preventScrollReset)===!0,L=(D&&D.enableViewTransition)===!0;let V=s||o,J=D&&D.overrideNavigation,Se=D!=null&&D.initialHydration&&d.matches&&d.matches.length>0&&!G?d.matches:Ki(V,I,h),ke=(D&&D.flushSync)===!0;if(Se&&d.initialized&&!he&&kf(d.location,I)&&!(D&&D.submission&&qt(D.submission.formMethod))){Le(I,{matches:Se},{flushSync:ke});return}let te=le(Se,V,I.pathname);if(te.active&&te.matches&&(Se=te.matches),!Se){let{error:rt,notFoundMatches:Ke,route:ft}=U(I.pathname);Le(I,{matches:Ke,loaderData:{},errors:{[ft.id]:rt}},{flushSync:ke});return}x=new AbortController;let fe=Zi(t.history,I,x.signal,D&&D.submission),re;if(D&&D.pendingError)re=[Ri(Se).route.id,{type:Ye.error,error:D.pendingError}];else if(D&&D.submission&&qt(D.submission.formMethod)){let rt=await je(fe,I,D.submission,Se,te.active,{replace:D.replace,flushSync:ke});if(rt.shortCircuited)return;if(rt.pendingActionResult){let[Ke,ft]=rt.pendingActionResult;if(Gt(ft)&&ga(ft.error)&&ft.error.status===404){x=null,Le(I,{matches:rt.matches,loaderData:{},errors:{[Ke]:ft.error}});return}}Se=rt.matches||Se,re=rt.pendingActionResult,J=Ja(I,D.submission),ke=!1,te.active=!1,fe=Zi(t.history,fe.url,fe.signal)}let{shortCircuited:ve,matches:Pe,loaderData:$e,errors:xt}=await ne(fe,I,Se,te.active,J,D&&D.submission,D&&D.fetcherSubmission,D&&D.replace,D&&D.initialHydration===!0,ke,re);ve||(x=null,Le(I,ot({matches:Pe||Se},Ws(re),{loaderData:$e,errors:xt})))}async function je(k,I,D,V,J,Se){Se===void 0&&(Se={}),it();let ke=Rf(I,D);if(me({navigation:ke},{flushSync:Se.flushSync===!0}),J){let re=await ce(V,I.pathname,k.signal);if(re.type==="aborted")return{shortCircuited:!0};if(re.type==="error"){let ve=Ri(re.partialMatches).route.id;return{matches:re.partialMatches,pendingActionResult:[ve,{type:Ye.error,error:re.error}]}}else if(re.matches)V=re.matches;else{let{notFoundMatches:ve,error:Pe,route:$e}=U(I.pathname);return{matches:ve,pendingActionResult:[$e.id,{type:Ye.error,error:Pe}]}}}let te,fe=Sr(V,I);if(!fe.route.action&&!fe.route.lazy)te={type:Ye.error,error:It(405,{method:k.method,pathname:I.pathname,routeId:fe.route.id})};else if(te=(await et("action",d,k,[fe],V,null))[fe.route.id],k.signal.aborted)return{shortCircuited:!0};if(Oi(te)){let re;return Se&&Se.replace!=null?re=Se.replace:re=qs(te.response.headers.get("Location"),new URL(k.url),h)===d.location.pathname+d.location.search,await Ze(k,te,!0,{submission:D,replace:re}),{shortCircuited:!0}}if(di(te))throw It(400,{type:"defer-action"});if(Gt(te)){let re=Ri(V,fe.route.id);return(Se&&Se.replace)!==!0&&(p=yt.Push),{matches:V,pendingActionResult:[re.route.id,te]}}return{matches:V,pendingActionResult:[fe.route.id,te]}}async function ne(k,I,D,V,J,Se,ke,te,fe,re,ve){let Pe=J||Ja(I,Se),$e=Se||ke||Js(Pe),xt=!ae&&(!g.v7_partialHydration||!fe);if(V){if(xt){let ut=Fe(ve);me(ot({navigation:Pe},ut!==void 0?{actionData:ut}:{}),{flushSync:re})}let We=await ce(D,I.pathname,k.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let ut=Ri(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[ut]:We.error}}}else if(We.matches)D=We.matches;else{let{error:ut,notFoundMatches:qi,route:mr}=U(I.pathname);return{matches:qi,loaderData:{},errors:{[mr.id]:ut}}}}let rt=s||o,[Ke,ft]=zs(t.history,d,D,$e,I,g.v7_partialHydration&&fe===!0,g.v7_skipActionErrorRevalidation,he,Ce,X,Me,Y,ie,rt,h,ve);if(B(We=>!(D&&D.some(ut=>ut.route.id===We))||Ke&&Ke.some(ut=>ut.route.id===We)),se=++$,Ke.length===0&&ft.length===0){let We=O();return Le(I,ot({matches:D,loaderData:{},errors:ve&&Gt(ve[1])?{[ve[0]]:ve[1].error}:null},Ws(ve),We?{fetchers:new Map(d.fetchers)}:{}),{flushSync:re}),{shortCircuited:!0}}if(xt){let We={};if(!V){We.navigation=Pe;let ut=Fe(ve);ut!==void 0&&(We.actionData=ut)}ft.length>0&&(We.fetchers=bt(ft)),me(We,{flushSync:re})}ft.forEach(We=>{H(We.key),We.controller&&j.set(We.key,We.controller)});let $i=()=>ft.forEach(We=>H(We.key));x&&x.signal.addEventListener("abort",$i);let{loaderResults:gr,fetcherResults:ei}=await tt(d,D,Ke,ft,k);if(k.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",$i),ft.forEach(We=>j.delete(We.key));let Xt=Yr(gr);if(Xt)return await Ze(k,Xt.result,!0,{replace:te}),{shortCircuited:!0};if(Xt=Yr(ei),Xt)return ie.add(Xt.key),await Ze(k,Xt.result,!0,{replace:te}),{shortCircuited:!0};let{loaderData:Za,errors:pr}=Zs(d,D,gr,ve,ft,ei,_e);_e.forEach((We,ut)=>{We.subscribe(qi=>{(qi||We.done)&&_e.delete(ut)})}),g.v7_partialHydration&&fe&&d.errors&&(pr=ot({},d.errors,pr));let Ti=O(),Xr=q(se),Jr=Ti||Xr||ft.length>0;return ot({matches:D,loaderData:Za,errors:pr},Jr?{fetchers:new Map(d.fetchers)}:{})}function Fe(k){if(k&&!Gt(k[1]))return{[k[0]]:k[1].data};if(d.actionData)return Object.keys(d.actionData).length===0?null:d.actionData}function bt(k){return k.forEach(I=>{let D=d.fetchers.get(I.key),V=_r(void 0,D?D.data:void 0);d.fetchers.set(I.key,V)}),new Map(d.fetchers)}function St(k,I,D,V){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");H(k);let J=(V&&V.flushSync)===!0,Se=s||o,ke=Gn(d.location,d.matches,h,g.v7_prependBasename,D,g.v7_relativeSplatPath,I,V==null?void 0:V.relative),te=Ki(Se,ke,h),fe=le(te,Se,ke);if(fe.active&&fe.matches&&(te=fe.matches),!te){st(k,I,It(404,{pathname:ke}),{flushSync:J});return}let{path:re,submission:ve,error:Pe}=Us(g.v7_normalizeFormMethod,!0,ke,V);if(Pe){st(k,I,Pe,{flushSync:J});return}let $e=Sr(te,re),xt=(V&&V.preventScrollReset)===!0;if(ve&&qt(ve.formMethod)){nt(k,I,re,$e,te,fe.active,J,xt,ve);return}Y.set(k,{routeId:I,path:re}),At(k,I,re,$e,te,fe.active,J,xt,ve)}async function nt(k,I,D,V,J,Se,ke,te,fe){it(),Y.delete(k);function re(mt){if(!mt.route.action&&!mt.route.lazy){let Vi=It(405,{method:fe.formMethod,pathname:D,routeId:I});return st(k,I,Vi,{flushSync:ke}),!0}return!1}if(!Se&&re(V))return;let ve=d.fetchers.get(k);Ve(k,Of(fe,ve),{flushSync:ke});let Pe=new AbortController,$e=Zi(t.history,D,Pe.signal,fe);if(Se){let mt=await ce(J,new URL($e.url).pathname,$e.signal,k);if(mt.type==="aborted")return;if(mt.type==="error"){st(k,I,mt.error,{flushSync:ke});return}else if(mt.matches){if(J=mt.matches,V=Sr(J,D),re(V))return}else{st(k,I,It(404,{pathname:D}),{flushSync:ke});return}}j.set(k,Pe);let xt=$,Ke=(await et("action",d,$e,[V],J,k))[V.route.id];if($e.signal.aborted){j.get(k)===Pe&&j.delete(k);return}if(g.v7_fetcherPersist&&Me.has(k)){if(Oi(Ke)||Gt(Ke)){Ve(k,ui(void 0));return}}else{if(Oi(Ke))if(j.delete(k),se>xt){Ve(k,ui(void 0));return}else return ie.add(k),Ve(k,_r(fe)),Ze($e,Ke,!1,{fetcherSubmission:fe,preventScrollReset:te});if(Gt(Ke)){st(k,I,Ke.error);return}}if(di(Ke))throw It(400,{type:"defer-action"});let ft=d.navigation.location||d.location,$i=Zi(t.history,ft,Pe.signal),gr=s||o,ei=d.navigation.state!=="idle"?Ki(gr,d.navigation.location,h):d.matches;at(ei,"Didn't find any matches after fetcher action");let Xt=++$;ee.set(k,Xt);let Za=_r(fe,Ke.data);d.fetchers.set(k,Za);let[pr,Ti]=zs(t.history,d,ei,fe,ft,!1,g.v7_skipActionErrorRevalidation,he,Ce,X,Me,Y,ie,gr,h,[V.route.id,Ke]);Ti.filter(mt=>mt.key!==k).forEach(mt=>{let Vi=mt.key,Ns=d.fetchers.get(Vi),Dl=_r(void 0,Ns?Ns.data:void 0);d.fetchers.set(Vi,Dl),H(Vi),mt.controller&&j.set(Vi,mt.controller)}),me({fetchers:new Map(d.fetchers)});let Xr=()=>Ti.forEach(mt=>H(mt.key));Pe.signal.addEventListener("abort",Xr);let{loaderResults:Jr,fetcherResults:We}=await tt(d,ei,pr,Ti,$i);if(Pe.signal.aborted)return;Pe.signal.removeEventListener("abort",Xr),ee.delete(k),j.delete(k),Ti.forEach(mt=>j.delete(mt.key));let ut=Yr(Jr);if(ut)return Ze($i,ut.result,!1,{preventScrollReset:te});if(ut=Yr(We),ut)return ie.add(ut.key),Ze($i,ut.result,!1,{preventScrollReset:te});let{loaderData:qi,errors:mr}=Zs(d,ei,Jr,void 0,Ti,We,_e);if(d.fetchers.has(k)){let mt=ui(Ke.data);d.fetchers.set(k,mt)}q(Xt),d.navigation.state==="loading"&&Xt>se?(at(p,"Expected pending action"),x&&x.abort(),Le(d.navigation.location,{matches:ei,loaderData:qi,errors:mr,fetchers:new Map(d.fetchers)})):(me({errors:mr,loaderData:Hs(d.loaderData,qi,ei,mr),fetchers:new Map(d.fetchers)}),he=!1)}async function At(k,I,D,V,J,Se,ke,te,fe){let re=d.fetchers.get(k);Ve(k,_r(fe,re?re.data:void 0),{flushSync:ke});let ve=new AbortController,Pe=Zi(t.history,D,ve.signal);if(Se){let Ke=await ce(J,new URL(Pe.url).pathname,Pe.signal,k);if(Ke.type==="aborted")return;if(Ke.type==="error"){st(k,I,Ke.error,{flushSync:ke});return}else if(Ke.matches)J=Ke.matches,V=Sr(J,D);else{st(k,I,It(404,{pathname:D}),{flushSync:ke});return}}j.set(k,ve);let $e=$,rt=(await et("loader",d,Pe,[V],J,k))[V.route.id];if(di(rt)&&(rt=await os(rt,Pe.signal,!0)||rt),j.get(k)===ve&&j.delete(k),!Pe.signal.aborted){if(Me.has(k)){Ve(k,ui(void 0));return}if(Oi(rt))if(se>$e){Ve(k,ui(void 0));return}else{ie.add(k),await Ze(Pe,rt,!1,{preventScrollReset:te});return}if(Gt(rt)){st(k,I,rt.error);return}at(!di(rt),"Unhandled fetcher deferred data"),Ve(k,ui(rt.data))}}async function Ze(k,I,D,V){let{submission:J,fetcherSubmission:Se,preventScrollReset:ke,replace:te}=V===void 0?{}:V;I.response.headers.has("X-Remix-Revalidate")&&(he=!0);let fe=I.response.headers.get("Location");at(fe,"Expected a Location header on the redirect Response"),fe=qs(fe,new URL(k.url),h);let re=Or(d.location,fe,{_isRedirect:!0});if(i){let Ke=!1;if(I.response.headers.has("X-Remix-Reload-Document"))Ke=!0;else if(ss.test(fe)){const ft=t.history.createURL(fe);Ke=ft.origin!==e.location.origin||Na(ft.pathname,h)==null}if(Ke){te?e.location.replace(fe):e.location.assign(fe);return}}x=null;let ve=te===!0||I.response.headers.has("X-Remix-Replace")?yt.Replace:yt.Push,{formMethod:Pe,formAction:$e,formEncType:xt}=d.navigation;!J&&!Se&&Pe&&$e&&xt&&(J=Js(d.navigation));let rt=J||Se;if(pf.has(I.response.status)&&rt&&qt(rt.formMethod))await xe(ve,re,{submission:ot({},rt,{formAction:fe}),preventScrollReset:ke||v,enableViewTransition:D?L:void 0});else{let Ke=Ja(re,J);await xe(ve,re,{overrideNavigation:Ke,fetcherSubmission:Se,preventScrollReset:ke||v,enableViewTransition:D?L:void 0})}}async function et(k,I,D,V,J,Se){let ke,te={};try{ke=await Sf(l,k,I,D,V,J,Se,n,a)}catch(fe){return V.forEach(re=>{te[re.route.id]={type:Ye.error,error:fe}}),te}for(let[fe,re]of Object.entries(ke))if(Cf(re)){let ve=re.result;te[fe]={type:Ye.redirect,response:Ef(ve,D,fe,J,h,g.v7_relativeSplatPath)}}else te[fe]=await Mf(re);return te}async function tt(k,I,D,V,J){let Se=k.matches,ke=et("loader",k,J,D,I,null),te=Promise.all(V.map(async ve=>{if(ve.matches&&ve.match&&ve.controller){let $e=(await et("loader",k,Zi(t.history,ve.path,ve.controller.signal),[ve.match],ve.matches,ve.key))[ve.match.route.id];return{[ve.key]:$e}}else return Promise.resolve({[ve.key]:{type:Ye.error,error:It(404,{pathname:ve.path})}})})),fe=await ke,re=(await te).reduce((ve,Pe)=>Object.assign(ve,Pe),{});return await Promise.all([If(I,fe,J.signal,Se,k.loaderData),Nf(I,re,V)]),{loaderResults:fe,fetcherResults:re}}function it(){he=!0,Ce.push(...B()),Y.forEach((k,I)=>{j.has(I)&&X.add(I),H(I)})}function Ve(k,I,D){D===void 0&&(D={}),d.fetchers.set(k,I),me({fetchers:new Map(d.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function st(k,I,D,V){V===void 0&&(V={});let J=Ri(d.matches,I);w(k),me({errors:{[J.route.id]:D},fetchers:new Map(d.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Dt(k){return Te.set(k,(Te.get(k)||0)+1),Me.has(k)&&Me.delete(k),d.fetchers.get(k)||mf}function w(k){let I=d.fetchers.get(k);j.has(k)&&!(I&&I.state==="loading"&&ee.has(k))&&H(k),Y.delete(k),ee.delete(k),ie.delete(k),g.v7_fetcherPersist&&Me.delete(k),X.delete(k),d.fetchers.delete(k)}function Z(k){let I=(Te.get(k)||0)-1;I<=0?(Te.delete(k),Me.add(k),g.v7_fetcherPersist||w(k)):Te.set(k,I),me({fetchers:new Map(d.fetchers)})}function H(k){let I=j.get(k);I&&(I.abort(),j.delete(k))}function ue(k){for(let I of k){let D=Dt(I),V=ui(D.data);d.fetchers.set(I,V)}}function O(){let k=[],I=!1;for(let D of ie){let V=d.fetchers.get(D);at(V,"Expected fetcher: "+D),V.state==="loading"&&(ie.delete(D),k.push(D),I=!0)}return ue(k),I}function q(k){let I=[];for(let[D,V]of ee)if(V<k){let J=d.fetchers.get(D);at(J,"Expected fetcher: "+D),J.state==="loading"&&(H(D),ee.delete(D),I.push(D))}return ue(I),I.length>0}function m(k,I){let D=d.blockers.get(k)||vr;return Ie.get(k)!==I&&Ie.set(k,I),D}function W(k){d.blockers.delete(k),Ie.delete(k)}function Ee(k,I){let D=d.blockers.get(k)||vr;at(D.state==="unblocked"&&I.state==="blocked"||D.state==="blocked"&&I.state==="blocked"||D.state==="blocked"&&I.state==="proceeding"||D.state==="blocked"&&I.state==="unblocked"||D.state==="proceeding"&&I.state==="unblocked","Invalid blocker state transition: "+D.state+" -> "+I.state);let V=new Map(d.blockers);V.set(k,I),me({blockers:V})}function f(k){let{currentLocation:I,nextLocation:D,historyAction:V}=k;if(Ie.size===0)return;Ie.size>1&&nr(!1,"A router only supports one blocker at a time");let J=Array.from(Ie.entries()),[Se,ke]=J[J.length-1],te=d.blockers.get(Se);if(!(te&&te.state==="proceeding")&&ke({currentLocation:I,nextLocation:D,historyAction:V}))return Se}function U(k){let I=It(404,{pathname:k}),D=s||o,{matches:V,route:J}=Ks(D);return B(),{notFoundMatches:V,route:J,error:I}}function B(k){let I=[];return _e.forEach((D,V)=>{(!k||k(V))&&(D.cancel(),I.push(V),_e.delete(V))}),I}function _(k,I,D){if(S=k,A=I,P=D||null,!b&&d.navigation===Xa){b=!0;let V=ye(d.location,d.matches);V!=null&&me({restoreScrollPosition:V})}return()=>{S=null,A=null,P=null}}function T(k,I){return P&&P(k,I.map(V=>ql(V,d.loaderData)))||k.key}function F(k,I){if(S&&A){let D=T(k,I);S[D]=A()}}function ye(k,I){if(S){let D=T(k,I),V=S[D];if(typeof V=="number")return V}return null}function le(k,I,D){if(u)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:sa(I,D,h,!0)}}else return{active:!0,matches:sa(I,D,h,!0)||[]};return{active:!1,matches:null}}async function ce(k,I,D,V){if(!u)return{type:"success",matches:k};let J=k;for(;;){let Se=s==null,ke=s||o,te=n;try{await u({signal:D,path:I,matches:J,fetcherKey:V,patch:(ve,Pe)=>{D.aborted||$s(ve,Pe,ke,te,a)}})}catch(ve){return{type:"error",error:ve,partialMatches:J}}finally{Se&&!D.aborted&&(o=[...o])}if(D.aborted)return{type:"aborted"};let fe=Ki(ke,I,h);if(fe)return{type:"success",matches:fe};let re=sa(ke,I,h,!0);if(!re||J.length===re.length&&J.every((ve,Pe)=>ve.route.id===re[Pe].route.id))return{type:"success",matches:null};J=re}}function qe(k){n={},s=da(k,a,void 0,n)}function jt(k,I){let D=s==null;$s(k,I,s||o,n,a),D&&(o=[...o],me({}))}return C={get basename(){return h},get future(){return g},get state(){return d},get routes(){return o},get window(){return e},initialize:Ae,subscribe:be,enableScrollRestoration:_,navigate:Ue,fetch:St,revalidate:De,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:Dt,deleteFetcher:Z,dispose:ze,getBlocker:m,deleteBlocker:W,patchRoutes:jt,_internalFetchControllers:j,_internalActiveDeferreds:_e,_internalSetRoutes:qe},C}function _f(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Gn(t,e,i,r,a,n,o,s){let h,l;if(o){h=[];for(let g of e)if(h.push(g),g.route.id===o){l=g;break}}else h=e,l=e[e.length-1];let u=of(a||".",sf(h,n),Na(t.pathname,i)||t.pathname,s==="path");if(a==null&&(u.search=t.search,u.hash=t.hash),(a==null||a===""||a===".")&&l){let g=hs(u.search);if(l.route.index&&!g)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&g){let c=new URLSearchParams(u.search),y=c.getAll("index");c.delete("index"),y.filter(P=>P).forEach(P=>c.append("index",P));let S=c.toString();u.search=S?"?"+S:""}}return r&&i!=="/"&&(u.pathname=u.pathname==="/"?i:kr([i,u.pathname])),$r(u)}function Us(t,e,i,r){if(!r||!_f(r))return{path:i};if(r.formMethod&&!Tf(r.formMethod))return{path:i,error:It(405,{method:r.formMethod})};let a=()=>({path:i,error:It(400,{type:"invalid-body"})}),n=r.formMethod||"get",o=t?n.toUpperCase():n.toLowerCase(),s=zh(i);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!qt(o))return a();let c=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,S)=>{let[P,A]=S;return""+y+P+"="+A+`
`},""):String(r.body);return{path:i,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:c}}}else if(r.formEncType==="application/json"){if(!qt(o))return a();try{let c=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:i,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:c,text:void 0}}}catch{return a()}}}at(typeof FormData=="function","FormData is not available in this environment");let h,l;if(r.formData)h=Dn(r.formData),l=r.formData;else if(r.body instanceof FormData)h=Dn(r.body),l=r.body;else if(r.body instanceof URLSearchParams)h=r.body,l=Vs(h);else if(r.body==null)h=new URLSearchParams,l=new FormData;else try{h=new URLSearchParams(r.body),l=Vs(h)}catch{return a()}let u={formMethod:o,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(qt(u.formMethod))return{path:i,submission:u};let g=Bi(i);return e&&g.search&&hs(g.search)&&h.append("index",""),g.search="?"+h,{path:$r(g),submission:u}}function Bs(t,e,i){i===void 0&&(i=!1);let r=t.findIndex(a=>a.route.id===e);return r>=0?t.slice(0,i?r+1:r):t}function zs(t,e,i,r,a,n,o,s,h,l,u,g,c,y,S,P){let A=P?Gt(P[1])?P[1].error:P[1].data:void 0,b=t.createURL(e.location),M=t.createURL(a),G=i;n&&e.errors?G=Bs(i,Object.keys(e.errors)[0],!0):P&&Gt(P[1])&&(G=Bs(i,P[0]));let z=P?P[1].statusCode:void 0,E=o&&z&&z>=400,C=G.filter((p,v)=>{let{route:x}=p;if(x.lazy)return!0;if(x.loader==null)return!1;if(n)return Ln(x,e.loaderData,e.errors);if(yf(e.loaderData,e.matches[v],p)||h.some(N=>N===p.route.id))return!0;let L=e.matches[v],R=p;return js(p,ot({currentUrl:b,currentParams:L.params,nextUrl:M,nextParams:R.params},r,{actionResult:A,actionStatus:z,defaultShouldRevalidate:E?!1:s||b.pathname+b.search===M.pathname+M.search||b.search!==M.search||Uh(L,R)}))}),d=[];return g.forEach((p,v)=>{if(n||!i.some(ae=>ae.route.id===p.routeId)||u.has(v))return;let x=Ki(y,p.path,S);if(!x){d.push({key:v,routeId:p.routeId,path:p.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(v),R=Sr(x,p.path),N=!1;c.has(v)?N=!1:l.has(v)?(l.delete(v),N=!0):L&&L.state!=="idle"&&L.data===void 0?N=s:N=js(R,ot({currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:M,nextParams:i[i.length-1].params},r,{actionResult:A,actionStatus:z,defaultShouldRevalidate:E?!1:s})),N&&d.push({key:v,routeId:p.routeId,path:p.path,matches:x,match:R,controller:new AbortController})}),[C,d]}function Ln(t,e,i){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,a=i!=null&&i[t.id]!==void 0;return!r&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!a}function yf(t,e,i){let r=!e||i.route.id!==e.route.id,a=t[i.route.id]===void 0;return r||a}function Uh(t,e){let i=t.route.path;return t.pathname!==e.pathname||i!=null&&i.endsWith("*")&&t.params["*"]!==e.params["*"]}function js(t,e){if(t.route.shouldRevalidate){let i=t.route.shouldRevalidate(e);if(typeof i=="boolean")return i}return e.defaultShouldRevalidate}function $s(t,e,i,r,a){var n;let o;if(t){let l=r[t];at(l,"No route found to patch children into: routeId = "+t),l.children||(l.children=[]),o=l.children}else o=i;let s=e.filter(l=>!o.some(u=>Bh(l,u))),h=da(s,a,[t||"_","patch",String(((n=o)==null?void 0:n.length)||"0")],r);o.push(...h)}function Bh(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((i,r)=>{var a;return(a=e.children)==null?void 0:a.some(n=>Bh(i,n))}):!1}async function wf(t,e,i){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let a=i[t.id];at(a,"No route found in manifest");let n={};for(let o in r){let h=a[o]!==void 0&&o!=="hasErrorBoundary";nr(!h,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!h&&!jl.has(o)&&(n[o]=r[o])}Object.assign(a,n),Object.assign(a,ot({},e(a),{lazy:void 0}))}async function bf(t){let{matches:e}=t,i=e.filter(a=>a.shouldLoad);return(await Promise.all(i.map(a=>a.resolve()))).reduce((a,n,o)=>Object.assign(a,{[i[o].route.id]:n}),{})}async function Sf(t,e,i,r,a,n,o,s,h,l){let u=n.map(y=>y.route.lazy?wf(y.route,h,s):void 0),g=n.map((y,S)=>{let P=u[S],A=a.some(M=>M.route.id===y.route.id);return ot({},y,{shouldLoad:A,resolve:async M=>(M&&r.method==="GET"&&(y.route.lazy||y.route.loader)&&(A=!0),A?xf(e,r,y,P,M,l):Promise.resolve({type:Ye.data,result:void 0}))})}),c=await t({matches:g,request:r,params:n[0].params,fetcherKey:o,context:l});try{await Promise.all(u)}catch{}return c}async function xf(t,e,i,r,a,n){let o,s,h=l=>{let u,g=new Promise((S,P)=>u=P);s=()=>u(),e.signal.addEventListener("abort",s);let c=S=>typeof l!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+i.route.id+"]"))):l({request:e,params:i.params,context:n},...S!==void 0?[S]:[]),y=(async()=>{try{return{type:"data",result:await(a?a(P=>c(P)):c())}}catch(S){return{type:"error",result:S}}})();return Promise.race([y,g])};try{let l=i.route[t];if(r)if(l){let u,[g]=await Promise.all([h(l).catch(c=>{u=c}),r]);if(u!==void 0)throw u;o=g}else if(await r,l=i.route[t],l)o=await h(l);else if(t==="action"){let u=new URL(e.url),g=u.pathname+u.search;throw It(405,{method:e.method,pathname:g,routeId:i.route.id})}else return{type:Ye.data,result:void 0};else if(l)o=await h(l);else{let u=new URL(e.url),g=u.pathname+u.search;throw It(404,{pathname:g})}at(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+i.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(l){return{type:Ye.error,result:l}}finally{s&&e.signal.removeEventListener("abort",s)}return o}async function Mf(t){let{result:e,type:i}=t;if(jh(e)){let g;try{let c=e.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(c){return{type:Ye.error,error:c}}return i===Ye.error?{type:Ye.error,error:new On(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:Ye.data,data:g,statusCode:e.status,headers:e.headers}}if(i===Ye.error){if(Xs(e)){var r,a;if(e.data instanceof Error){var n,o;return{type:Ye.error,error:e.data,statusCode:(n=e.init)==null?void 0:n.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Ye.error,error:new On(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:ga(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:Ye.error,error:e,statusCode:ga(e)?e.status:void 0}}if(Af(e)){var s,h;return{type:Ye.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((h=e.init)==null?void 0:h.headers)&&new Headers(e.init.headers)}}if(Xs(e)){var l,u;return{type:Ye.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Ye.data,data:e}}function Ef(t,e,i,r,a,n){let o=t.headers.get("Location");if(at(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ss.test(o)){let s=r.slice(0,r.findIndex(h=>h.route.id===i)+1);o=Gn(new URL(e.url),s,a,!0,o,n),t.headers.set("Location",o)}return t}function qs(t,e,i){if(ss.test(t)){let r=t,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),n=Na(a.pathname,i)!=null;if(a.origin===e.origin&&n)return a.pathname+a.search+a.hash}return t}function Zi(t,e,i,r){let a=t.createURL(zh(e)).toString(),n={signal:i};if(r&&qt(r.formMethod)){let{formMethod:o,formEncType:s}=r;n.method=o.toUpperCase(),s==="application/json"?(n.headers=new Headers({"Content-Type":s}),n.body=JSON.stringify(r.json)):s==="text/plain"?n.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?n.body=Dn(r.formData):n.body=r.formData}return new Request(a,n)}function Dn(t){let e=new URLSearchParams;for(let[i,r]of t.entries())e.append(i,typeof r=="string"?r:r.name);return e}function Vs(t){let e=new FormData;for(let[i,r]of t.entries())e.append(i,r);return e}function Pf(t,e,i,r,a){let n={},o=null,s,h=!1,l={},u=i&&Gt(i[1])?i[1].error:void 0;return t.forEach(g=>{if(!(g.route.id in e))return;let c=g.route.id,y=e[c];if(at(!Oi(y),"Cannot handle redirect results in processLoaderData"),Gt(y)){let S=y.error;u!==void 0&&(S=u,u=void 0),o=o||{};{let P=Ri(t,c);o[P.route.id]==null&&(o[P.route.id]=S)}n[c]=void 0,h||(h=!0,s=ga(y.error)?y.error.status:500),y.headers&&(l[c]=y.headers)}else di(y)?(r.set(c,y.deferredData),n[c]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!h&&(s=y.statusCode),y.headers&&(l[c]=y.headers)):(n[c]=y.data,y.statusCode&&y.statusCode!==200&&!h&&(s=y.statusCode),y.headers&&(l[c]=y.headers))}),u!==void 0&&i&&(o={[i[0]]:u},n[i[0]]=void 0),{loaderData:n,errors:o,statusCode:s||200,loaderHeaders:l}}function Zs(t,e,i,r,a,n,o){let{loaderData:s,errors:h}=Pf(e,i,r,o);return a.forEach(l=>{let{key:u,match:g,controller:c}=l,y=n[u];if(at(y,"Did not find corresponding fetcher result"),!(c&&c.signal.aborted))if(Gt(y)){let S=Ri(t.matches,g==null?void 0:g.route.id);h&&h[S.route.id]||(h=ot({},h,{[S.route.id]:y.error})),t.fetchers.delete(u)}else if(Oi(y))at(!1,"Unhandled fetcher revalidation redirect");else if(di(y))at(!1,"Unhandled fetcher deferred data");else{let S=ui(y.data);t.fetchers.set(u,S)}}),{loaderData:s,errors:h}}function Hs(t,e,i,r){let a=ot({},e);for(let n of i){let o=n.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(a[o]=e[o]):t[o]!==void 0&&n.route.loader&&(a[o]=t[o]),r&&r.hasOwnProperty(o))break}return a}function Ws(t){return t?Gt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ri(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ks(t){let e=t.length===1?t[0]:t.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function It(t,e){let{pathname:i,routeId:r,method:a,type:n,message:o}=e===void 0?{}:e,s="Unknown Server Error",h="Unknown @remix-run/router error";return t===400?(s="Bad Request",a&&i&&r?h="You made a "+a+' request to "'+i+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":n==="defer-action"?h="defer() is not supported in actions":n==="invalid-body"&&(h="Unable to encode submission body")):t===403?(s="Forbidden",h='Route "'+r+'" does not match URL "'+i+'"'):t===404?(s="Not Found",h='No route matches URL "'+i+'"'):t===405&&(s="Method Not Allowed",a&&i&&r?h="You made a "+a.toUpperCase()+' request to "'+i+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(h='Invalid request method "'+a.toUpperCase()+'"')),new On(t||500,s,new Error(h),!0)}function Yr(t){let e=Object.entries(t);for(let i=e.length-1;i>=0;i--){let[r,a]=e[i];if(Oi(a))return{key:r,result:a}}}function zh(t){let e=typeof t=="string"?Bi(t):t;return $r(ot({},e,{hash:""}))}function kf(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Cf(t){return jh(t.result)&&gf.has(t.result.status)}function di(t){return t.type===Ye.deferred}function Gt(t){return t.type===Ye.error}function Oi(t){return(t&&t.type)===Ye.redirect}function Xs(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Af(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function jh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body!="undefined"}function Tf(t){return df.has(t.toLowerCase())}function qt(t){return uf.has(t.toLowerCase())}async function If(t,e,i,r,a){let n=Object.entries(e);for(let o=0;o<n.length;o++){let[s,h]=n[o],l=t.find(c=>(c==null?void 0:c.route.id)===s);if(!l)continue;let u=r.find(c=>c.route.id===l.route.id),g=u!=null&&!Uh(u,l)&&(a&&a[l.route.id])!==void 0;di(h)&&g&&await os(h,i,!1).then(c=>{c&&(e[s]=c)})}}async function Nf(t,e,i){for(let r=0;r<i.length;r++){let{key:a,routeId:n,controller:o}=i[r],s=e[a];t.find(l=>(l==null?void 0:l.route.id)===n)&&di(s)&&(at(o,"Expected an AbortController for revalidating fetcher deferred result"),await os(s,o.signal,!0).then(l=>{l&&(e[a]=l)}))}}async function os(t,e,i){if(i===void 0&&(i=!1),!await t.deferredData.resolveData(e)){if(i)try{return{type:Ye.data,data:t.deferredData.unwrappedData}}catch(a){return{type:Ye.error,error:a}}return{type:Ye.data,data:t.deferredData.data}}}function hs(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Sr(t,e){let i=typeof e=="string"?Bi(e).search:e.search;if(t[t.length-1].route.index&&hs(i||""))return t[t.length-1];let r=Lh(t);return r[r.length-1]}function Js(t){let{formMethod:e,formAction:i,formEncType:r,text:a,formData:n,json:o}=t;if(!(!e||!i||!r)){if(a!=null)return{formMethod:e,formAction:i,formEncType:r,formData:void 0,json:void 0,text:a};if(n!=null)return{formMethod:e,formAction:i,formEncType:r,formData:n,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:i,formEncType:r,formData:void 0,json:o,text:void 0}}}function Ja(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Rf(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _r(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Of(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ui(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Gf(t,e){try{let i=t.sessionStorage.getItem(Fh);if(i){let r=JSON.parse(i);for(let[a,n]of Object.entries(r||{}))n&&Array.isArray(n)&&e.set(a,new Set(n||[]))}}catch{}}function Lf(t,e){if(e.size>0){let i={};for(let[r,a]of e)i[r]=[...a];try{t.sessionStorage.setItem(Fh,JSON.stringify(i))}catch(r){nr(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}var Ya={exports:{}},Qa,Ys;function Df(){if(Ys)return Qa;Ys=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qa=t,Qa}var en,Qs;function Ff(){if(Qs)return en;Qs=1;var t=Df();function e(){}function i(){}return i.resetWarningCache=e,en=function(){function r(o,s,h,l,u,g){if(g!==t){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}r.isRequired=r;function a(){return r}var n={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:i,resetWarningCache:e};return n.PropTypes=n,n},en}var eo;function Uf(){return eo||(eo=1,Ya.exports=Ff()()),Ya.exports}var Bf=Uf();const kp=Ia(Bf);var oa={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var zf=oa.exports,to;function jf(){return to||(to=1,(function(t,e){((i,r)=>{t.exports=r()})(zf,function i(){var r=typeof self!="undefined"?self:typeof window!="undefined"?window:r!==void 0?r:{},a,n=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,s={},h=0,l={};function u(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(v){var x=E(v);x.chunkSize=parseInt(x.chunkSize),v.step||v.chunk||(x.chunkSize=null),this._handle=new P(x),(this._handle.streamer=this)._config=x}.call(this,p),this.parseChunk=function(v,x){var L=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<L){let N=this._config.newline;N||(R=this._config.quoteChar||'"',N=this._handle.guessLineEndings(v,R)),v=[...v.split(N).slice(L)].join(N)}this.isFirstChunk&&d(this._config.beforeFirstChunk)&&(R=this._config.beforeFirstChunk(v))!==void 0&&(v=R),this.isFirstChunk=!1,this._halted=!1;var L=this._partialLine+v,R=(this._partialLine="",this._handle.parse(L,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(v=R.meta.cursor,L=(this._finished||(this._partialLine=L.substring(v-this._baseIndex),this._baseIndex=v),R&&R.data&&(this._rowCount+=R.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:R,workerId:l.WORKER_ID,finished:L});else if(d(this._config.chunk)&&!x){if(this._config.chunk(R,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=R=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(R.data),this._completeResults.errors=this._completeResults.errors.concat(R.errors),this._completeResults.meta=R.meta),this._completed||!L||!d(this._config.complete)||R&&R.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),L||R&&R.meta.paused||this._nextChunk(),R}this._halted=!0},this._sendError=function(v){d(this._config.error)?this._config.error(v):o&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:v,finished:!1})}}function g(p){var v;(p=p||{}).chunkSize||(p.chunkSize=l.RemoteChunkSize),u.call(this,p),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(x){this._input=x,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(v=new XMLHttpRequest,this._config.withCredentials&&(v.withCredentials=this._config.withCredentials),n||(v.onload=C(this._chunkLoaded,this),v.onerror=C(this._chunkError,this)),v.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var x,L=this._config.downloadRequestHeaders;for(x in L)v.setRequestHeader(x,L[x])}var R;this._config.chunkSize&&(R=this._start+this._config.chunkSize-1,v.setRequestHeader("Range","bytes="+this._start+"-"+R));try{v.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}n&&v.status===0&&this._chunkError()}},this._chunkLoaded=function(){v.readyState===4&&(v.status<200||400<=v.status?this._chunkError():(this._start+=this._config.chunkSize||v.responseText.length,this._finished=!this._config.chunkSize||this._start>=(x=>(x=x.getResponseHeader("Content-Range"))!==null?parseInt(x.substring(x.lastIndexOf("/")+1)):-1)(v),this.parseChunk(v.responseText)))},this._chunkError=function(x){x=v.statusText||x,this._sendError(new Error(x))}}function c(p){(p=p||{}).chunkSize||(p.chunkSize=l.LocalChunkSize),u.call(this,p);var v,x,L=typeof FileReader!="undefined";this.stream=function(R){this._input=R,x=R.slice||R.webkitSlice||R.mozSlice,L?((v=new FileReader).onload=C(this._chunkLoaded,this),v.onerror=C(this._chunkError,this)):v=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var R=this._input,N=(this._config.chunkSize&&(N=Math.min(this._start+this._config.chunkSize,this._input.size),R=x.call(R,this._start,N)),v.readAsText(R,this._config.encoding));L||this._chunkLoaded({target:{result:N}})},this._chunkLoaded=function(R){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(R.target.result)},this._chunkError=function(){this._sendError(v.error)}}function y(p){var v;u.call(this,p=p||{}),this.stream=function(x){return v=x,this._nextChunk()},this._nextChunk=function(){var x,L;if(!this._finished)return x=this._config.chunkSize,v=x?(L=v.substring(0,x),v.substring(x)):(L=v,""),this._finished=!v,this.parseChunk(L)}}function S(p){u.call(this,p=p||{});var v=[],x=!0,L=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(R){this._input=R,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){L&&v.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),v.length?this.parseChunk(v.shift()):x=!0},this._streamData=C(function(R){try{v.push(typeof R=="string"?R:R.toString(this._config.encoding)),x&&(x=!1,this._checkIsFinished(),this.parseChunk(v.shift()))}catch(N){this._streamError(N)}},this),this._streamError=C(function(R){this._streamCleanUp(),this._sendError(R)},this),this._streamEnd=C(function(){this._streamCleanUp(),L=!0,this._streamData("")},this),this._streamCleanUp=C(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function P(p){var v,x,L,R,N=Math.pow(2,53),ae=-N,he=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ce=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,X=this,j=0,$=0,se=!1,ee=!1,ie=[],Y={data:[],errors:[],meta:{}};function Te(ge){return p.skipEmptyLines==="greedy"?ge.join("").trim()==="":ge.length===1&&ge[0].length===0}function Me(){if(Y&&L&&(Ie("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),L=!1),p.skipEmptyLines&&(Y.data=Y.data.filter(function(be){return!Te(be)})),_e()){let be=function(me,Le){d(p.transformHeader)&&(me=p.transformHeader(me,Le)),ie.push(me)};if(Y)if(Array.isArray(Y.data[0])){for(var ge=0;_e()&&ge<Y.data.length;ge++)Y.data[ge].forEach(be);Y.data.splice(0,1)}else Y.data.forEach(be)}function Ae(be,me){for(var Le=p.header?{}:[],Ue=0;Ue<be.length;Ue++){var De=Ue,xe=be[Ue],xe=((je,ne)=>(Fe=>(p.dynamicTypingFunction&&p.dynamicTyping[Fe]===void 0&&(p.dynamicTyping[Fe]=p.dynamicTypingFunction(Fe)),(p.dynamicTyping[Fe]||p.dynamicTyping)===!0))(je)?ne==="true"||ne==="TRUE"||ne!=="false"&&ne!=="FALSE"&&((Fe=>{if(he.test(Fe)&&(Fe=parseFloat(Fe),ae<Fe&&Fe<N))return 1})(ne)?parseFloat(ne):Ce.test(ne)?new Date(ne):ne===""?null:ne):ne)(De=p.header?Ue>=ie.length?"__parsed_extra":ie[Ue]:De,xe=p.transform?p.transform(xe,De):xe);De==="__parsed_extra"?(Le[De]=Le[De]||[],Le[De].push(xe)):Le[De]=xe}return p.header&&(Ue>ie.length?Ie("FieldMismatch","TooManyFields","Too many fields: expected "+ie.length+" fields but parsed "+Ue,$+me):Ue<ie.length&&Ie("FieldMismatch","TooFewFields","Too few fields: expected "+ie.length+" fields but parsed "+Ue,$+me)),Le}var ze;Y&&(p.header||p.dynamicTyping||p.transform)&&(ze=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(Ae),ze=Y.data.length):Y.data=Ae(Y.data,0),p.header&&Y.meta&&(Y.meta.fields=ie),$+=ze)}function _e(){return p.header&&ie.length===0}function Ie(ge,Ae,ze,be){ge={type:ge,code:Ae,message:ze},be!==void 0&&(ge.row=be),Y.errors.push(ge)}d(p.step)&&(R=p.step,p.step=function(ge){Y=ge,_e()?Me():(Me(),Y.data.length!==0&&(j+=ge.data.length,p.preview&&j>p.preview?x.abort():(Y.data=Y.data[0],R(Y,X))))}),this.parse=function(ge,Ae,ze){var be=p.quoteChar||'"',be=(p.newline||(p.newline=this.guessLineEndings(ge,be)),L=!1,p.delimiter?d(p.delimiter)&&(p.delimiter=p.delimiter(ge),Y.meta.delimiter=p.delimiter):((be=((me,Le,Ue,De,xe)=>{var je,ne,Fe,bt;xe=xe||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var St=0;St<xe.length;St++){for(var nt,At=xe[St],Ze=0,et=0,tt=0,it=(Fe=void 0,new b({comments:De,delimiter:At,newline:Le,preview:10}).parse(me)),Ve=0;Ve<it.data.length;Ve++)Ue&&Te(it.data[Ve])?tt++:(nt=it.data[Ve].length,et+=nt,Fe===void 0?Fe=nt:0<nt&&(Ze+=Math.abs(nt-Fe),Fe=nt));0<it.data.length&&(et/=it.data.length-tt),(ne===void 0||Ze<=ne)&&(bt===void 0||bt<et)&&1.99<et&&(ne=Ze,je=At,bt=et)}return{successful:!!(p.delimiter=je),bestDelimiter:je}})(ge,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=be.bestDelimiter:(L=!0,p.delimiter=l.DefaultDelimiter),Y.meta.delimiter=p.delimiter),E(p));return p.preview&&p.header&&be.preview++,v=ge,x=new b(be),Y=x.parse(v,Ae,ze),Me(),se?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return se},this.pause=function(){se=!0,x.abort(),v=d(p.chunk)?"":v.substring(x.getCharIndex())},this.resume=function(){X.streamer._halted?(se=!1,X.streamer.parseChunk(v,!0)):setTimeout(X.resume,3)},this.aborted=function(){return ee},this.abort=function(){ee=!0,x.abort(),Y.meta.aborted=!0,d(p.complete)&&p.complete(Y),v=""},this.guessLineEndings=function(me,be){me=me.substring(0,1048576);var be=new RegExp(A(be)+"([^]*?)"+A(be),"gm"),ze=(me=me.replace(be,"")).split("\r"),be=me.split(`
`),me=1<be.length&&be[0].length<ze[0].length;if(ze.length===1||me)return`
`;for(var Le=0,Ue=0;Ue<ze.length;Ue++)ze[Ue][0]===`
`&&Le++;return Le>=ze.length/2?`\r
`:"\r"}}function A(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(p){var v=(p=p||{}).delimiter,x=p.newline,L=p.comments,R=p.step,N=p.preview,ae=p.fastMode,he=null,Ce=!1,X=p.quoteChar==null?'"':p.quoteChar,j=X;if(p.escapeChar!==void 0&&(j=p.escapeChar),(typeof v!="string"||-1<l.BAD_DELIMITERS.indexOf(v))&&(v=","),L===v)throw new Error("Comment character same as delimiter");L===!0?L="#":(typeof L!="string"||-1<l.BAD_DELIMITERS.indexOf(L))&&(L=!1),x!==`
`&&x!=="\r"&&x!==`\r
`&&(x=`
`);var $=0,se=!1;this.parse=function(ee,ie,Y){if(typeof ee!="string")throw new Error("Input must be a string");var Te=ee.length,Me=v.length,_e=x.length,Ie=L.length,ge=d(R),Ae=[],ze=[],be=[],me=$=0;if(!ee)return Ze();if(ae||ae!==!1&&ee.indexOf(X)===-1){for(var Le=ee.split(x),Ue=0;Ue<Le.length;Ue++){if(be=Le[Ue],$+=be.length,Ue!==Le.length-1)$+=x.length;else if(Y)return Ze();if(!L||be.substring(0,Ie)!==L){if(ge){if(Ae=[],bt(be.split(v)),et(),se)return Ze()}else bt(be.split(v));if(N&&N<=Ue)return Ae=Ae.slice(0,N),Ze(!0)}}return Ze()}for(var De=ee.indexOf(v,$),xe=ee.indexOf(x,$),je=new RegExp(A(j)+A(X),"g"),ne=ee.indexOf(X,$);;)if(ee[$]===X)for(ne=$,$++;;){if((ne=ee.indexOf(X,ne+1))===-1)return Y||ze.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ae.length,index:$}),nt();if(ne===Te-1)return nt(ee.substring($,ne).replace(je,X));if(X===j&&ee[ne+1]===j)ne++;else if(X===j||ne===0||ee[ne-1]!==j){De!==-1&&De<ne+1&&(De=ee.indexOf(v,ne+1));var Fe=St((xe=xe!==-1&&xe<ne+1?ee.indexOf(x,ne+1):xe)===-1?De:Math.min(De,xe));if(ee.substr(ne+1+Fe,Me)===v){be.push(ee.substring($,ne).replace(je,X)),ee[$=ne+1+Fe+Me]!==X&&(ne=ee.indexOf(X,$)),De=ee.indexOf(v,$),xe=ee.indexOf(x,$);break}if(Fe=St(xe),ee.substring(ne+1+Fe,ne+1+Fe+_e)===x){if(be.push(ee.substring($,ne).replace(je,X)),At(ne+1+Fe+_e),De=ee.indexOf(v,$),ne=ee.indexOf(X,$),ge&&(et(),se))return Ze();if(N&&Ae.length>=N)return Ze(!0);break}ze.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ae.length,index:$}),ne++}}else if(L&&be.length===0&&ee.substring($,$+Ie)===L){if(xe===-1)return Ze();$=xe+_e,xe=ee.indexOf(x,$),De=ee.indexOf(v,$)}else if(De!==-1&&(De<xe||xe===-1))be.push(ee.substring($,De)),$=De+Me,De=ee.indexOf(v,$);else{if(xe===-1)break;if(be.push(ee.substring($,xe)),At(xe+_e),ge&&(et(),se))return Ze();if(N&&Ae.length>=N)return Ze(!0)}return nt();function bt(tt){Ae.push(tt),me=$}function St(tt){var it=0;return it=tt!==-1&&(tt=ee.substring(ne+1,tt))&&tt.trim()===""?tt.length:it}function nt(tt){return Y||(tt===void 0&&(tt=ee.substring($)),be.push(tt),$=Te,bt(be),ge&&et()),Ze()}function At(tt){$=tt,bt(be),be=[],xe=ee.indexOf(x,$)}function Ze(tt){if(p.header&&!ie&&Ae.length&&!Ce){var it=Ae[0],Ve=Object.create(null),st=new Set(it);let Dt=!1;for(let w=0;w<it.length;w++){let Z=it[w];if(Ve[Z=d(p.transformHeader)?p.transformHeader(Z,w):Z]){let H,ue=Ve[Z];for(;H=Z+"_"+ue,ue++,st.has(H););st.add(H),it[w]=H,Ve[Z]++,Dt=!0,(he=he===null?{}:he)[H]=Z}else Ve[Z]=1,it[w]=Z;st.add(Z)}Dt&&console.warn("Duplicate headers found and renamed."),Ce=!0}return{data:Ae,errors:ze,meta:{delimiter:v,linebreak:x,aborted:se,truncated:!!tt,cursor:me+(ie||0),renamedHeaders:he}}}function et(){R(Ze()),Ae=[],ze=[]}},this.abort=function(){se=!0},this.getCharIndex=function(){return $}}function M(p){var v=p.data,x=s[v.workerId],L=!1;if(v.error)x.userError(v.error,v.file);else if(v.results&&v.results.data){var R={abort:function(){L=!0,G(v.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:z,resume:z};if(d(x.userStep)){for(var N=0;N<v.results.data.length&&(x.userStep({data:v.results.data[N],errors:v.results.errors,meta:v.results.meta},R),!L);N++);delete v.results}else d(x.userChunk)&&(x.userChunk(v.results,R,v.file),delete v.results)}v.finished&&!L&&G(v.workerId,v.results)}function G(p,v){var x=s[p];d(x.userComplete)&&x.userComplete(v),x.terminate(),delete s[p]}function z(){throw new Error("Not implemented.")}function E(p){if(typeof p!="object"||p===null)return p;var v,x=Array.isArray(p)?[]:{};for(v in p)x[v]=E(p[v]);return x}function C(p,v){return function(){p.apply(v,arguments)}}function d(p){return typeof p=="function"}return l.parse=function(p,v){var x=(v=v||{}).dynamicTyping||!1;if(d(x)&&(v.dynamicTypingFunction=x,x={}),v.dynamicTyping=x,v.transform=!!d(v.transform)&&v.transform,!v.worker||!l.WORKERS_SUPPORTED)return x=null,l.NODE_STREAM_INPUT,typeof p=="string"?(p=(L=>L.charCodeAt(0)!==65279?L:L.slice(1))(p),x=new(v.download?g:y)(v)):p.readable===!0&&d(p.read)&&d(p.on)?x=new S(v):(r.File&&p instanceof File||p instanceof Object)&&(x=new c(v)),x.stream(p);(x=(()=>{var L;return!!l.WORKERS_SUPPORTED&&(L=(()=>{var R=r.URL||r.webkitURL||null,N=i.toString();return l.BLOB_URL||(l.BLOB_URL=R.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",N,")();"],{type:"text/javascript"})))})(),(L=new r.Worker(L)).onmessage=M,L.id=h++,s[L.id]=L)})()).userStep=v.step,x.userChunk=v.chunk,x.userComplete=v.complete,x.userError=v.error,v.step=d(v.step),v.chunk=d(v.chunk),v.complete=d(v.complete),v.error=d(v.error),delete v.worker,x.postMessage({input:p,config:v,workerId:x.id})},l.unparse=function(p,v){var x=!1,L=!0,R=",",N=`\r
`,ae='"',he=ae+ae,Ce=!1,X=null,j=!1,$=((()=>{if(typeof v=="object"){if(typeof v.delimiter!="string"||l.BAD_DELIMITERS.filter(function(ie){return v.delimiter.indexOf(ie)!==-1}).length||(R=v.delimiter),typeof v.quotes!="boolean"&&typeof v.quotes!="function"&&!Array.isArray(v.quotes)||(x=v.quotes),typeof v.skipEmptyLines!="boolean"&&typeof v.skipEmptyLines!="string"||(Ce=v.skipEmptyLines),typeof v.newline=="string"&&(N=v.newline),typeof v.quoteChar=="string"&&(ae=v.quoteChar),typeof v.header=="boolean"&&(L=v.header),Array.isArray(v.columns)){if(v.columns.length===0)throw new Error("Option columns is empty");X=v.columns}v.escapeChar!==void 0&&(he=v.escapeChar+ae),v.escapeFormulae instanceof RegExp?j=v.escapeFormulae:typeof v.escapeFormulae=="boolean"&&v.escapeFormulae&&(j=/^[=+\-@\t\r].*$/)}})(),new RegExp(A(ae),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return se(null,p,Ce);if(typeof p[0]=="object")return se(X||Object.keys(p[0]),p,Ce)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||X),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),se(p.fields||[],p.data||[],Ce);throw new Error("Unable to serialize unrecognized input");function se(ie,Y,Te){var Me="",_e=(typeof ie=="string"&&(ie=JSON.parse(ie)),typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(ie)&&0<ie.length),Ie=!Array.isArray(Y[0]);if(_e&&L){for(var ge=0;ge<ie.length;ge++)0<ge&&(Me+=R),Me+=ee(ie[ge],ge);0<Y.length&&(Me+=N)}for(var Ae=0;Ae<Y.length;Ae++){var ze=(_e?ie:Y[Ae]).length,be=!1,me=_e?Object.keys(Y[Ae]).length===0:Y[Ae].length===0;if(Te&&!_e&&(be=Te==="greedy"?Y[Ae].join("").trim()==="":Y[Ae].length===1&&Y[Ae][0].length===0),Te==="greedy"&&_e){for(var Le=[],Ue=0;Ue<ze;Ue++){var De=Ie?ie[Ue]:Ue;Le.push(Y[Ae][De])}be=Le.join("").trim()===""}if(!be){for(var xe=0;xe<ze;xe++){0<xe&&!me&&(Me+=R);var je=_e&&Ie?ie[xe]:xe;Me+=ee(Y[Ae][je],xe)}Ae<Y.length-1&&(!Te||0<ze&&!me)&&(Me+=N)}}return Me}function ee(ie,Y){var Te,Me;return ie==null?"":ie.constructor===Date?JSON.stringify(ie).slice(1,25):(Me=!1,j&&typeof ie=="string"&&j.test(ie)&&(ie="'"+ie,Me=!0),Te=ie.toString().replace($,he),(Me=Me||x===!0||typeof x=="function"&&x(ie,Y)||Array.isArray(x)&&x[Y]||((_e,Ie)=>{for(var ge=0;ge<Ie.length;ge++)if(-1<_e.indexOf(Ie[ge]))return!0;return!1})(Te,l.BAD_DELIMITERS)||-1<Te.indexOf(R)||Te.charAt(0)===" "||Te.charAt(Te.length-1)===" ")?ae+Te+ae:Te)}},l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!n&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=b,l.ParserHandle=P,l.NetworkStreamer=g,l.FileStreamer=c,l.StringStreamer=y,l.ReadableStreamStreamer=S,r.jQuery&&((a=r.jQuery).fn.parse=function(p){var v=p.config||{},x=[];return this.each(function(N){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var ae=0;ae<this.files.length;ae++)x.push({file:this.files[ae],inputElem:this,instanceConfig:a.extend({},v)})}),L(),this;function L(){if(x.length===0)d(p.complete)&&p.complete();else{var N,ae,he,Ce,X=x[0];if(d(p.before)){var j=p.before(X.file,X.inputElem);if(typeof j=="object"){if(j.action==="abort")return N="AbortError",ae=X.file,he=X.inputElem,Ce=j.reason,void(d(p.error)&&p.error({name:N},ae,he,Ce));if(j.action==="skip")return void R();typeof j.config=="object"&&(X.instanceConfig=a.extend(X.instanceConfig,j.config))}else if(j==="skip")return void R()}var $=X.instanceConfig.complete;X.instanceConfig.complete=function(se){d($)&&$(se,X.file,X.inputElem),R()},l.parse(X.file,X.instanceConfig)}}function R(){x.splice(0,1),L()}}),o&&(r.onmessage=function(p){p=p.data,l.WORKER_ID===void 0&&p&&(l.WORKER_ID=p.workerId),typeof p.input=="string"?r.postMessage({workerId:l.WORKER_ID,results:l.parse(p.input,p.config),finished:!0}):(r.File&&p.input instanceof File||p.input instanceof Object)&&(p=l.parse(p.input,p.config))&&r.postMessage({workerId:l.WORKER_ID,results:p,finished:!0})}),(g.prototype=Object.create(u.prototype)).constructor=g,(c.prototype=Object.create(u.prototype)).constructor=c,(y.prototype=Object.create(y.prototype)).constructor=y,(S.prototype=Object.create(u.prototype)).constructor=S,l})})(oa)),oa.exports}var $f=jf();const Cp=Ia($f);function qf(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var Li=1,Di=2,ir=3,Vf=4,Fn=5,io=6378137,Zf=6356752314e-3,ro=.0066943799901413165,Cr=484813681109536e-20,K=Math.PI/2,Hf=.16666666666666666,Wf=.04722222222222222,Kf=.022156084656084655,oe=1e-10,Mt=.017453292519943295,Jt=57.29577951308232,Xe=Math.PI/4,Gr=Math.PI*2,dt=3.14159265359,Ot={};Ot.greenwich=0;Ot.lisbon=-9.131906111111;Ot.paris=2.337229166667;Ot.bogota=-74.080916666667;Ot.madrid=-3.687938888889;Ot.rome=12.452333333333;Ot.bern=7.439583333333;Ot.jakarta=106.807719444444;Ot.ferro=-17.666666666667;Ot.brussels=4.367975;Ot.stockholm=18.058277777778;Ot.athens=23.7163375;Ot.oslo=10.722916666667;const Xf={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var ao=/[\s_\-\/\(\)]/g;function wi(t,e){if(t[e])return t[e];for(var i=Object.keys(t),r=e.toLowerCase().replace(ao,""),a=-1,n,o;++a<i.length;)if(n=i[a],o=n.toLowerCase().replace(ao,""),o===r)return t[n]}function Un(t){var e={},i=t.split("+").map(function(s){return s.trim()}).filter(function(s){return s}).reduce(function(s,h){var l=h.split("=");return l.push(!0),s[l[0].toLowerCase()]=l[1],s},{}),r,a,n,o={proj:"projName",datum:"datumCode",rf:function(s){e.rf=parseFloat(s)},lat_0:function(s){e.lat0=s*Mt},lat_1:function(s){e.lat1=s*Mt},lat_2:function(s){e.lat2=s*Mt},lat_ts:function(s){e.lat_ts=s*Mt},lon_0:function(s){e.long0=s*Mt},lon_1:function(s){e.long1=s*Mt},lon_2:function(s){e.long2=s*Mt},alpha:function(s){e.alpha=parseFloat(s)*Mt},gamma:function(s){e.rectified_grid_angle=parseFloat(s)*Mt},lonc:function(s){e.longc=s*Mt},x_0:function(s){e.x0=parseFloat(s)},y_0:function(s){e.y0=parseFloat(s)},k_0:function(s){e.k0=parseFloat(s)},k:function(s){e.k0=parseFloat(s)},a:function(s){e.a=parseFloat(s)},b:function(s){e.b=parseFloat(s)},r:function(s){e.a=e.b=parseFloat(s)},r_a:function(){e.R_A=!0},zone:function(s){e.zone=parseInt(s,10)},south:function(){e.utmSouth=!0},towgs84:function(s){e.datum_params=s.split(",").map(function(h){return parseFloat(h)})},to_meter:function(s){e.to_meter=parseFloat(s)},units:function(s){e.units=s;var h=wi(Xf,s);h&&(e.to_meter=h.to_meter)},from_greenwich:function(s){e.from_greenwich=s*Mt},pm:function(s){var h=wi(Ot,s);e.from_greenwich=(h||parseFloat(s))*Mt},nadgrids:function(s){s==="@null"?e.datumCode="none":e.nadgrids=s},axis:function(s){var h="ewnsud";s.length===3&&h.indexOf(s.substr(0,1))!==-1&&h.indexOf(s.substr(1,1))!==-1&&h.indexOf(s.substr(2,1))!==-1&&(e.axis=s)},approx:function(){e.approx=!0}};for(r in i)a=i[r],r in o?(n=o[r],typeof n=="function"?n(a):e[n]=a):e[r]=a;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}class $h{static getId(e){const i=e.find(r=>Array.isArray(r)&&r[0]==="ID");return i&&i.length>=3?{authority:i[1],code:parseInt(i[2],10)}:null}static convertUnit(e,i="unit"){if(!e||e.length<3)return{type:i,name:"unknown",conversion_factor:null};const r=e[1],a=parseFloat(e[2])||null,n=e.find(s=>Array.isArray(s)&&s[0]==="ID"),o=n?{authority:n[1],code:parseInt(n[2],10)}:null;return{type:i,name:r,conversion_factor:a,id:o}}static convertAxis(e){const i=e[1]||"Unknown";let r;const a=i.match(/^\((.)\)$/);if(a){const l=a[1].toUpperCase();if(l==="E")r="east";else if(l==="N")r="north";else if(l==="U")r="up";else throw new Error(`Unknown axis abbreviation: ${l}`)}else r=e[2]?e[2].toLowerCase():"unknown";const n=e.find(l=>Array.isArray(l)&&l[0]==="ORDER"),o=n?parseInt(n[1],10):null,s=e.find(l=>Array.isArray(l)&&(l[0]==="LENGTHUNIT"||l[0]==="ANGLEUNIT"||l[0]==="SCALEUNIT")),h=this.convertUnit(s);return{name:i,direction:r,unit:h,order:o}}static extractAxes(e){return e.filter(i=>Array.isArray(i)&&i[0]==="AXIS").map(i=>this.convertAxis(i)).sort((i,r)=>(i.order||0)-(r.order||0))}static convert(e,i={}){switch(e[0]){case"PROJCRS":i.type="ProjectedCRS",i.name=e[1],i.base_crs=e.find(c=>Array.isArray(c)&&c[0]==="BASEGEOGCRS")?this.convert(e.find(c=>Array.isArray(c)&&c[0]==="BASEGEOGCRS")):null,i.conversion=e.find(c=>Array.isArray(c)&&c[0]==="CONVERSION")?this.convert(e.find(c=>Array.isArray(c)&&c[0]==="CONVERSION")):null;const r=e.find(c=>Array.isArray(c)&&c[0]==="CS");r&&(i.coordinate_system={type:r[1],axis:this.extractAxes(e)});const a=e.find(c=>Array.isArray(c)&&c[0]==="LENGTHUNIT");if(a){const c=this.convertUnit(a);i.coordinate_system.unit=c}i.id=this.getId(e);break;case"BASEGEOGCRS":case"GEOGCRS":i.type="GeographicCRS",i.name=e[1];const n=e.find(c=>Array.isArray(c)&&(c[0]==="DATUM"||c[0]==="ENSEMBLE"));if(n){const c=this.convert(n);n[0]==="ENSEMBLE"?i.datum_ensemble=c:i.datum=c;const y=e.find(S=>Array.isArray(S)&&S[0]==="PRIMEM");y&&y[1]!=="Greenwich"&&(c.prime_meridian={name:y[1],longitude:parseFloat(y[2])})}i.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(e)},i.id=this.getId(e);break;case"DATUM":i.type="GeodeticReferenceFrame",i.name=e[1],i.ellipsoid=e.find(c=>Array.isArray(c)&&c[0]==="ELLIPSOID")?this.convert(e.find(c=>Array.isArray(c)&&c[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":i.type="DatumEnsemble",i.name=e[1],i.members=e.filter(c=>Array.isArray(c)&&c[0]==="MEMBER").map(c=>({type:"DatumEnsembleMember",name:c[1],id:this.getId(c)}));const o=e.find(c=>Array.isArray(c)&&c[0]==="ENSEMBLEACCURACY");o&&(i.accuracy=parseFloat(o[1]));const s=e.find(c=>Array.isArray(c)&&c[0]==="ELLIPSOID");s&&(i.ellipsoid=this.convert(s)),i.id=this.getId(e);break;case"ELLIPSOID":i.type="Ellipsoid",i.name=e[1],i.semi_major_axis=parseFloat(e[2]),i.inverse_flattening=parseFloat(e[3]),e.find(c=>Array.isArray(c)&&c[0]==="LENGTHUNIT")&&this.convert(e.find(c=>Array.isArray(c)&&c[0]==="LENGTHUNIT"),i);break;case"CONVERSION":i.type="Conversion",i.name=e[1],i.method=e.find(c=>Array.isArray(c)&&c[0]==="METHOD")?this.convert(e.find(c=>Array.isArray(c)&&c[0]==="METHOD")):null,i.parameters=e.filter(c=>Array.isArray(c)&&c[0]==="PARAMETER").map(c=>this.convert(c));break;case"METHOD":i.type="Method",i.name=e[1],i.id=this.getId(e);break;case"PARAMETER":i.type="Parameter",i.name=e[1],i.value=parseFloat(e[2]),i.unit=this.convertUnit(e.find(c=>Array.isArray(c)&&(c[0]==="LENGTHUNIT"||c[0]==="ANGLEUNIT"||c[0]==="SCALEUNIT"))),i.id=this.getId(e);break;case"BOUNDCRS":i.type="BoundCRS";const h=e.find(c=>Array.isArray(c)&&c[0]==="SOURCECRS");if(h){const c=h.find(y=>Array.isArray(y));i.source_crs=c?this.convert(c):null}const l=e.find(c=>Array.isArray(c)&&c[0]==="TARGETCRS");if(l){const c=l.find(y=>Array.isArray(y));i.target_crs=c?this.convert(c):null}const u=e.find(c=>Array.isArray(c)&&c[0]==="ABRIDGEDTRANSFORMATION");u?i.transformation=this.convert(u):i.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(i.type="Transformation",i.name=e[1],i.method=e.find(c=>Array.isArray(c)&&c[0]==="METHOD")?this.convert(e.find(c=>Array.isArray(c)&&c[0]==="METHOD")):null,i.parameters=e.filter(c=>Array.isArray(c)&&(c[0]==="PARAMETER"||c[0]==="PARAMETERFILE")).map(c=>{if(c[0]==="PARAMETER")return this.convert(c);if(c[0]==="PARAMETERFILE")return{name:c[1],value:c[2],id:{authority:"EPSG",code:8656}}}),i.parameters.length===7){const c=i.parameters[6];c.name==="Scale difference"&&(c.value=Math.round((c.value-1)*1e12)/1e6)}i.id=this.getId(e);break;case"AXIS":i.coordinate_system||(i.coordinate_system={type:"unspecified",axis:[]}),i.coordinate_system.axis.push(this.convertAxis(e));break;case"LENGTHUNIT":const g=this.convertUnit(e,"LinearUnit");i.coordinate_system&&i.coordinate_system.axis&&i.coordinate_system.axis.forEach(c=>{c.unit||(c.unit=g)}),g.conversion_factor&&g.conversion_factor!==1&&i.semi_major_axis&&(i.semi_major_axis={value:i.semi_major_axis,unit:g});break;default:i.keyword=e[0];break}return i}}class Jf extends $h{static convert(e,i={}){return super.convert(e,i),i.coordinate_system&&i.coordinate_system.subtype==="Cartesian"&&delete i.coordinate_system,i.usage&&delete i.usage,i}}class Yf extends $h{static convert(e,i={}){super.convert(e,i);const r=e.find(n=>Array.isArray(n)&&n[0]==="CS");r&&(i.coordinate_system={subtype:r[1],axis:this.extractAxes(e)});const a=e.find(n=>Array.isArray(n)&&n[0]==="USAGE");if(a){const n=a.find(h=>Array.isArray(h)&&h[0]==="SCOPE"),o=a.find(h=>Array.isArray(h)&&h[0]==="AREA"),s=a.find(h=>Array.isArray(h)&&h[0]==="BBOX");i.usage={},n&&(i.usage.scope=n[1]),o&&(i.usage.area=o[1]),s&&(i.usage.bbox=s.slice(1))}return i}}function Qf(t){return t.find(e=>Array.isArray(e)&&e[0]==="USAGE")?"2019":(t.find(e=>Array.isArray(e)&&e[0]==="CS")||t[0]==="BOUNDCRS"||t[0]==="PROJCRS"||t[0]==="GEOGCRS","2015")}function eu(t){return(Qf(t)==="2019"?Yf:Jf).convert(t)}function tu(t){const e=t.toUpperCase();return e.includes("PROJCRS")||e.includes("GEOGCRS")||e.includes("BOUNDCRS")||e.includes("VERTCRS")||e.includes("LENGTHUNIT")||e.includes("ANGLEUNIT")||e.includes("SCALEUNIT")?"WKT2":(e.includes("PROJCS")||e.includes("GEOGCS")||e.includes("LOCAL_CS")||e.includes("VERT_CS")||e.includes("UNIT"),"WKT1")}var Lr=1,qh=2,Vh=3,pa=4,Zh=5,ls=-1,iu=/\s/,ru=/[A-Za-z]/,au=/[A-Za-z84_]/,Ra=/[,\]]/,Hh=/[\d\.E\-\+]/;function li(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Lr}li.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==pa)for(;iu.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Lr:return this.neutral(t);case qh:return this.keyword(t);case pa:return this.quoted(t);case Zh:return this.afterquote(t);case Vh:return this.number(t);case ls:return}};li.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=pa;return}if(Ra.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};li.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Lr;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Lr,this.currentObject=this.stack.pop(),this.currentObject||(this.state=ls);return}};li.prototype.number=function(t){if(Hh.test(t)){this.word+=t;return}if(Ra.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};li.prototype.quoted=function(t){if(t==='"'){this.state=Zh;return}this.word+=t};li.prototype.keyword=function(t){if(au.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=Lr;return}if(Ra.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};li.prototype.neutral=function(t){if(ru.test(t)){this.word=t,this.state=qh;return}if(t==='"'){this.word="",this.state=pa;return}if(Hh.test(t)){this.word=t,this.state=Vh;return}if(Ra.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};li.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===ls)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function nu(t){var e=new li(t);return e.output()}function tn(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var r=e?{}:t,a=i.reduce(function(n,o){return Yi(o,n),n},r);e&&(t[e]=a)}function Yi(t,e){if(!Array.isArray(t)){e[t]=!0;return}var i=t.shift();if(i==="PARAMETER"&&(i=t.shift()),t.length===1){if(Array.isArray(t[0])){e[i]={},Yi(t[0],e[i]);return}e[i]=t[0];return}if(!t.length){e[i]=!0;return}if(i==="TOWGS84"){e[i]=t;return}if(i==="AXIS"){i in e||(e[i]=[]),e[i].push(t);return}Array.isArray(i)||(e[i]={});var r;switch(i){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[i]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Yi(t[2],e[i]);return;case"SPHEROID":case"ELLIPSOID":e[i]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Yi(t[3],e[i]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],tn(e,i,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],tn(e,i,t),e[i].type=i;return;default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return Yi(t,e[i]);return tn(e,i,t)}}function no(t){let e={units:null,to_meter:void 0};return typeof t=="string"?(e.units=t.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.units==="meter"&&(e.to_meter=1)):t&&t.name&&(e.units=t.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.to_meter=t.conversion_factor),e}function so(t){return typeof t=="object"?t.value*t.unit.conversion_factor:t}function oo(t,e){t.ellipsoid.radius?(e.a=t.ellipsoid.radius,e.rf=0):(e.a=so(t.ellipsoid.semi_major_axis),t.ellipsoid.inverse_flattening!==void 0?e.rf=t.ellipsoid.inverse_flattening:t.ellipsoid.semi_major_axis!==void 0&&t.ellipsoid.semi_minor_axis!==void 0&&(e.rf=e.a/(e.a-so(t.ellipsoid.semi_minor_axis))))}function ma(t,e={}){return!t||typeof t!="object"?t:t.type==="BoundCRS"?(ma(t.source_crs,e),t.transformation&&(t.transformation.method&&t.transformation.method.name==="NTv2"?e.nadgrids=t.transformation.parameters[0].value:e.datum_params=t.transformation.parameters.map(i=>i.value)),e):(Object.keys(t).forEach(i=>{const r=t[i];if(r!==null)switch(i){case"name":if(e.srsCode)break;e.name=r,e.srsCode=r;break;case"type":r==="GeographicCRS"?e.projName="longlat":r==="ProjectedCRS"&&t.conversion&&t.conversion.method&&(e.projName=t.conversion.method.name);break;case"datum":case"datum_ensemble":r.ellipsoid&&(e.ellps=r.ellipsoid.name,oo(r,e)),r.prime_meridian&&(e.from_greenwich=r.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":e.ellps=r.name,oo(r,e);break;case"prime_meridian":e.long0=(r.longitude||0)*Math.PI/180;break;case"coordinate_system":if(r.axis){if(e.axis=r.axis.map(a=>{const n=a.direction;if(n==="east")return"e";if(n==="north")return"n";if(n==="west")return"w";if(n==="south")return"s";throw new Error(`Unknown axis direction: ${n}`)}).join("")+"u",r.unit){const{units:a,to_meter:n}=no(r.unit);e.units=a,e.to_meter=n}else if(r.axis[0]&&r.axis[0].unit){const{units:a,to_meter:n}=no(r.axis[0].unit);e.units=a,e.to_meter=n}}break;case"id":r.authority&&r.code&&(e.title=r.authority+":"+r.code);break;case"conversion":r.method&&r.method.name&&(e.projName=r.method.name),r.parameters&&r.parameters.forEach(a=>{const n=a.name.toLowerCase().replace(/\s+/g,"_"),o=a.value;a.unit&&a.unit.conversion_factor?e[n]=o*a.unit.conversion_factor:a.unit==="degree"?e[n]=o*Math.PI/180:e[n]=o});break;case"unit":r.name&&(e.units=r.name.toLowerCase(),e.units==="metre"&&(e.units="meter")),r.conversion_factor&&(e.to_meter=r.conversion_factor);break;case"base_crs":ma(r,e),e.datumCode=r.id?r.id.authority+"_"+r.id.code:r.name;break}}),e.latitude_of_false_origin!==void 0&&(e.lat0=e.latitude_of_false_origin),e.longitude_of_false_origin!==void 0&&(e.long0=e.longitude_of_false_origin),e.latitude_of_standard_parallel!==void 0&&(e.lat0=e.latitude_of_standard_parallel,e.lat1=e.latitude_of_standard_parallel),e.latitude_of_1st_standard_parallel!==void 0&&(e.lat1=e.latitude_of_1st_standard_parallel),e.latitude_of_2nd_standard_parallel!==void 0&&(e.lat2=e.latitude_of_2nd_standard_parallel),e.latitude_of_projection_centre!==void 0&&(e.lat0=e.latitude_of_projection_centre),e.longitude_of_projection_centre!==void 0&&(e.longc=e.longitude_of_projection_centre),e.easting_at_false_origin!==void 0&&(e.x0=e.easting_at_false_origin),e.northing_at_false_origin!==void 0&&(e.y0=e.northing_at_false_origin),e.latitude_of_natural_origin!==void 0&&(e.lat0=e.latitude_of_natural_origin),e.longitude_of_natural_origin!==void 0&&(e.long0=e.longitude_of_natural_origin),e.longitude_of_origin!==void 0&&(e.long0=e.longitude_of_origin),e.false_easting!==void 0&&(e.x0=e.false_easting),e.easting_at_projection_centre&&(e.x0=e.easting_at_projection_centre),e.false_northing!==void 0&&(e.y0=e.false_northing),e.northing_at_projection_centre&&(e.y0=e.northing_at_projection_centre),e.standard_parallel_1!==void 0&&(e.lat1=e.standard_parallel_1),e.standard_parallel_2!==void 0&&(e.lat2=e.standard_parallel_2),e.scale_factor_at_natural_origin!==void 0&&(e.k0=e.scale_factor_at_natural_origin),e.scale_factor_at_projection_centre!==void 0&&(e.k0=e.scale_factor_at_projection_centre),e.scale_factor_on_pseudo_standard_parallel!==void 0&&(e.k0=e.scale_factor_on_pseudo_standard_parallel),e.azimuth!==void 0&&(e.alpha=e.azimuth),e.azimuth_at_projection_centre!==void 0&&(e.alpha=e.azimuth_at_projection_centre),e.angle_from_rectified_to_skew_grid&&(e.rectified_grid_angle=e.angle_from_rectified_to_skew_grid),Ih(e),e)}var su=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function ou(t,e){var i=e[0],r=e[1];!(i in t)&&r in t&&(t[i]=t[r],e.length===3&&(t[i]=e[2](t[i])))}function Wh(t){for(var e=Object.keys(t),i=0,r=e.length;i<r;++i){var a=e[i];su.indexOf(a)!==-1&&hu(t[a]),typeof t[a]=="object"&&Wh(t[a])}}function hu(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var i="",r=0,a=t.AXIS.length;r<a;++r){var n=[t.AXIS[r][0].toLowerCase(),t.AXIS[r][1].toLowerCase()];n[0].indexOf("north")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="north"?i+="n":n[0].indexOf("south")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="south"?i+="s":n[0].indexOf("east")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="east"?i+="e":(n[0].indexOf("west")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="west")&&(i+="w")}i.length===2&&(i+="u"),i.length===3&&(t.axis=i)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var o=t.GEOGCS;t.type==="GEOGCS"&&(o=t),o&&(o.DATUM?t.datumCode=o.DATUM.name.toLowerCase():t.datumCode=o.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=o.DATUM.SPHEROID.a,t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(t.datum_params=o.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),t.rectified_grid_angle&&(t.rectified_grid_angle=ti(t.rectified_grid_angle));function s(u){var g=t.to_meter||1;return u*g}var h=function(u){return ou(t,u)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",ti],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",ti],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",ti],["lat0","latitude_of_origin",ti],["lat0","standard_parallel_1",ti],["lat1","standard_parallel_1",ti],["lat2","standard_parallel_2",ti],["azimuth","Azimuth"],["alpha","azimuth",ti],["srsCode","name"]];l.forEach(h),Ih(t)}function Bn(t){if(typeof t=="object")return ma(t);const e=tu(t);var i=nu(t);if(e==="WKT2"){const n=eu(i);return ma(n)}var r=i[0],a={};return Yi(i,a),Wh(a),a[r]}function kt(t){var e=this;if(arguments.length===2){var i=arguments[1];typeof i=="string"?i.charAt(0)==="+"?kt[t]=Un(arguments[1]):kt[t]=Bn(arguments[1]):kt[t]=i}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(r){return Array.isArray(r)?kt.apply(e,r):kt(r)});if(typeof t=="string"){if(t in kt)return kt[t]}else"EPSG"in t?kt["EPSG:"+t.EPSG]=t:"ESRI"in t?kt["ESRI:"+t.ESRI]=t:"IAU2000"in t?kt["IAU2000:"+t.IAU2000]=t:console.log(t);return}}qf(kt);function lu(t){return typeof t=="string"}function fu(t){return t in kt}function uu(t){return t.indexOf("+")!==0&&t.indexOf("[")!==-1||typeof t=="object"&&!("srsCode"in t)}var cu=["3857","900913","3785","102113"];function du(t){var e=wi(t,"authority");if(e){var i=wi(e,"epsg");return i&&cu.indexOf(i)>-1}}function gu(t){var e=wi(t,"extension");if(e)return wi(e,"proj4")}function pu(t){return t[0]==="+"}function mu(t){if(lu(t)){if(fu(t))return kt[t];if(uu(t)){var e=Bn(t);if(du(e))return kt["EPSG:3857"];var i=gu(e);return i?Un(i):e}if(pu(t))return Un(t)}else return"projName"in t?t:Bn(t)}function ho(t,e){t=t||{};var i,r;if(!e)return t;for(r in e)i=e[r],i!==void 0&&(t[r]=i);return t}function Qt(t,e,i){var r=t*e;return i/Math.sqrt(1-r*r)}function qr(t){return t<0?-1:1}function de(t){return Math.abs(t)<=dt?t:t-qr(t)*Gr}function Zt(t,e,i){var r=t*i,a=.5*t;return r=Math.pow((1-r)/(1+r),a),Math.tan(.5*(K-e))/r}function Dr(t,e){for(var i=.5*t,r,a,n=K-2*Math.atan(e),o=0;o<=15;o++)if(r=t*Math.sin(n),a=K-2*Math.atan(e*Math.pow((1-r)/(1+r),i))-n,n+=a,Math.abs(a)<=1e-10)return n;return-9999}function vu(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Qt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function _u(t){var e=t.x,i=t.y;if(i*Jt>90&&i*Jt<-90&&e*Jt>180&&e*Jt<-180)return null;var r,a;if(Math.abs(Math.abs(i)-K)<=oe)return null;if(this.sphere)r=this.x0+this.a*this.k0*de(e-this.long0),a=this.y0+this.a*this.k0*Math.log(Math.tan(Xe+.5*i));else{var n=Math.sin(i),o=Zt(this.e,i,n);r=this.x0+this.a*this.k0*de(e-this.long0),a=this.y0-this.a*this.k0*Math.log(o)}return t.x=r,t.y=a,t}function yu(t){var e=t.x-this.x0,i=t.y-this.y0,r,a;if(this.sphere)a=K-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var n=Math.exp(-i/(this.a*this.k0));if(a=Dr(this.e,n),a===-9999)return null}return r=de(this.long0+e/(this.a*this.k0)),t.x=r,t.y=a,t}var wu=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"];const bu={init:vu,forward:_u,inverse:yu,names:wu};function Su(){}function lo(t){return t}var xu=["longlat","identity"];const Mu={init:Su,forward:lo,inverse:lo,names:xu};var Eu=[bu,Mu],Ni={},Qi=[];function Kh(t,e){var i=Qi.length;return t.names?(Qi[i]=t,t.names.forEach(function(r){Ni[r.toLowerCase()]=i}),this):(console.log(e),!0)}function Xh(t){return t.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function Pu(t){if(!t)return!1;var e=t.toLowerCase();if(typeof Ni[e]!="undefined"&&Qi[Ni[e]]||(e=Xh(e),e in Ni&&Qi[Ni[e]]))return Qi[Ni[e]]}function ku(){Eu.forEach(Kh)}const Cu={start:ku,add:Kh,get:Pu};var Jh={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};const Au=Jh.WGS84;function Tu(t,e,i,r){var a=t*t,n=e*e,o=(a-n)/a,s=0;r?(t*=1-o*(Hf+o*(Wf+o*Kf)),a=t*t,o=0):s=Math.sqrt(o);var h=(a-n)/n;return{es:o,e:s,ep2:h}}function Iu(t,e,i,r,a){if(!t){var n=wi(Jh,r);n||(n=Au),t=n.a,e=n.b,i=n.rf}return i&&!e&&(e=(1-1/i)*t),(i===0||Math.abs(t-e)<oe)&&(a=!0,e=t),{a:t,b:e,rf:i,sphere:a}}var ha={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var Nu in ha){var rn=ha[Nu];rn.datumName&&(ha[rn.datumName]=rn)}function Ru(t,e,i,r,a,n,o){var s={};return t===void 0||t==="none"?s.datum_type=Fn:s.datum_type=Vf,e&&(s.datum_params=e.map(parseFloat),(s.datum_params[0]!==0||s.datum_params[1]!==0||s.datum_params[2]!==0)&&(s.datum_type=Li),s.datum_params.length>3&&(s.datum_params[3]!==0||s.datum_params[4]!==0||s.datum_params[5]!==0||s.datum_params[6]!==0)&&(s.datum_type=Di,s.datum_params[3]*=Cr,s.datum_params[4]*=Cr,s.datum_params[5]*=Cr,s.datum_params[6]=s.datum_params[6]/1e6+1)),o&&(s.datum_type=ir,s.grids=o),s.a=i,s.b=r,s.es=a,s.ep2=n,s}var fs={};function Ou(t,e,i){return e instanceof ArrayBuffer?Gu(t,e,i):{ready:Lu(t,e)}}function Gu(t,e,i){var r=!0;i!==void 0&&i.includeErrorFields===!1&&(r=!1);var a=new DataView(e),n=Uu(a),o=Bu(a,n),s=zu(a,o,n,r),h={header:o,subgrids:s};return fs[t]=h,h}async function Lu(t,e){for(var i=[],r=await e.getImageCount(),a=r-1;a>=0;a--){var n=await e.getImage(a),o=await n.readRasters(),s=o,h=[n.getWidth(),n.getHeight()],l=n.getBoundingBox().map(fo),u=[n.fileDirectory.ModelPixelScale[0],n.fileDirectory.ModelPixelScale[1]].map(fo),g=l[0]+(h[0]-1)*u[0],c=l[3]-(h[1]-1)*u[1],y=s[0],S=s[1],P=[];for(let M=h[1]-1;M>=0;M--)for(let G=h[0]-1;G>=0;G--){var A=M*h[0]+G;P.push([-gi(S[A]),gi(y[A])])}i.push({del:u,lim:h,ll:[-g,c],cvs:P})}var b={header:{nSubgrids:r},subgrids:i};return fs[t]=b,b}function Du(t){if(t===void 0)return null;var e=t.split(",");return e.map(Fu)}function Fu(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:fs[t]||null,isNull:!1}}function fo(t){return t*Math.PI/180}function gi(t){return t/3600*Math.PI/180}function Uu(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Bu(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:zn(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function zn(t,e,i){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,i)))}function zu(t,e,i,r){for(var a=176,n=[],o=0;o<e.nSubgrids;o++){var s=$u(t,a,i),h=qu(t,a,s,i,r),l=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),u=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);n.push({ll:[gi(s.lowerLongitude),gi(s.lowerLatitude)],del:[gi(s.longitudeInterval),gi(s.latitudeInterval)],lim:[l,u],count:s.gridNodeCount,cvs:ju(h)});var g=16;r===!1&&(g=8),a+=176+s.gridNodeCount*g}return n}function ju(t){return t.map(function(e){return[gi(e.longitudeShift),gi(e.latitudeShift)]})}function $u(t,e,i){return{name:zn(t,e+8,e+16).trim(),parent:zn(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,i),upperLatitude:t.getFloat64(e+88,i),lowerLongitude:t.getFloat64(e+104,i),upperLongitude:t.getFloat64(e+120,i),latitudeInterval:t.getFloat64(e+136,i),longitudeInterval:t.getFloat64(e+152,i),gridNodeCount:t.getInt32(e+168,i)}}function qu(t,e,i,r,a){var n=e+176,o=16;a===!1&&(o=8);for(var s=[],h=0;h<i.gridNodeCount;h++){var l={latitudeShift:t.getFloat32(n+h*o,r),longitudeShift:t.getFloat32(n+h*o+4,r)};a!==!1&&(l.latitudeAccuracy=t.getFloat32(n+h*o+8,r),l.longitudeAccuracy=t.getFloat32(n+h*o+12,r)),s.push(l)}return s}function Ht(t,e){if(!(this instanceof Ht))return new Ht(t);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,e=e||function(l){if(l)throw l};var i=mu(t);if(typeof i!="object"){e("Could not parse to valid json: "+t);return}var r=Ht.projections.get(i.projName);if(!r){e("Could not get projection name from: "+t);return}if(i.datumCode&&i.datumCode!=="none"){var a=wi(ha,i.datumCode);a&&(i.datum_params=i.datum_params||(a.towgs84?a.towgs84.split(","):null),i.ellps=a.ellipse,i.datumName=a.datumName?a.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var n=Iu(i.a,i.b,i.rf,i.ellps,i.sphere),o=Tu(n.a,n.b,n.rf,i.R_A),s=Du(i.nadgrids),h=i.datum||Ru(i.datumCode,i.datum_params,n.a,n.b,o.es,o.ep2,s);ho(this,i),ho(this,r),this.a=n.a,this.b=n.b,this.rf=n.rf,this.sphere=n.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=h,"init"in this&&typeof this.init=="function"&&this.init(),e(null,this)}Ht.projections=Cu;Ht.projections.start();function Vu(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===Li?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===Di?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function Yh(t,e,i){var r=t.x,a=t.y,n=t.z?t.z:0,o,s,h,l;if(a<-K&&a>-1.001*K)a=-K;else if(a>K&&a<1.001*K)a=K;else{if(a<-K)return{x:-1/0,y:-1/0,z:t.z};if(a>K)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),s=Math.sin(a),l=Math.cos(a),h=s*s,o=i/Math.sqrt(1-e*h),{x:(o+n)*l*Math.cos(r),y:(o+n)*l*Math.sin(r),z:(o*(1-e)+n)*s}}function Qh(t,e,i,r){var a=1e-12,n=a*a,o=30,s,h,l,u,g,c,y,S,P,A,b,M,G,z=t.x,E=t.y,C=t.z?t.z:0,d,p,v;if(s=Math.sqrt(z*z+E*E),h=Math.sqrt(z*z+E*E+C*C),s/i<a){if(d=0,h/i<a)return p=K,v=-r,{x:t.x,y:t.y,z:t.z}}else d=Math.atan2(E,z);l=C/h,u=s/h,g=1/Math.sqrt(1-e*(2-e)*u*u),S=u*(1-e)*g,P=l*g,G=0;do G++,y=i/Math.sqrt(1-e*P*P),v=s*S+C*P-y*(1-e*P*P),c=e*y/(y+v),g=1/Math.sqrt(1-c*(2-c)*u*u),A=u*(1-c)*g,b=l*g,M=b*S-A*P,S=A,P=b;while(M*M>n&&G<o);return p=Math.atan(b/Math.abs(A)),{x:d,y:p,z:v}}function Zu(t,e,i){if(e===Li)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(e===Di){var r=i[0],a=i[1],n=i[2],o=i[3],s=i[4],h=i[5],l=i[6];return{x:l*(t.x-h*t.y+s*t.z)+r,y:l*(h*t.x+t.y-o*t.z)+a,z:l*(-s*t.x+o*t.y+t.z)+n}}}function Hu(t,e,i){if(e===Li)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(e===Di){var r=i[0],a=i[1],n=i[2],o=i[3],s=i[4],h=i[5],l=i[6],u=(t.x-r)/l,g=(t.y-a)/l,c=(t.z-n)/l;return{x:u+h*g-s*c,y:-h*u+g+o*c,z:s*u-o*g+c}}}function Qr(t){return t===Li||t===Di}function Wu(t,e,i){if(Vu(t,e)||t.datum_type===Fn||e.datum_type===Fn)return i;var r=t.a,a=t.es;if(t.datum_type===ir){var n=uo(t,!1,i);if(n!==0)return;r=io,a=ro}var o=e.a,s=e.b,h=e.es;if(e.datum_type===ir&&(o=io,s=Zf,h=ro),a===h&&r===o&&!Qr(t.datum_type)&&!Qr(e.datum_type))return i;if(i=Yh(i,a,r),Qr(t.datum_type)&&(i=Zu(i,t.datum_type,t.datum_params)),Qr(e.datum_type)&&(i=Hu(i,e.datum_type,e.datum_params)),i=Qh(i,h,o,s),e.datum_type===ir){var l=uo(e,!0,i);if(l!==0)return}return i}function uo(t,e,i){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-i.x,y:i.y},a={x:Number.NaN,y:Number.NaN},n=[];e:for(var o=0;o<t.grids.length;o++){var s=t.grids[o];if(n.push(s.name),s.isNull){a=r;break}if(s.grid===null){if(s.mandatory)return console.log("Unable to find mandatory grid '"+s.name+"'"),-1;continue}for(var h=s.grid.subgrids,l=0,u=h.length;l<u;l++){var g=h[l],c=(Math.abs(g.del[1])+Math.abs(g.del[0]))/1e4,y=g.ll[0]-c,S=g.ll[1]-c,P=g.ll[0]+(g.lim[0]-1)*g.del[0]+c,A=g.ll[1]+(g.lim[1]-1)*g.del[1]+c;if(!(S>r.y||y>r.x||A<r.y||P<r.x)&&(a=Ku(r,e,g),!isNaN(a.x)))break e}}return isNaN(a.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*Jt+" "+r.y*Jt+" tried: '"+n+"'"),-1):(i.x=-a.x,i.y=a.y,0)}function Ku(t,e,i){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var a={x:t.x,y:t.y};a.x-=i.ll[0],a.y-=i.ll[1],a.x=de(a.x-Math.PI)+Math.PI;var n=co(a,i);if(e){if(isNaN(n.x))return r;n.x=a.x-n.x,n.y=a.y-n.y;var o=9,s=1e-12,h,l;do{if(l=co(n,i),isNaN(l.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}h={x:a.x-(l.x+n.x),y:a.y-(l.y+n.y)},n.x+=h.x,n.y+=h.y}while(o--&&Math.abs(h.x)>s&&Math.abs(h.y)>s);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=de(n.x+i.ll[0]),r.y=n.y+i.ll[1]}else isNaN(n.x)||(r.x=t.x+n.x,r.y=t.y+n.y);return r}function co(t,e){var i={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(i.x),y:Math.floor(i.y)},a={x:i.x-1*r.x,y:i.y-1*r.y},n={x:Number.NaN,y:Number.NaN},o;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return n;o=r.y*e.lim[0]+r.x;var s={x:e.cvs[o][0],y:e.cvs[o][1]};o++;var h={x:e.cvs[o][0],y:e.cvs[o][1]};o+=e.lim[0];var l={x:e.cvs[o][0],y:e.cvs[o][1]};o--;var u={x:e.cvs[o][0],y:e.cvs[o][1]},g=a.x*a.y,c=a.x*(1-a.y),y=(1-a.x)*(1-a.y),S=(1-a.x)*a.y;return n.x=y*s.x+c*h.x+S*u.x+g*l.x,n.y=y*s.y+c*h.y+S*u.y+g*l.y,n}function go(t,e,i){var r=i.x,a=i.y,n=i.z||0,o,s,h,l={};for(h=0;h<3;h++)if(!(e&&h===2&&i.z===void 0))switch(h===0?(o=r,"ew".indexOf(t.axis[h])!==-1?s="x":s="y"):h===1?(o=a,"ns".indexOf(t.axis[h])!==-1?s="y":s="x"):(o=n,s="z"),t.axis[h]){case"e":l[s]=o;break;case"w":l[s]=-o;break;case"n":l[s]=o;break;case"s":l[s]=-o;break;case"u":i[s]!==void 0&&(l.z=o);break;case"d":i[s]!==void 0&&(l.z=-o);break;default:return null}return l}function el(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function Xu(t){po(t.x),po(t.y)}function po(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Ju(t,e){return(t.datum.datum_type===Li||t.datum.datum_type===Di||t.datum.datum_type===ir)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Li||e.datum.datum_type===Di||e.datum.datum_type===ir)&&t.datumCode!=="WGS84"}function va(t,e,i,r){var a;Array.isArray(i)?i=el(i):i={x:i.x,y:i.y,z:i.z,m:i.m};var n=i.z!==void 0;if(Xu(i),t.datum&&e.datum&&Ju(t,e)&&(a=new Ht("WGS84"),i=va(t,a,i,r),t=a),r&&t.axis!=="enu"&&(i=go(t,!1,i)),t.projName==="longlat")i={x:i.x*Mt,y:i.y*Mt,z:i.z||0};else if(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter,z:i.z||0}),i=t.inverse(i),!i)return;if(t.from_greenwich&&(i.x+=t.from_greenwich),i=Wu(t.datum,e.datum,i),!!i)return i=i,e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y,z:i.z||0}),e.projName==="longlat"?i={x:i.x*Jt,y:i.y*Jt,z:i.z||0}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter,z:i.z||0})),r&&e.axis!=="enu"?go(e,!0,i):(i&&!n&&delete i.z,i)}var mo=Ht("WGS84");function an(t,e,i,r){var a,n,o;return Array.isArray(i)?(a=va(t,e,i,r)||{x:NaN,y:NaN},i.length>2?typeof t.name!="undefined"&&t.name==="geocent"||typeof e.name!="undefined"&&e.name==="geocent"?typeof a.z=="number"?[a.x,a.y,a.z].concat(i.slice(3)):[a.x,a.y,i[2]].concat(i.slice(3)):[a.x,a.y].concat(i.slice(2)):[a.x,a.y]):(n=va(t,e,i,r),o=Object.keys(i),o.length===2||o.forEach(function(s){if(typeof t.name!="undefined"&&t.name==="geocent"||typeof e.name!="undefined"&&e.name==="geocent"){if(s==="x"||s==="y"||s==="z")return}else if(s==="x"||s==="y")return;n[s]=i[s]}),n)}function ea(t){return t instanceof Ht?t:typeof t=="object"&&"oProj"in t?t.oProj:Ht(t)}function Yu(t,e,i){var r,a,n=!1,o;return typeof e=="undefined"?(a=ea(t),r=mo,n=!0):(typeof e.x!="undefined"||Array.isArray(e))&&(i=e,a=ea(t),r=mo,n=!0),r||(r=ea(t)),a||(a=ea(e)),i?an(r,a,i):(o={forward:function(s,h){return an(r,a,s,h)},inverse:function(s,h){return an(a,r,s,h)}},n&&(o.oProj=a),o)}var vo=6,tl="AJSAJS",il="AFAFAF",er=65,Tt=73,Ut=79,xr=86,Mr=90;const Qu={forward:rl,inverse:ec,toPoint:al};function rl(t,e){return e=e||5,rc(tc({lat:t[1],lon:t[0]}),e)}function ec(t){var e=us(sl(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function al(t){var e=us(sl(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function nn(t){return t*(Math.PI/180)}function _o(t){return 180*(t/Math.PI)}function tc(t){var e=t.lat,i=t.lon,r=6378137,a=.00669438,n=.9996,o,s,h,l,u,g,c,y=nn(e),S=nn(i),P,A;A=Math.floor((i+180)/6)+1,i===180&&(A=60),e>=56&&e<64&&i>=3&&i<12&&(A=32),e>=72&&e<84&&(i>=0&&i<9?A=31:i>=9&&i<21?A=33:i>=21&&i<33?A=35:i>=33&&i<42&&(A=37)),o=(A-1)*6-180+3,P=nn(o),s=a/(1-a),h=r/Math.sqrt(1-a*Math.sin(y)*Math.sin(y)),l=Math.tan(y)*Math.tan(y),u=s*Math.cos(y)*Math.cos(y),g=Math.cos(y)*(S-P),c=r*((1-a/4-3*a*a/64-5*a*a*a/256)*y-(3*a/8+3*a*a/32+45*a*a*a/1024)*Math.sin(2*y)+(15*a*a/256+45*a*a*a/1024)*Math.sin(4*y)-35*a*a*a/3072*Math.sin(6*y));var b=n*h*(g+(1-l+u)*g*g*g/6+(5-18*l+l*l+72*u-58*s)*g*g*g*g*g/120)+5e5,M=n*(c+h*Math.tan(y)*(g*g/2+(5-l+9*u+4*u*u)*g*g*g*g/24+(61-58*l+l*l+600*u-330*s)*g*g*g*g*g*g/720));return e<0&&(M+=1e7),{northing:Math.round(M),easting:Math.round(b),zoneNumber:A,zoneLetter:ic(e)}}function us(t){var e=t.northing,i=t.easting,r=t.zoneLetter,a=t.zoneNumber;if(a<0||a>60)return null;var n=.9996,o=6378137,s=.00669438,h,l=(1-Math.sqrt(1-s))/(1+Math.sqrt(1-s)),u,g,c,y,S,P,A,b,M,G=i-5e5,z=e;r<"N"&&(z-=1e7),A=(a-1)*6-180+3,h=s/(1-s),P=z/n,b=P/(o*(1-s/4-3*s*s/64-5*s*s*s/256)),M=b+(3*l/2-27*l*l*l/32)*Math.sin(2*b)+(21*l*l/16-55*l*l*l*l/32)*Math.sin(4*b)+151*l*l*l/96*Math.sin(6*b),u=o/Math.sqrt(1-s*Math.sin(M)*Math.sin(M)),g=Math.tan(M)*Math.tan(M),c=h*Math.cos(M)*Math.cos(M),y=o*(1-s)/Math.pow(1-s*Math.sin(M)*Math.sin(M),1.5),S=G/(u*n);var E=M-u*Math.tan(M)/y*(S*S/2-(5+3*g+10*c-4*c*c-9*h)*S*S*S*S/24+(61+90*g+298*c+45*g*g-252*h-3*c*c)*S*S*S*S*S*S/720);E=_o(E);var C=(S-(1+2*g+c)*S*S*S/6+(5-2*c+28*g-3*c*c+8*h+24*g*g)*S*S*S*S*S/120)/Math.cos(M);C=A+_o(C);var d;if(t.accuracy){var p=us({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});d={top:p.lat,right:p.lon,bottom:E,left:C}}else d={lat:E,lon:C};return d}function ic(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function rc(t,e){var i="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+ac(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+r.substr(r.length-5,e)}function ac(t,e,i){var r=nl(i),a=Math.floor(t/1e5),n=Math.floor(e/1e5)%20;return nc(a,n,r)}function nl(t){var e=t%vo;return e===0&&(e=vo),e}function nc(t,e,i){var r=i-1,a=tl.charCodeAt(r),n=il.charCodeAt(r),o=a+t-1,s=n+e,h=!1;o>Mr&&(o=o-Mr+er-1,h=!0),(o===Tt||a<Tt&&o>Tt||(o>Tt||a<Tt)&&h)&&o++,(o===Ut||a<Ut&&o>Ut||(o>Ut||a<Ut)&&h)&&(o++,o===Tt&&o++),o>Mr&&(o=o-Mr+er-1),s>xr?(s=s-xr+er-1,h=!0):h=!1,(s===Tt||n<Tt&&s>Tt||(s>Tt||n<Tt)&&h)&&s++,(s===Ut||n<Ut&&s>Ut||(s>Ut||n<Ut)&&h)&&(s++,s===Tt&&s++),s>xr&&(s=s-xr+er-1);var l=String.fromCharCode(o)+String.fromCharCode(s);return l}function sl(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,i=null,r="",a,n=0;!/[A-Z]/.test(a=t.charAt(n));){if(n>=2)throw"MGRSPoint bad conversion from: "+t;r+=a,n++}var o=parseInt(r,10);if(n===0||n+3>e)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(n++);if(s<="A"||s==="B"||s==="Y"||s>="Z"||s==="I"||s==="O")throw"MGRSPoint zone letter "+s+" not handled: "+t;i=t.substring(n,n+=2);for(var h=nl(o),l=sc(i.charAt(0),h),u=oc(i.charAt(1),h);u<hc(s);)u+=2e6;var g=e-n;if(g%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var c=g/2,y=0,S=0,P,A,b,M,G;return c>0&&(P=1e5/Math.pow(10,c),A=t.substring(n,n+c),y=parseFloat(A)*P,b=t.substring(n+c),S=parseFloat(b)*P),M=y+l,G=S+u,{easting:M,northing:G,zoneLetter:s,zoneNumber:o,accuracy:P}}function sc(t,e){for(var i=tl.charCodeAt(e-1),r=1e5,a=!1;i!==t.charCodeAt(0);){if(i++,i===Tt&&i++,i===Ut&&i++,i>Mr){if(a)throw"Bad character: "+t;i=er,a=!0}r+=1e5}return r}function oc(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=il.charCodeAt(e-1),r=0,a=!1;i!==t.charCodeAt(0);){if(i++,i===Tt&&i++,i===Ut&&i++,i>xr){if(a)throw"Bad character: "+t;i=er,a=!0}r+=1e5}return r}function hc(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function sr(t,e,i){if(!(this instanceof sr))return new sr(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e=="undefined"){var r=t.split(",");this.x=parseFloat(r[0]),this.y=parseFloat(r[1]),this.z=parseFloat(r[2])||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}sr.fromMGRS=function(t){return new sr(al(t))};sr.prototype.toMGRS=function(t){return rl([this.x,this.y],t)};var lc=1,fc=.25,yo=.046875,wo=.01953125,bo=.01068115234375,uc=.75,cc=.46875,dc=.013020833333333334,gc=.007120768229166667,pc=.3645833333333333,mc=.005696614583333333,vc=.3076171875;function cs(t){var e=[];e[0]=lc-t*(fc+t*(yo+t*(wo+t*bo))),e[1]=t*(uc-t*(yo+t*(wo+t*bo)));var i=t*t;return e[2]=i*(cc-t*(dc+t*gc)),i*=t,e[3]=i*(pc-t*mc),e[4]=i*t*vc,e}function dr(t,e,i,r){return i*=e,e*=e,r[0]*t-i*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var _c=20;function ds(t,e,i){for(var r=1/(1-e),a=t,n=_c;n;--n){var o=Math.sin(a),s=1-e*o*o;if(s=(dr(a,o,Math.cos(a),i)-t)*(s*Math.sqrt(s))*r,a-=s,Math.abs(s)<oe)return a}return a}function yc(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=cs(this.es),this.ml0=dr(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function wc(t){var e=t.x,i=t.y,r=de(e-this.long0),a,n,o,s=Math.sin(i),h=Math.cos(i);if(this.es){var u=h*r,g=Math.pow(u,2),c=this.ep2*Math.pow(h,2),y=Math.pow(c,2),S=Math.abs(h)>oe?Math.tan(i):0,P=Math.pow(S,2),A=Math.pow(P,2);a=1-this.es*Math.pow(s,2),u=u/Math.sqrt(a);var b=dr(i,s,h,this.en);n=this.a*(this.k0*u*(1+g/6*(1-P+c+g/20*(5-18*P+A+14*c-58*P*c+g/42*(61+179*A-A*P-479*P)))))+this.x0,o=this.a*(this.k0*(b-this.ml0+s*r*u/2*(1+g/12*(5-P+9*c+4*y+g/30*(61+A-58*P+270*c-330*P*c+g/56*(1385+543*A-A*P-3111*P))))))+this.y0}else{var l=h*Math.sin(r);if(Math.abs(Math.abs(l)-1)<oe)return 93;if(n=.5*this.a*this.k0*Math.log((1+l)/(1-l))+this.x0,o=h*Math.cos(r)/Math.sqrt(1-Math.pow(l,2)),l=Math.abs(o),l>=1){if(l-1>oe)return 93;o=0}else o=Math.acos(o);i<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return t.x=n,t.y=o,t}function bc(t){var e,i,r,a,n=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+o/this.k0,i=ds(e,this.es,this.en),Math.abs(i)<K){var g=Math.sin(i),c=Math.cos(i),y=Math.abs(c)>oe?Math.tan(i):0,S=this.ep2*Math.pow(c,2),P=Math.pow(S,2),A=Math.pow(y,2),b=Math.pow(A,2);e=1-this.es*Math.pow(g,2);var M=n*Math.sqrt(e)/this.k0,G=Math.pow(M,2);e=e*y,r=i-e*G/(1-this.es)*.5*(1-G/12*(5+3*A-9*S*A+S-4*P-G/30*(61+90*A-252*S*A+45*b+46*S-G/56*(1385+3633*A+4095*b+1574*b*A)))),a=de(this.long0+M*(1-G/6*(1+2*A+S-G/20*(5+28*A+24*b+8*S*A+6*S-G/42*(61+662*A+1320*b+720*b*A))))/c)}else r=K*qr(o),a=0;else{var s=Math.exp(n/this.k0),h=.5*(s-1/s),l=this.lat0+o/this.k0,u=Math.cos(l);e=Math.sqrt((1-Math.pow(u,2))/(1+Math.pow(h,2))),r=Math.asin(e),o<0&&(r=-r),h===0&&u===0?a=0:a=de(Math.atan2(h,u)+this.long0)}return t.x=a,t.y=r,t}var Sc=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const la={init:yc,forward:wc,inverse:bc,names:Sc};function ol(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function Nt(t,e){t=Math.abs(t),e=Math.abs(e);var i=Math.max(t,e),r=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(r,2))}function xc(t){var e=1+t,i=e-1;return i===0?t:t*Math.log(e)/i}function Mc(t){var e=Math.abs(t);return e=xc(e*(1+e/(Nt(1,e)+1))),t<0?-e:e}function gs(t,e){for(var i=2*Math.cos(2*e),r=t.length-1,a=t[r],n=0,o;--r>=0;)o=-n+i*a+t[r],n=a,a=o;return e+o*Math.sin(2*e)}function Ec(t,e){for(var i=2*Math.cos(e),r=t.length-1,a=t[r],n=0,o;--r>=0;)o=-n+i*a+t[r],n=a,a=o;return Math.sin(e)*o}function Pc(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function hl(t,e,i){for(var r=Math.sin(e),a=Math.cos(e),n=ol(i),o=Pc(i),s=2*a*o,h=-2*r*n,l=t.length-1,u=t[l],g=0,c=0,y=0,S,P;--l>=0;)S=c,P=g,c=u,g=y,u=-S+s*c-h*g+t[l],y=-P+h*c+s*g;return s=r*o,h=a*n,[s*u-h*y,s*y+h*u]}function kc(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(la.init.apply(this),this.forward=la.forward,this.inverse=la.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),i=i*e,this.cgb[1]=i*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),i=i*e,this.cgb[2]=i*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),i=i*e,this.cgb[3]=i*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(-12/5+e*(-24832/14175))),i=i*e,this.cgb[4]=i*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),i=i*e,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),i=i*e,this.utg[2]=i*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),i=i*e,this.utg[3]=i*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),i=i*e,this.utg[4]=i*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),i=i*e,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=i*(212378941/319334400);var r=gs(this.cbg,this.lat0);this.Zb=-this.Qn*(r+Ec(this.gtu,2*r))}function Cc(t){var e=de(t.x-this.long0),i=t.y;i=gs(this.cbg,i);var r=Math.sin(i),a=Math.cos(i),n=Math.sin(e),o=Math.cos(e);i=Math.atan2(r,o*a),e=Math.atan2(n*a,Nt(r,a*o)),e=Mc(Math.tan(e));var s=hl(this.gtu,2*i,2*e);i=i+s[0],e=e+s[1];var h,l;return Math.abs(e)<=2.623395162778?(h=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*i+this.Zb)+this.y0):(h=1/0,l=1/0),t.x=h,t.y=l,t}function Ac(t){var e=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);i=(i-this.Zb)/this.Qn,e=e/this.Qn;var r,a;if(Math.abs(e)<=2.623395162778){var n=hl(this.utg,2*i,2*e);i=i+n[0],e=e+n[1],e=Math.atan(ol(e));var o=Math.sin(i),s=Math.cos(i),h=Math.sin(e),l=Math.cos(e);i=Math.atan2(o*l,Nt(h,l*s)),e=Math.atan2(h,l*s),r=de(e+this.long0),a=gs(this.cgb,i)}else r=1/0,a=1/0;return t.x=r,t.y=a,t}var Tc=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const fa={init:kc,forward:Cc,inverse:Ac,names:Tc};function Ic(t,e){if(t===void 0){if(t=Math.floor((de(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var Nc="etmerc";function Rc(){var t=Ic(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Mt,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,fa.init.apply(this),this.forward=fa.forward,this.inverse=fa.inverse}var Oc=["Universal Transverse Mercator System","utm"];const Gc={init:Rc,names:Oc,dependsOn:Nc};function ps(t,e){return Math.pow((1-t)/(1+t),e)}var Lc=20;function Dc(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Xe)/(Math.pow(Math.tan(.5*this.lat0+Xe),this.C)*ps(this.e*t,this.ratexp))}function Fc(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+Xe),this.C)*ps(this.e*Math.sin(i),this.ratexp))-K,t.x=this.C*e,t}function Uc(t){for(var e=1e-14,i=t.x/this.C,r=t.y,a=Math.pow(Math.tan(.5*r+Xe)/this.K,1/this.C),n=Lc;n>0&&(r=2*Math.atan(a*ps(this.e*Math.sin(t.y),-.5*this.e))-K,!(Math.abs(r-t.y)<e));--n)t.y=r;return n?(t.x=i,t.y=r,t):null}const ms={init:Dc,forward:Fc,inverse:Uc};function Bc(){ms.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function zc(t){var e,i,r,a;return t.x=de(t.x-this.long0),ms.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),r=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*r),t.x=a*i*Math.sin(t.x),t.y=a*(this.cosc0*e-this.sinc0*i*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function jc(t){var e,i,r,a,n;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,n=Nt(t.x,t.y)){var o=2*Math.atan2(n,this.R2);e=Math.sin(o),i=Math.cos(o),a=Math.asin(i*this.sinc0+t.y*e*this.cosc0/n),r=Math.atan2(t.x*e,n*this.cosc0*i-t.y*this.sinc0*e)}else a=this.phic0,r=0;return t.x=r,t.y=a,ms.inverse.apply(this,[t]),t.x=de(t.x+this.long0),t}var $c=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const qc={init:Bc,forward:zc,inverse:jc,names:$c};function vs(t,e,i){return e*=i,Math.tan(.5*(K+t))*Math.pow((1-e)/(1+e),.5*i)}function Vc(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=oe&&(this.k0=.5*(1+qr(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=oe&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=oe&&Math.abs(Math.cos(this.lat_ts))>oe&&(this.k0=.5*this.cons*Qt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Zt(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Qt(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(vs(this.lat0,this.sinlat0,this.e))-K,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Zc(t){var e=t.x,i=t.y,r=Math.sin(i),a=Math.cos(i),n,o,s,h,l,u,g=de(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=oe&&Math.abs(i+this.lat0)<=oe?(t.x=NaN,t.y=NaN,t):this.sphere?(n=2*this.k0/(1+this.sinlat0*r+this.coslat0*a*Math.cos(g)),t.x=this.a*n*a*Math.sin(g)+this.x0,t.y=this.a*n*(this.coslat0*r-this.sinlat0*a*Math.cos(g))+this.y0,t):(o=2*Math.atan(vs(i,r,this.e))-K,h=Math.cos(o),s=Math.sin(o),Math.abs(this.coslat0)<=oe?(l=Zt(this.e,i*this.con,this.con*r),u=2*this.a*this.k0*l/this.cons,t.x=this.x0+u*Math.sin(e-this.long0),t.y=this.y0-this.con*u*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<oe?(n=2*this.a*this.k0/(1+h*Math.cos(g)),t.y=n*s):(n=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*h*Math.cos(g))),t.y=n*(this.cosX0*s-this.sinX0*h*Math.cos(g))+this.y0),t.x=n*h*Math.sin(g)+this.x0,t))}function Hc(t){t.x-=this.x0,t.y-=this.y0;var e,i,r,a,n,o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,i=this.lat0,o<=oe?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/o),Math.abs(this.coslat0)<oe?this.lat0>0?e=de(this.long0+Math.atan2(t.x,-1*t.y)):e=de(this.long0+Math.atan2(t.x,t.y)):e=de(this.long0+Math.atan2(t.x*Math.sin(s),o*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=i,t)}else if(Math.abs(this.coslat0)<=oe){if(o<=oe)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,r=o*this.cons/(2*this.a*this.k0),i=this.con*Dr(this.e,r),e=this.con*de(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else a=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=oe?n=this.X0:(n=Math.asin(Math.cos(a)*this.sinX0+t.y*Math.sin(a)*this.cosX0/o),e=de(this.long0+Math.atan2(t.x*Math.sin(a),o*this.cosX0*Math.cos(a)-t.y*this.sinX0*Math.sin(a)))),i=-1*Dr(this.e,Math.tan(.5*(K+n)));return t.x=e,t.y=i,t}var Wc=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"];const Kc={init:Vc,forward:Zc,inverse:Hc,names:Wc,ssfn_:vs};function Xc(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,r=this.rf,a=1/r,n=2*a-Math.pow(a,2),o=this.e=Math.sqrt(n);this.R=this.k0*i*Math.sqrt(1-n)/(1-n*Math.pow(e,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),h=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*h+this.alpha*o/2*l}function Jc(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+i)+this.K,a=2*(Math.atan(Math.exp(r))-Math.PI/4),n=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(a)+Math.cos(this.b0)*Math.cos(n))),s=Math.asin(Math.cos(this.b0)*Math.sin(a)-Math.sin(this.b0)*Math.cos(a)*Math.cos(n));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*o+this.x0,t}function Yc(t){for(var e=t.x-this.x0,i=t.y-this.y0,r=e/this.R,a=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(a)+Math.sin(this.b0)*Math.cos(a)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(a))),s=this.lambda0+o/this.alpha,h=0,l=n,u=-1e3,g=0;Math.abs(l-u)>1e-7;){if(++g>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),u=l,l=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=s,t.y=l,t}var Qc=["somerc"];const ed={init:Xc,forward:Jc,inverse:Yc,names:Qc};var Xi=1e-7;function td(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],i=typeof t.projName=="object"?Object.keys(t.projName)[0]:t.projName;return"no_uoff"in t||"no_off"in t||e.indexOf(i)!==-1||e.indexOf(Xh(i))!==-1}function id(){var t,e,i,r,a,n,o,s,h,l,u=0,g,c=0,y=0,S=0,P=0,A=0,b=0;this.no_off=td(this),this.no_rot="no_rot"in this;var M=!1;"alpha"in this&&(M=!0);var G=!1;if("rectified_grid_angle"in this&&(G=!0),M&&(b=this.alpha),G&&(u=this.rectified_grid_angle),M||G)c=this.longc;else if(y=this.long1,P=this.lat1,S=this.long2,A=this.lat2,Math.abs(P-A)<=Xi||(t=Math.abs(P))<=Xi||Math.abs(t-K)<=Xi||Math.abs(Math.abs(this.lat0)-K)<=Xi||Math.abs(Math.abs(A)-K)<=Xi)throw new Error;var z=1-this.es;e=Math.sqrt(z),Math.abs(this.lat0)>oe?(s=Math.sin(this.lat0),i=Math.cos(this.lat0),t=1-this.es*s*s,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/z),this.A=this.B*this.k0*e/t,r=this.B*e/(i*Math.sqrt(t)),a=r*r-1,a<=0?a=0:(a=Math.sqrt(a),this.lat0<0&&(a=-a)),this.E=a+=r,this.E*=Math.pow(Zt(this.e,this.lat0,s),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=a=1),M||G?(M?(g=Math.asin(Math.sin(b)/r),G||(u=b)):(g=u,b=Math.asin(r*Math.sin(g))),this.lam0=c-Math.asin(.5*(a-1/a)*Math.tan(g))/this.B):(n=Math.pow(Zt(this.e,P,Math.sin(P)),this.B),o=Math.pow(Zt(this.e,A,Math.sin(A)),this.B),a=this.E/n,h=(o-n)/(o+n),l=this.E*this.E,l=(l-o*n)/(l+o*n),t=y-S,t<-Math.PI?S-=Gr:t>Math.PI&&(S+=Gr),this.lam0=de(.5*(y+S)-Math.atan(l*Math.tan(.5*this.B*(y-S))/h)/this.B),g=Math.atan(2*Math.sin(this.B*de(y-this.lam0))/(a-1/a)),u=b=Math.asin(r*Math.sin(g))),this.singam=Math.sin(g),this.cosgam=Math.cos(g),this.sinrot=Math.sin(u),this.cosrot=Math.cos(u),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(b))),this.lat0<0&&(this.u_0=-this.u_0)),a=.5*g,this.v_pole_n=this.ArB*Math.log(Math.tan(Xe-a)),this.v_pole_s=this.ArB*Math.log(Math.tan(Xe+a))}function rd(t){var e={},i,r,a,n,o,s,h,l;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-K)>oe){if(o=this.E/Math.pow(Zt(this.e,t.y,Math.sin(t.y)),this.B),s=1/o,i=.5*(o-s),r=.5*(o+s),n=Math.sin(this.B*t.x),a=(i*this.singam-n*this.cosgam)/r,Math.abs(Math.abs(a)-1)<oe)throw new Error;l=.5*this.ArB*Math.log((1-a)/(1+a)),s=Math.cos(this.B*t.x),Math.abs(s)<Xi?h=this.A*t.x:h=this.ArB*Math.atan2(i*this.cosgam+n*this.singam,s)}else l=t.y>0?this.v_pole_n:this.v_pole_s,h=this.ArB*t.y;return this.no_rot?(e.x=h,e.y=l):(h-=this.u_0,e.x=l*this.cosrot+h*this.sinrot,e.y=h*this.cosrot-l*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function ad(t){var e,i,r,a,n,o,s,h={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(i=t.y,e=t.x):(i=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*i),a=.5*(r-1/r),n=.5*(r+1/r),o=Math.sin(this.BrA*e),s=(o*this.cosgam+a*this.singam)/n,Math.abs(Math.abs(s)-1)<oe)h.x=0,h.y=s<0?-K:K;else{if(h.y=this.E/Math.sqrt((1+s)/(1-s)),h.y=Dr(this.e,Math.pow(h.y,1/this.B)),h.y===1/0)throw new Error;h.x=-this.rB*Math.atan2(a*this.cosgam-o*this.singam,Math.cos(this.BrA*e))}return h.x+=this.lam0,h}var nd=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const sd={init:id,forward:rd,inverse:ad,names:nd};function od(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<oe)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),r=Qt(this.e,e,i),a=Zt(this.e,this.lat1,e),n=Math.sin(this.lat2),o=Math.cos(this.lat2),s=Qt(this.e,n,o),h=Zt(this.e,this.lat2,n),l=Math.abs(Math.abs(this.lat0)-K)<oe?0:Zt(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>oe?this.ns=Math.log(r/s)/Math.log(a/h):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function hd(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=oe&&(i=qr(i)*(K-2*oe));var r=Math.abs(Math.abs(i)-K),a,n;if(r>oe)a=Zt(this.e,i,Math.sin(i)),n=this.a*this.f0*Math.pow(a,this.ns);else{if(r=i*this.ns,r<=0)return null;n=0}var o=this.ns*de(e-this.long0);return t.x=this.k0*(n*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-n*Math.cos(o))+this.y0,t}function ld(t){var e,i,r,a,n,o=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(o*o+s*s),i=1):(e=-Math.sqrt(o*o+s*s),i=-1);var h=0;if(e!==0&&(h=Math.atan2(i*o,i*s)),e!==0||this.ns>0){if(i=1/this.ns,r=Math.pow(e/(this.a*this.f0),i),a=Dr(this.e,r),a===-9999)return null}else a=-K;return n=de(h/this.ns+this.long0),t.x=n,t.y=a,t}var fd=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const ud={init:od,forward:hd,inverse:ld,names:fd};function cd(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function dd(t){var e,i,r,a,n,o,s,h=t.x,l=t.y,u=de(h-this.long0);return e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45),r=-u*this.alfa,a=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(a)),o=this.n*n,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(a/2+this.s45),this.n),t.y=s*Math.cos(o)/1,t.x=s*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t}function gd(t){var e,i,r,a,n,o,s,h,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),n=Math.atan2(t.y,t.x),a=n/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(a)),i=Math.asin(Math.cos(r)*Math.sin(a)/Math.cos(e)),t.x=this.long0-i/this.alfa,s=e,h=0;var u=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(h=1),s=t.y,u+=1;while(h===0&&u<15);return u>=15?null:t}var pd=["Krovak","krovak"];const md={init:cd,forward:dd,inverse:gd,names:pd};function Ct(t,e,i,r,a){return t*a-e*Math.sin(2*a)+i*Math.sin(4*a)-r*Math.sin(6*a)}function Vr(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Zr(t){return .375*t*(1+.25*t*(1+.46875*t))}function Hr(t){return .05859375*t*t*(1+.75*t)}function Wr(t){return t*t*t*(35/3072)}function _s(t,e,i){var r=e*i;return t/Math.sqrt(1-r*r)}function Ci(t){return Math.abs(t)<K?t:t-qr(t)*Math.PI}function _a(t,e,i,r,a){var n,o;n=t/e;for(var s=0;s<15;s++)if(o=(t-(e*n-i*Math.sin(2*n)+r*Math.sin(4*n)-a*Math.sin(6*n)))/(e-2*i*Math.cos(2*n)+4*r*Math.cos(4*n)-6*a*Math.cos(6*n)),n+=o,Math.abs(o)<=1e-10)return n;return NaN}function vd(){this.sphere||(this.e0=Vr(this.es),this.e1=Zr(this.es),this.e2=Hr(this.es),this.e3=Wr(this.es),this.ml0=this.a*Ct(this.e0,this.e1,this.e2,this.e3,this.lat0))}function _d(t){var e,i,r=t.x,a=t.y;if(r=de(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(a)*Math.sin(r)),i=this.a*(Math.atan2(Math.tan(a),Math.cos(r))-this.lat0);else{var n=Math.sin(a),o=Math.cos(a),s=_s(this.a,this.e,n),h=Math.tan(a)*Math.tan(a),l=r*Math.cos(a),u=l*l,g=this.es*o*o/(1-this.es),c=this.a*Ct(this.e0,this.e1,this.e2,this.e3,a);e=s*l*(1-u*h*(1/6-(8-h+8*g)*u/120)),i=c-this.ml0+s*n/o*u*(.5+(5-h+6*g)*u/24)}return t.x=e+this.x0,t.y=i+this.y0,t}function yd(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,i=t.y/this.a,r,a;if(this.sphere){var n=i+this.lat0;r=Math.asin(Math.sin(n)*Math.cos(e)),a=Math.atan2(Math.tan(e),Math.cos(n))}else{var o=this.ml0/this.a+i,s=_a(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-K)<=oe)return t.x=this.long0,t.y=K,i<0&&(t.y*=-1),t;var h=_s(this.a,this.e,Math.sin(s)),l=h*h*h/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(s),2),g=e*this.a/h,c=g*g;r=s-h*Math.tan(s)/l*g*g*(.5-(1+3*u)*g*g/24),a=g*(1-c*(u/3+(1+3*u)*u*c/15))/Math.cos(s)}return t.x=de(a+this.long0),t.y=Ci(r),t}var wd=["Cassini","Cassini_Soldner","cass"];const bd={init:vd,forward:_d,inverse:yd,names:wd};function _i(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e}var jn=1,$n=2,qn=3,ua=4;function Sd(){var t=Math.abs(this.lat0);if(Math.abs(t-K)<oe?this.mode=this.lat0<0?jn:$n:Math.abs(t)<oe?this.mode=qn:this.mode=ua,this.es>0){var e;switch(this.qp=_i(this.e,1),this.mmf=.5/(1-this.es),this.apa=Id(this.es),this.mode){case $n:this.dd=1;break;case jn:this.dd=1;break;case qn:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case ua:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=_i(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===ua&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function xd(t){var e,i,r,a,n,o,s,h,l,u,g=t.x,c=t.y;if(g=de(g-this.long0),this.sphere){if(n=Math.sin(c),u=Math.cos(c),r=Math.cos(g),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+u*r:1+this.sinph0*n+this.cosph0*u*r,i<=oe)return null;i=Math.sqrt(2/i),e=i*u*Math.sin(g),i*=this.mode===this.EQUIT?n:this.cosph0*n-this.sinph0*u*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(c+this.lat0)<oe)return null;i=Xe-c*.5,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),e=i*Math.sin(g),i*=r}}else{switch(s=0,h=0,l=0,r=Math.cos(g),a=Math.sin(g),n=Math.sin(c),o=_i(this.e,n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(s=o/this.qp,h=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:l=1+this.sinb1*s+this.cosb1*h*r;break;case this.EQUIT:l=1+h*r;break;case this.N_POLE:l=K+c,o=this.qp-o;break;case this.S_POLE:l=c-K,o=this.qp+o;break}if(Math.abs(l)<oe)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),this.mode===this.OBLIQ?i=this.ymf*l*(this.cosb1*s-this.sinb1*h*r):i=(l=Math.sqrt(2/(1+h*r)))*s*this.ymf,e=this.xmf*l*h*a;break;case this.N_POLE:case this.S_POLE:o>=0?(e=(l=Math.sqrt(o))*a,i=r*(this.mode===this.S_POLE?l:-l)):e=i=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t}function Md(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,i=t.y/this.a,r,a,n,o,s,h,l;if(this.sphere){var u=0,g,c=0;if(g=Math.sqrt(e*e+i*i),a=g*.5,a>1)return null;switch(a=2*Math.asin(a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(c=Math.sin(a),u=Math.cos(a)),this.mode){case this.EQUIT:a=Math.abs(g)<=oe?0:Math.asin(i*c/g),e*=c,i=u*g;break;case this.OBLIQ:a=Math.abs(g)<=oe?this.lat0:Math.asin(u*this.sinph0+i*c*this.cosph0/g),e*=c*this.cosph0,i=(u-Math.sin(a)*this.sinph0)*g;break;case this.N_POLE:i=-i,a=K-a;break;case this.S_POLE:a-=K;break}r=i===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,i)}else{if(l=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,i*=this.dd,h=Math.sqrt(e*e+i*i),h<oe)return t.x=this.long0,t.y=this.lat0,t;o=2*Math.asin(.5*h/this.rq),n=Math.cos(o),e*=o=Math.sin(o),this.mode===this.OBLIQ?(l=n*this.sinb1+i*o*this.cosb1/h,s=this.qp*l,i=h*this.cosb1*n-i*this.sinb1*o):(l=i*o/h,s=this.qp*l,i=h*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),s=e*e+i*i,!s)return t.x=this.long0,t.y=this.lat0,t;l=1-s/this.qp,this.mode===this.S_POLE&&(l=-l)}r=Math.atan2(e,i),a=Nd(Math.asin(l),this.apa)}return t.x=de(this.long0+r),t.y=a,t}var Ed=.3333333333333333,Pd=.17222222222222222,kd=.10257936507936508,Cd=.06388888888888888,Ad=.0664021164021164,Td=.016415012942191543;function Id(t){var e,i=[];return i[0]=t*Ed,e=t*t,i[0]+=e*Pd,i[1]=e*Cd,e*=t,i[0]+=e*kd,i[1]+=e*Ad,i[2]=e*Td,i}function Nd(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)}var Rd=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Od={init:Sd,forward:xd,inverse:Md,names:Rd,S_POLE:jn,N_POLE:$n,EQUIT:qn,OBLIQ:ua};function bi(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Gd(){Math.abs(this.lat1+this.lat2)<oe||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Qt(this.e3,this.sin_po,this.cos_po),this.qs1=_i(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Qt(this.e3,this.sin_po,this.cos_po),this.qs2=_i(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=_i(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>oe?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Ld(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var r=_i(this.e3,this.sin_phi),a=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,n=this.ns0*de(e-this.long0),o=a*Math.sin(n)+this.x0,s=this.rh-a*Math.cos(n)+this.y0;return t.x=o,t.y=s,t}function Dd(t){var e,i,r,a,n,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),a=0,e!==0&&(a=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(i=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,i)),n=de(a/this.ns0+this.long0),t.x=n,t.y=o,t}function Fd(t,e){var i,r,a,n,o,s=bi(.5*e);if(t<oe)return s;for(var h=t*t,l=1;l<=25;l++)if(i=Math.sin(s),r=Math.cos(s),a=t*i,n=1-a*a,o=.5*n*n/r*(e/(1-h)-i/n+.5/t*Math.log((1-a)/(1+a))),s=s+o,Math.abs(o)<=1e-7)return s;return null}var Ud=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"];const Bd={init:Gd,forward:Ld,inverse:Dd,names:Ud,phi1z:Fd};function zd(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function jd(t){var e,i,r,a,n,o,s,h,l=t.x,u=t.y;return r=de(l-this.long0),e=Math.sin(u),i=Math.cos(u),a=Math.cos(r),o=this.sin_p14*e+this.cos_p14*i*a,n=1,o>0||Math.abs(o)<=oe?(s=this.x0+this.a*n*i*Math.sin(r)/o,h=this.y0+this.a*n*(this.cos_p14*e-this.sin_p14*i*a)/o):(s=this.x0+this.infinity_dist*i*Math.sin(r),h=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*a)),t.x=s,t.y=h,t}function $d(t){var e,i,r,a,n,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(e,this.rc),i=Math.sin(a),r=Math.cos(a),o=bi(r*this.sin_p14+t.y*i*this.cos_p14/e),n=Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i),n=de(this.long0+n)):(o=this.phic0,n=0),t.x=n,t.y=o,t}var qd=["gnom"];const Vd={init:zd,forward:jd,inverse:$d,names:qd};function Zd(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*K:K;for(var r=Math.asin(.5*e),a,n,o,s,h=0;h<30;h++)if(n=Math.sin(r),o=Math.cos(r),s=t*n,a=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-n/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),r+=a,Math.abs(a)<=1e-10)return r;return NaN}function Hd(){this.sphere||(this.k0=Qt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Wd(t){var e=t.x,i=t.y,r,a,n=de(e-this.long0);if(this.sphere)r=this.x0+this.a*n*Math.cos(this.lat_ts),a=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var o=_i(this.e,Math.sin(i));r=this.x0+this.a*this.k0*n,a=this.y0+this.a*o*.5/this.k0}return t.x=r,t.y=a,t}function Kd(t){t.x-=this.x0,t.y-=this.y0;var e,i;return this.sphere?(e=de(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=Zd(this.e,2*t.y*this.k0/this.a),e=de(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t}var Xd=["cea"];const Jd={init:Hd,forward:Wd,inverse:Kd,names:Xd};function Yd(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Qd(t){var e=t.x,i=t.y,r=de(e-this.long0),a=Ci(i-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*a,t}function e0(t){var e=t.x,i=t.y;return t.x=de(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Ci(this.lat0+(i-this.y0)/this.a),t}var t0=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"];const i0={init:Yd,forward:Qd,inverse:e0,names:t0};var So=20;function r0(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Vr(this.es),this.e1=Zr(this.es),this.e2=Hr(this.es),this.e3=Wr(this.es),this.ml0=this.a*Ct(this.e0,this.e1,this.e2,this.e3,this.lat0)}function a0(t){var e=t.x,i=t.y,r,a,n,o=de(e-this.long0);if(n=o*Math.sin(i),this.sphere)Math.abs(i)<=oe?(r=this.a*o,a=-1*this.a*this.lat0):(r=this.a*Math.sin(n)/Math.tan(i),a=this.a*(Ci(i-this.lat0)+(1-Math.cos(n))/Math.tan(i)));else if(Math.abs(i)<=oe)r=this.a*o,a=-1*this.ml0;else{var s=_s(this.a,this.e,Math.sin(i))/Math.tan(i);r=s*Math.sin(n),a=this.a*Ct(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*(1-Math.cos(n))}return t.x=r+this.x0,t.y=a+this.y0,t}function n0(t){var e,i,r,a,n,o,s,h,l;if(r=t.x-this.x0,a=t.y-this.y0,this.sphere)if(Math.abs(a+this.a*this.lat0)<=oe)e=de(r/this.a+this.long0),i=0;else{o=this.lat0+a/this.a,s=r*r/this.a/this.a+o*o,h=o;var u;for(n=So;n;--n)if(u=Math.tan(h),l=-1*(o*(h*u+1)-h-.5*(h*h+s)*u)/((h-o)/u-1),h+=l,Math.abs(l)<=oe){i=h;break}e=de(this.long0+Math.asin(r*Math.tan(h)/this.a)/Math.sin(i))}else if(Math.abs(a+this.ml0)<=oe)i=0,e=de(this.long0+r/this.a);else{o=(this.ml0+a)/this.a,s=r*r/this.a/this.a+o*o,h=o;var g,c,y,S,P;for(n=So;n;--n)if(P=this.e*Math.sin(h),g=Math.sqrt(1-P*P)*Math.tan(h),c=this.a*Ct(this.e0,this.e1,this.e2,this.e3,h),y=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),S=c/this.a,l=(o*(g*S+1)-S-.5*g*(S*S+s))/(this.es*Math.sin(2*h)*(S*S+s-2*o*S)/(4*g)+(o-S)*(g*y-2/Math.sin(2*h))-y),h-=l,Math.abs(l)<=oe){i=h;break}g=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=de(this.long0+Math.asin(r*g/this.a)/Math.sin(i))}return t.x=e,t.y=i,t}var s0=["Polyconic","American_Polyconic","poly"];const o0={init:r0,forward:a0,inverse:n0,names:s0};function h0(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function l0(t){var e,i=t.x,r=t.y,a=r-this.lat0,n=i-this.long0,o=a/Cr*1e-5,s=n,h=1,l=0;for(e=1;e<=10;e++)h=h*o,l=l+this.A[e]*h;var u=l,g=s,c=1,y=0,S,P,A=0,b=0;for(e=1;e<=6;e++)S=c*u-y*g,P=y*u+c*g,c=S,y=P,A=A+this.B_re[e]*c-this.B_im[e]*y,b=b+this.B_im[e]*c+this.B_re[e]*y;return t.x=b*this.a+this.x0,t.y=A*this.a+this.y0,t}function f0(t){var e,i=t.x,r=t.y,a=i-this.x0,n=r-this.y0,o=n/this.a,s=a/this.a,h=1,l=0,u,g,c=0,y=0;for(e=1;e<=6;e++)u=h*o-l*s,g=l*o+h*s,h=u,l=g,c=c+this.C_re[e]*h-this.C_im[e]*l,y=y+this.C_im[e]*h+this.C_re[e]*l;for(var S=0;S<this.iterations;S++){var P=c,A=y,b,M,G=o,z=s;for(e=2;e<=6;e++)b=P*c-A*y,M=A*c+P*y,P=b,A=M,G=G+(e-1)*(this.B_re[e]*P-this.B_im[e]*A),z=z+(e-1)*(this.B_im[e]*P+this.B_re[e]*A);P=1,A=0;var E=this.B_re[1],C=this.B_im[1];for(e=2;e<=6;e++)b=P*c-A*y,M=A*c+P*y,P=b,A=M,E=E+e*(this.B_re[e]*P-this.B_im[e]*A),C=C+e*(this.B_im[e]*P+this.B_re[e]*A);var d=E*E+C*C;c=(G*E+z*C)/d,y=(z*E-G*C)/d}var p=c,v=y,x=1,L=0;for(e=1;e<=9;e++)x=x*p,L=L+this.D[e]*x;var R=this.lat0+L*Cr*1e5,N=this.long0+v;return t.x=N,t.y=R,t}var u0=["New_Zealand_Map_Grid","nzmg"];const c0={init:h0,forward:l0,inverse:f0,names:u0};function d0(){}function g0(t){var e=t.x,i=t.y,r=de(e-this.long0),a=this.x0+this.a*r,n=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=a,t.y=n,t}function p0(t){t.x-=this.x0,t.y-=this.y0;var e=de(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t}var m0=["Miller_Cylindrical","mill"];const v0={init:d0,forward:g0,inverse:p0,names:m0};var _0=20;function y0(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=cs(this.es)}function w0(t){var e,i,r=t.x,a=t.y;if(r=de(r-this.long0),this.sphere){if(!this.m)a=this.n!==1?Math.asin(this.n*Math.sin(a)):a;else for(var n=this.n*Math.sin(a),o=_0;o;--o){var s=(this.m*a+Math.sin(a)-n)/(this.m+Math.cos(a));if(a-=s,Math.abs(s)<oe)break}e=this.a*this.C_x*r*(this.m+Math.cos(a)),i=this.a*this.C_y*a}else{var h=Math.sin(a),l=Math.cos(a);i=this.a*dr(a,h,l,this.en),e=this.a*r*l/Math.sqrt(1-this.es*h*h)}return t.x=e,t.y=i,t}function b0(t){var e,i,r,a;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=bi((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=bi(Math.sin(e)/this.n)),r=de(r+this.long0),e=Ci(e)):(e=ds(t.y/this.a,this.es,this.en),a=Math.abs(e),a<K?(a=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(e)),r=de(i)):a-oe<K&&(r=this.long0)),t.x=r,t.y=e,t}var S0=["Sinusoidal","sinu"];const x0={init:y0,forward:w0,inverse:b0,names:S0};function M0(){}function E0(t){for(var e=t.x,i=t.y,r=de(e-this.long0),a=i,n=Math.PI*Math.sin(i);;){var o=-(a+Math.sin(a)-n)/(1+Math.cos(a));if(a+=o,Math.abs(o)<oe)break}a/=2,Math.PI/2-Math.abs(i)<oe&&(r=0);var s=.900316316158*this.a*r*Math.cos(a)+this.x0,h=1.4142135623731*this.a*Math.sin(a)+this.y0;return t.x=s,t.y=h,t}function P0(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var r=de(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var a=Math.asin(i);return t.x=r,t.y=a,t}var k0=["Mollweide","moll"];const C0={init:M0,forward:E0,inverse:P0,names:k0};function A0(){Math.abs(this.lat1+this.lat2)<oe||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Vr(this.es),this.e1=Zr(this.es),this.e2=Hr(this.es),this.e3=Wr(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=Qt(this.e,this.sin_phi,this.cos_phi),this.ml1=Ct(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<oe?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=Qt(this.e,this.sin_phi,this.cos_phi),this.ml2=Ct(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ct(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function T0(t){var e=t.x,i=t.y,r;if(this.sphere)r=this.a*(this.g-i);else{var a=Ct(this.e0,this.e1,this.e2,this.e3,i);r=this.a*(this.g-a)}var n=this.ns*de(e-this.long0),o=this.x0+r*Math.sin(n),s=this.y0+this.rh-r*Math.cos(n);return t.x=o,t.y=s,t}function I0(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,i,r,a;this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var n=0;if(i!==0&&(n=Math.atan2(e*t.x,e*t.y)),this.sphere)return a=de(this.long0+n/this.ns),r=Ci(this.g-i/this.a),t.x=a,t.y=r,t;var o=this.g-i/this.a;return r=_a(o,this.e0,this.e1,this.e2,this.e3),a=de(this.long0+n/this.ns),t.x=a,t.y=r,t}var N0=["Equidistant_Conic","eqdc"];const R0={init:A0,forward:T0,inverse:I0,names:N0};function O0(){this.R=this.a}function G0(t){var e=t.x,i=t.y,r=de(e-this.long0),a,n;Math.abs(i)<=oe&&(a=this.x0+this.R*r,n=this.y0);var o=bi(2*Math.abs(i/Math.PI));(Math.abs(r)<=oe||Math.abs(Math.abs(i)-K)<=oe)&&(a=this.x0,i>=0?n=this.y0+Math.PI*this.R*Math.tan(.5*o):n=this.y0+Math.PI*this.R*-Math.tan(.5*o));var s=.5*Math.abs(Math.PI/r-r/Math.PI),h=s*s,l=Math.sin(o),u=Math.cos(o),g=u/(l+u-1),c=g*g,y=g*(2/l-1),S=y*y,P=Math.PI*this.R*(s*(g-S)+Math.sqrt(h*(g-S)*(g-S)-(S+h)*(c-S)))/(S+h);r<0&&(P=-P),a=this.x0+P;var A=h+g;return P=Math.PI*this.R*(y*A-s*Math.sqrt((S+h)*(h+1)-A*A))/(S+h),i>=0?n=this.y0+P:n=this.y0-P,t.x=a,t.y=n,t}function L0(t){var e,i,r,a,n,o,s,h,l,u,g,c,y;return t.x-=this.x0,t.y-=this.y0,g=Math.PI*this.R,r=t.x/g,a=t.y/g,n=r*r+a*a,o=-Math.abs(a)*(1+n),s=o-2*a*a+r*r,h=-2*o+1+2*a*a+n*n,y=a*a/h+(2*s*s*s/h/h/h-9*o*s/h/h)/27,l=(o-s*s/3/h)/h,u=2*Math.sqrt(-l/3),g=3*y/l/u,Math.abs(g)>1&&(g>=0?g=1:g=-1),c=Math.acos(g)/3,t.y>=0?i=(-u*Math.cos(c+Math.PI/3)-s/3/h)*Math.PI:i=-(-u*Math.cos(c+Math.PI/3)-s/3/h)*Math.PI,Math.abs(r)<oe?e=this.long0:e=de(this.long0+Math.PI*(n-1+Math.sqrt(1+2*(r*r-a*a)+n*n))/2/r),t.x=e,t.y=i,t}var D0=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"];const F0={init:O0,forward:G0,inverse:L0,names:D0};function U0(t,e,i,r,a,n){const o=r-e,s=Math.atan((1-n)*Math.tan(t)),h=Math.atan((1-n)*Math.tan(i)),l=Math.sin(s),u=Math.cos(s),g=Math.sin(h),c=Math.cos(h);let y=o,S,P=100,A,b,M,G,z,E,C,d,p,v,x,L,R,N;do{if(A=Math.sin(y),b=Math.cos(y),M=Math.sqrt(c*A*(c*A)+(u*g-l*c*b)*(u*g-l*c*b)),M===0)return{azi1:0,s12:0};G=l*g+u*c*b,z=Math.atan2(M,G),E=u*c*A/M,C=1-E*E,d=C!==0?G-2*l*g/C:0,p=n/16*C*(4+n*(4-3*C)),S=y,y=o+(1-p)*n*E*(z+p*M*(d+p*G*(-1+2*d*d)))}while(Math.abs(y-S)>1e-12&&--P>0);return P===0?{azi1:NaN,s12:NaN}:(v=C*(a*a-a*(1-n)*(a*(1-n)))/(a*(1-n)*(a*(1-n))),x=1+v/16384*(4096+v*(-768+v*(320-175*v))),L=v/1024*(256+v*(-128+v*(74-47*v))),R=L*M*(d+L/4*(G*(-1+2*d*d)-L/6*d*(-3+4*M*M)*(-3+4*d*d))),N=a*(1-n)*x*(z-R),{azi1:Math.atan2(c*A,u*g-l*c*b),s12:N})}function B0(t,e,i,r,a,n){const o=Math.atan((1-n)*Math.tan(t)),s=Math.sin(o),h=Math.cos(o),l=Math.sin(i),u=Math.cos(i),g=Math.atan2(s,h*u),c=h*l,y=1-c*c,S=y*(a*a-a*(1-n)*(a*(1-n)))/(a*(1-n)*(a*(1-n))),P=1+S/16384*(4096+S*(-768+S*(320-175*S))),A=S/1024*(256+S*(-128+S*(74-47*S)));let b=r/(a*(1-n)*P),M,G=100,z,E,C,d;do z=Math.cos(2*g+b),E=Math.sin(b),C=Math.cos(b),d=A*E*(z+A/4*(C*(-1+2*z*z)-A/6*z*(-3+4*E*E)*(-3+4*z*z))),M=b,b=r/(a*(1-n)*P)+d;while(Math.abs(b-M)>1e-12&&--G>0);if(G===0)return{lat2:NaN,lon2:NaN};const p=s*E-h*C*u,v=Math.atan2(s*C+h*E*u,(1-n)*Math.sqrt(c*c+p*p)),x=Math.atan2(E*l,h*C-s*E*u),L=n/16*y*(4+n*(4-3*y)),R=x-(1-L)*n*c*(b+L*E*(z+L*C*(-1+2*z*z))),N=e+R;return{lat2:v,lon2:N}}function z0(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function j0(t){var e=t.x,i=t.y,r=Math.sin(t.y),a=Math.cos(t.y),n=de(e-this.long0),o,s,h,l,u,g,c,y,S,P,A;return this.sphere?Math.abs(this.sin_p12-1)<=oe?(t.x=this.x0+this.a*(K-i)*Math.sin(n),t.y=this.y0-this.a*(K-i)*Math.cos(n),t):Math.abs(this.sin_p12+1)<=oe?(t.x=this.x0+this.a*(K+i)*Math.sin(n),t.y=this.y0+this.a*(K+i)*Math.cos(n),t):(S=this.sin_p12*r+this.cos_p12*a*Math.cos(n),c=Math.acos(S),y=c?c/Math.sin(c):1,t.x=this.x0+this.a*y*a*Math.sin(n),t.y=this.y0+this.a*y*(this.cos_p12*r-this.sin_p12*a*Math.cos(n)),t):(o=Vr(this.es),s=Zr(this.es),h=Hr(this.es),l=Wr(this.es),Math.abs(this.sin_p12-1)<=oe?(u=this.a*Ct(o,s,h,l,K),g=this.a*Ct(o,s,h,l,i),t.x=this.x0+(u-g)*Math.sin(n),t.y=this.y0-(u-g)*Math.cos(n),t):Math.abs(this.sin_p12+1)<=oe?(u=this.a*Ct(o,s,h,l,K),g=this.a*Ct(o,s,h,l,i),t.x=this.x0+(u+g)*Math.sin(n),t.y=this.y0+(u+g)*Math.cos(n),t):Math.abs(e)<oe&&Math.abs(i-this.lat0)<oe?(t.x=t.y=0,t):(P=U0(this.lat0,this.long0,i,e,this.a,this.f),A=P.azi1,t.x=P.s12*Math.sin(A),t.y=P.s12*Math.cos(A),t))}function $0(t){t.x-=this.x0,t.y-=this.y0;var e,i,r,a,n,o,s,h,l,u,g,c,y,S,P,A;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*K*this.a?void 0:(i=e/this.a,r=Math.sin(i),a=Math.cos(i),n=this.long0,Math.abs(e)<=oe?o=this.lat0:(o=bi(a*this.sin_p12+t.y*r*this.cos_p12/e),s=Math.abs(this.lat0)-K,Math.abs(s)<=oe?this.lat0>=0?n=de(this.long0+Math.atan2(t.x,-t.y)):n=de(this.long0-Math.atan2(-t.x,t.y)):n=de(this.long0+Math.atan2(t.x*r,e*this.cos_p12*a-t.y*this.sin_p12*r))),t.x=n,t.y=o,t)):(h=Vr(this.es),l=Zr(this.es),u=Hr(this.es),g=Wr(this.es),Math.abs(this.sin_p12-1)<=oe?(c=this.a*Ct(h,l,u,g,K),e=Math.sqrt(t.x*t.x+t.y*t.y),y=c-e,o=_a(y/this.a,h,l,u,g),n=de(this.long0+Math.atan2(t.x,-1*t.y)),t.x=n,t.y=o,t):Math.abs(this.sin_p12+1)<=oe?(c=this.a*Ct(h,l,u,g,K),e=Math.sqrt(t.x*t.x+t.y*t.y),y=e-c,o=_a(y/this.a,h,l,u,g),n=de(this.long0+Math.atan2(t.x,t.y)),t.x=n,t.y=o,t):(S=Math.atan2(t.x,t.y),P=Math.sqrt(t.x*t.x+t.y*t.y),A=B0(this.lat0,this.long0,S,P,this.a,this.f),t.x=A.lon2,t.y=A.lat2,t))}var q0=["Azimuthal_Equidistant","aeqd"];const V0={init:z0,forward:j0,inverse:$0,names:q0};function Z0(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function H0(t){var e,i,r,a,n,o,s,h,l=t.x,u=t.y;return r=de(l-this.long0),e=Math.sin(u),i=Math.cos(u),a=Math.cos(r),o=this.sin_p14*e+this.cos_p14*i*a,n=1,(o>0||Math.abs(o)<=oe)&&(s=this.a*n*i*Math.sin(r),h=this.y0+this.a*n*(this.cos_p14*e-this.sin_p14*i*a)),t.x=s,t.y=h,t}function W0(t){var e,i,r,a,n,o,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=bi(e/this.a),r=Math.sin(i),a=Math.cos(i),o=this.long0,Math.abs(e)<=oe?(s=this.lat0,t.x=o,t.y=s,t):(s=bi(a*this.sin_p14+t.y*r*this.cos_p14/e),n=Math.abs(this.lat0)-K,Math.abs(n)<=oe?(this.lat0>=0?o=de(this.long0+Math.atan2(t.x,-t.y)):o=de(this.long0-Math.atan2(-t.x,t.y)),t.x=o,t.y=s,t):(o=de(this.long0+Math.atan2(t.x*r,e*this.cos_p14*a-t.y*this.sin_p14*r)),t.x=o,t.y=s,t))}var K0=["ortho"];const X0={init:Z0,forward:H0,inverse:W0,names:K0};var lt={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Je={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function J0(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=K-Xe/2?this.face=lt.TOP:this.lat0<=-(K-Xe/2)?this.face=lt.BOTTOM:Math.abs(this.long0)<=Xe?this.face=lt.FRONT:Math.abs(this.long0)<=K+Xe?this.face=this.long0>0?lt.RIGHT:lt.LEFT:this.face=lt.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Y0(t){var e={x:0,y:0},i,r,a,n,o,s,h={value:0};if(t.x-=this.long0,this.es!==0?i=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):i=t.y,r=t.x,this.face===lt.TOP)n=K-i,r>=Xe&&r<=K+Xe?(h.value=Je.AREA_0,a=r-K):r>K+Xe||r<=-(K+Xe)?(h.value=Je.AREA_1,a=r>0?r-dt:r+dt):r>-(K+Xe)&&r<=-Xe?(h.value=Je.AREA_2,a=r+K):(h.value=Je.AREA_3,a=r);else if(this.face===lt.BOTTOM)n=K+i,r>=Xe&&r<=K+Xe?(h.value=Je.AREA_0,a=-r+K):r<Xe&&r>=-Xe?(h.value=Je.AREA_1,a=-r):r<-Xe&&r>=-(K+Xe)?(h.value=Je.AREA_2,a=-r-K):(h.value=Je.AREA_3,a=r>0?-r+dt:-r-dt);else{var l,u,g,c,y,S,P;this.face===lt.RIGHT?r=rr(r,+K):this.face===lt.BACK?r=rr(r,+dt):this.face===lt.LEFT&&(r=rr(r,-K)),c=Math.sin(i),y=Math.cos(i),S=Math.sin(r),P=Math.cos(r),l=y*P,u=y*S,g=c,this.face===lt.FRONT?(n=Math.acos(l),a=ta(n,g,u,h)):this.face===lt.RIGHT?(n=Math.acos(u),a=ta(n,g,-l,h)):this.face===lt.BACK?(n=Math.acos(-l),a=ta(n,g,-u,h)):this.face===lt.LEFT?(n=Math.acos(-u),a=ta(n,g,l,h)):(n=a=0,h.value=Je.AREA_0)}return s=Math.atan(12/dt*(a+Math.acos(Math.sin(a)*Math.cos(Xe))-K)),o=Math.sqrt((1-Math.cos(n))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(a))))),h.value===Je.AREA_1?s+=K:h.value===Je.AREA_2?s+=dt:h.value===Je.AREA_3&&(s+=1.5*dt),e.x=o*Math.cos(s),e.y=o*Math.sin(s),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function Q0(t){var e={lam:0,phi:0},i,r,a,n,o,s,h,l,u,g={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),i=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?g.value=Je.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(g.value=Je.AREA_1,i-=K):t.x<0&&-t.x>=Math.abs(t.y)?(g.value=Je.AREA_2,i=i<0?i+dt:i-dt):(g.value=Je.AREA_3,i+=K),u=dt/12*Math.tan(i),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),s=Math.atan(o),a=Math.cos(i),n=Math.tan(r),h=1-a*a*n*n*(1-Math.cos(Math.atan(1/Math.cos(s)))),h<-1?h=-1:h>1&&(h=1),this.face===lt.TOP)l=Math.acos(h),e.phi=K-l,g.value===Je.AREA_0?e.lam=s+K:g.value===Je.AREA_1?e.lam=s<0?s+dt:s-dt:g.value===Je.AREA_2?e.lam=s-K:e.lam=s;else if(this.face===lt.BOTTOM)l=Math.acos(h),e.phi=l-K,g.value===Je.AREA_0?e.lam=-s+K:g.value===Je.AREA_1?e.lam=-s:g.value===Je.AREA_2?e.lam=-s-K:e.lam=s<0?-s-dt:-s+dt;else{var c,y,S;c=h,u=c*c,u>=1?S=0:S=Math.sqrt(1-u)*Math.sin(s),u+=S*S,u>=1?y=0:y=Math.sqrt(1-u),g.value===Je.AREA_1?(u=y,y=-S,S=u):g.value===Je.AREA_2?(y=-y,S=-S):g.value===Je.AREA_3&&(u=y,y=S,S=-u),this.face===lt.RIGHT?(u=c,c=-y,y=u):this.face===lt.BACK?(c=-c,y=-y):this.face===lt.LEFT&&(u=c,c=y,y=-u),e.phi=Math.acos(-S)-K,e.lam=Math.atan2(y,c),this.face===lt.RIGHT?e.lam=rr(e.lam,-K):this.face===lt.BACK?e.lam=rr(e.lam,-dt):this.face===lt.LEFT&&(e.lam=rr(e.lam,+K))}if(this.es!==0){var P,A,b;P=e.phi<0?1:0,A=Math.tan(e.phi),b=this.b/Math.sqrt(A*A+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-b*b)/(this.one_minus_f*b)),P&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function ta(t,e,i,r){var a;return t<oe?(r.value=Je.AREA_0,a=0):(a=Math.atan2(e,i),Math.abs(a)<=Xe?r.value=Je.AREA_0:a>Xe&&a<=K+Xe?(r.value=Je.AREA_1,a-=K):a>K+Xe||a<=-(K+Xe)?(r.value=Je.AREA_2,a=a>=0?a-dt:a+dt):(r.value=Je.AREA_3,a+=K)),a}function rr(t,e){var i=t+e;return i<-dt?i+=Gr:i>+dt&&(i-=Gr),i}var eg=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const tg={init:J0,forward:Y0,inverse:Q0,names:eg};var Vn=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Er=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],ll=.8487,fl=1.3523,ul=Jt/5,ig=1/ul,tr=18,ya=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},rg=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function ag(t,e,i,r){for(var a=e;r;--r){var n=t(a);if(a-=n,Math.abs(n)<i)break}return a}function ng(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function sg(t){var e=de(t.x-this.long0),i=Math.abs(t.y),r=Math.floor(i*ul);r<0?r=0:r>=tr&&(r=tr-1),i=Jt*(i-ig*r);var a={x:ya(Vn[r],i)*e,y:ya(Er[r],i)};return t.y<0&&(a.y=-a.y),a.x=a.x*this.a*ll+this.x0,a.y=a.y*this.a*fl+this.y0,a}function og(t){var e={x:(t.x-this.x0)/(this.a*ll),y:Math.abs(t.y-this.y0)/(this.a*fl)};if(e.y>=1)e.x/=Vn[tr][0],e.y=t.y<0?-K:K;else{var i=Math.floor(e.y*tr);for(i<0?i=0:i>=tr&&(i=tr-1);;)if(Er[i][0]>e.y)--i;else if(Er[i+1][0]<=e.y)++i;else break;var r=Er[i],a=5*(e.y-r[0])/(Er[i+1][0]-r[0]);a=ag(function(n){return(ya(r,n)-e.y)/rg(r,n)},a,oe,100),e.x/=ya(Vn[i],a),e.y=(5*i+a)*Mt,t.y<0&&(e.y=-e.y)}return e.x=de(e.x+this.long0),e}var hg=["Robinson","robin"];const lg={init:ng,forward:sg,inverse:og,names:hg};function fg(){this.name="geocent"}function ug(t){var e=Yh(t,this.es,this.a);return e}function cg(t){var e=Qh(t,this.es,this.a,this.b);return e}var dg=["Geocentric","geocentric","geocent","Geocent"];const gg={init:fg,forward:ug,inverse:cg,names:dg};var Et={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},yr={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function pg(){if(Object.keys(yr).forEach(function(i){if(typeof this[i]=="undefined")this[i]=yr[i].def;else{if(yr[i].num&&isNaN(this[i]))throw new Error("Invalid parameter value, must be numeric "+i+" = "+this[i]);yr[i].num&&(this[i]=parseFloat(this[i]))}yr[i].degrees&&(this[i]=this[i]*Mt)}.bind(this)),Math.abs(Math.abs(this.lat0)-K)<oe?this.mode=this.lat0<0?Et.S_POLE:Et.N_POLE:Math.abs(this.lat0)<oe?this.mode=Et.EQUIT:(this.mode=Et.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function mg(t){t.x-=this.long0;var e=Math.sin(t.y),i=Math.cos(t.y),r=Math.cos(t.x),a,n;switch(this.mode){case Et.OBLIQ:n=this.sinph0*e+this.cosph0*i*r;break;case Et.EQUIT:n=i*r;break;case Et.S_POLE:n=-e;break;case Et.N_POLE:n=e;break}switch(n=this.pn1/(this.p-n),a=n*i*Math.sin(t.x),this.mode){case Et.OBLIQ:n*=this.cosph0*e-this.sinph0*i*r;break;case Et.EQUIT:n*=e;break;case Et.N_POLE:n*=-(i*r);break;case Et.S_POLE:n*=i*r;break}var o,s;return o=n*this.cg+a*this.sg,s=1/(o*this.sw*this.h1+this.cw),a=(a*this.cg-n*this.sg)*this.cw*s,n=o*s,t.x=a*this.a,t.y=n*this.a,t}function vg(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},i,r,a;a=1/(this.pn1-t.y*this.sw),i=this.pn1*t.x*a,r=this.pn1*t.y*this.cw*a,t.x=i*this.cg+r*this.sg,t.y=r*this.cg-i*this.sg;var n=Nt(t.x,t.y);if(Math.abs(n)<oe)e.x=0,e.y=t.y;else{var o,s;switch(s=1-n*n*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/n+n/this.pn1),o=Math.sqrt(1-s*s),this.mode){case Et.OBLIQ:e.y=Math.asin(o*this.sinph0+t.y*s*this.cosph0/n),t.y=(o-this.sinph0*Math.sin(e.y))*n,t.x*=s*this.cosph0;break;case Et.EQUIT:e.y=Math.asin(t.y*s/n),t.y=o*n,t.x*=s;break;case Et.N_POLE:e.y=Math.asin(o),t.y=-t.y;break;case Et.S_POLE:e.y=-Math.asin(o);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var _g=["Tilted_Perspective","tpers"];const yg={init:pg,forward:mg,inverse:vg,names:_g};function wg(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function bg(t){var e=t.x,i=t.y,r,a,n,o;if(e=e-this.long0,this.shape==="ellipse"){i=Math.atan(this.radius_p2*Math.tan(i));var s=this.radius_p/Nt(this.radius_p*Math.cos(i),Math.sin(i));if(a=s*Math.cos(e)*Math.cos(i),n=s*Math.sin(e)*Math.cos(i),o=s*Math.sin(i),(this.radius_g-a)*a-n*n-o*o*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-a,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/Nt(o,r)),t.y=this.radius_g_1*Math.atan(o/r)):(t.x=this.radius_g_1*Math.atan(n/r),t.y=this.radius_g_1*Math.atan(o/Nt(n,r)))}else this.shape==="sphere"&&(r=Math.cos(i),a=Math.cos(e)*r,n=Math.sin(e)*r,o=Math.sin(i),r=this.radius_g-a,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/Nt(o,r)),t.y=this.radius_g_1*Math.atan(o/r)):(t.x=this.radius_g_1*Math.atan(n/r),t.y=this.radius_g_1*Math.atan(o/Nt(n,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function Sg(t){var e=-1,i=0,r=0,a,n,o,s;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),i=Math.tan(t.x/this.radius_g_1)*Nt(1,r)):(i=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Nt(1,i));var h=r/this.radius_p;if(a=i*i+h*h+e*e,n=2*this.radius_g*e,o=n*n-4*a*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;s=(-n-Math.sqrt(o))/(2*a),e=this.radius_g+s*e,i*=s,r*=s,t.x=Math.atan2(i,e),t.y=Math.atan(r*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),i=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(i=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+i*i)),a=i*i+r*r+e*e,n=2*this.radius_g*e,o=n*n-4*a*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;s=(-n-Math.sqrt(o))/(2*a),e=this.radius_g+s*e,i*=s,r*=s,t.x=Math.atan2(i,e),t.y=Math.atan(r*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var xg=["Geostationary Satellite View","Geostationary_Satellite","geos"];const Mg={init:wg,forward:bg,inverse:Sg,names:xg};var Ar=1.340264,Tr=-.081106,Ir=893e-6,Nr=.003796,wa=Math.sqrt(3)/2;function Eg(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function Pg(t){var e=de(t.x-this.long0),i=t.y,r=Math.asin(wa*Math.sin(i)),a=r*r,n=a*a*a;return t.x=e*Math.cos(r)/(wa*(Ar+3*Tr*a+n*(7*Ir+9*Nr*a))),t.y=r*(Ar+Tr*a+n*(Ir+Nr*a)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function kg(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,i=12,r=t.y,a,n,o,s,h,l;for(l=0;l<i&&(a=r*r,n=a*a*a,o=r*(Ar+Tr*a+n*(Ir+Nr*a))-t.y,s=Ar+3*Tr*a+n*(7*Ir+9*Nr*a),r-=h=o/s,!(Math.abs(h)<e));++l);return a=r*r,n=a*a*a,t.x=wa*t.x*(Ar+3*Tr*a+n*(7*Ir+9*Nr*a))/Math.cos(r),t.y=Math.asin(Math.sin(r)/wa),t.x=de(t.x+this.long0),t}var Cg=["eqearth","Equal Earth","Equal_Earth"];const Ag={init:Eg,forward:Pg,inverse:kg,names:Cg};var Fr=1e-10;function Tg(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<Fr)throw new Error;this.es?(this.en=cs(this.es),this.m1=dr(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Ng,this.forward=Ig):(Math.abs(this.phi1)+Fr>=K?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=Og,this.forward=Rg)}function Ig(t){var e=de(t.x-(this.long0||0)),i=t.y,r,a,n;return r=this.am1+this.m1-dr(i,a=Math.sin(i),n=Math.cos(i),this.en),a=n*e/(r*Math.sqrt(1-this.es*a*a)),t.x=r*Math.sin(a),t.y=this.am1-r*Math.cos(a),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Ng(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,i,r,a;if(i=Nt(t.x,t.y=this.am1-t.y),a=ds(this.am1+this.m1-i,this.es,this.en),(e=Math.abs(a))<K)e=Math.sin(a),r=i*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(a);else if(Math.abs(e-K)<=Fr)r=0;else throw new Error;return t.x=de(r+(this.long0||0)),t.y=Ci(a),t}function Rg(t){var e=de(t.x-(this.long0||0)),i=t.y,r,a;return a=this.cphi1+this.phi1-i,Math.abs(a)>Fr?(t.x=a*Math.sin(r=e*Math.cos(i)/a),t.y=this.cphi1-a*Math.cos(r)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Og(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,i,r=Nt(t.x,t.y=this.cphi1-t.y);if(i=this.cphi1+this.phi1-r,Math.abs(i)>K)throw new Error;return Math.abs(Math.abs(i)-K)<=Fr?e=0:e=r*Math.atan2(t.x,t.y)/Math.cos(i),t.x=de(e+(this.long0||0)),t.y=Ci(i),t}var Gg=["bonne","Bonne (Werner lat_1=90)"];const Lg={init:Tg,names:Gg};function Dg(t){t.Proj.projections.add(la),t.Proj.projections.add(fa),t.Proj.projections.add(Gc),t.Proj.projections.add(qc),t.Proj.projections.add(Kc),t.Proj.projections.add(ed),t.Proj.projections.add(sd),t.Proj.projections.add(ud),t.Proj.projections.add(md),t.Proj.projections.add(bd),t.Proj.projections.add(Od),t.Proj.projections.add(Bd),t.Proj.projections.add(Vd),t.Proj.projections.add(Jd),t.Proj.projections.add(i0),t.Proj.projections.add(o0),t.Proj.projections.add(c0),t.Proj.projections.add(v0),t.Proj.projections.add(x0),t.Proj.projections.add(C0),t.Proj.projections.add(R0),t.Proj.projections.add(F0),t.Proj.projections.add(V0),t.Proj.projections.add(X0),t.Proj.projections.add(tg),t.Proj.projections.add(lg),t.Proj.projections.add(gg),t.Proj.projections.add(yg),t.Proj.projections.add(Mg),t.Proj.projections.add(Ag),t.Proj.projections.add(Lg)}const Oa=Object.assign(Yu,{defaultDatum:"WGS84",Proj:Ht,WGS84:new Ht("WGS84"),Point:sr,toPoint:el,defs:kt,nadgrid:Ou,transform:va,mgrs:Qu,version:"__VERSION__"});Dg(Oa);var cl,xo=()=>new DecompressionStream("deflate-raw");try{xo(),cl=async t=>{let e=xo(),i=e.writable.getWriter(),r=e.readable.getReader(),a,n=[],o=0,s=0,h;for(i.write(t),i.close();!(h=await r.read()).done;)a=h.value,n.push(a),o+=a.length;return!n[1]&&a||(a=new Uint8Array(o),n.map(l=>(a.set(l,s),s+=l.length))),a}}catch{}var Fg=new TextDecoder,sn=t=>{throw new Error("but-unzip~"+t)},Mo=t=>Fg.decode(t);function*Ug(t,e=cl){let i=t.length-20,r=Math.max(i-65516,2);for(;(i=t.lastIndexOf(80,i-1))!==-1&&!(t[i+1]===75&&t[i+2]===5&&t[i+3]===6)&&i>r;);i===-1&&sn(2);let a=(l,u)=>t.subarray(i+=l,i+=u),n=new DataView(t.buffer,t.byteOffset),o=l=>n.getUint16(l+i,!0),s=l=>n.getUint32(l+i,!0),h=o(10);for(h!==o(8)&&sn(3),i=s(16);h--;){let l=o(10),u=o(30),g=o(32),c=s(20),y=s(42),S=Mo(a(46,o(28))),P=Mo(a(u,g)),A=i,b;i=y,b=a(30+o(26)+o(28),c),yield{filename:S,comment:P,read:()=>l&8?e(b):l?sn(1):b},i=A}}const Bg=/.+\.(shp|dbf|json|prj|cpg)$/i,zg=async t=>{const e={},i=[];for(const n of Ug(t))Bg.test(n.filename)&&i.push(Promise.resolve(n.read()).then(o=>e[n.filename]=o));await Promise.all(i);const r={},a=new TextDecoder;for(const[n,o]of Object.entries(e))n.slice(-3).toLowerCase()==="shp"||n.slice(-3).toLowerCase()==="dbf"?r[n]=new DataView(o.buffer,o.byteOffset,o.byteLength):r[n]=a.decode(o);return r},jg=globalThis.URL,$g=(t,e)=>{if(!e)return t;const i=new jg(t);return i.pathname=`${i.pathname}.${e}`,i.href};async function Ur(t,e){const i=$g(t,e),r=e==="prj"||e==="cpg";try{const a=await fetch(i);if(a.status>399)throw new Error(a.statusText);if(r)return a.text();const n=await a.arrayBuffer();return new DataView(n)}catch(a){if(r||e==="dbf")return!1;throw a}}function qg(t){let e=0,i=1;const r=t.length;let a,n;const o=[t[0][0],t[0][1],t[0][0],t[0][1]];for(;i<r;)a=n||t[0],n=t[i],e+=(n[0]-a[0])*(n[1]+a[1]),i++,n[0]<o[0]&&(o[0]=n[0]),n[1]<o[1]&&(o[1]=n[1]),n[0]>o[2]&&(o[2]=n[0]),n[1]>o[3]&&(o[3]=n[1]);return{ring:t,clockWise:e>0,bbox:o,children:[]}}function Eo(t,e){return!(t.bbox[0]>e.bbox[0]||t.bbox[1]>e.bbox[1]||t.bbox[2]<e.bbox[2]||t.bbox[3]<e.bbox[3])}function dl(t,e=!1){const i=[],r=[];for(const o of t){const s=qg(o);s.clockWise!==e?i.push(s):r.push(s)}const a=[];for(const o of r){let s;for(const h of i)Eo(h,o)&&(s?Eo(s,h)&&(s=h):s=h);s?s.children.push(o.ring):a.push(o)}if(e)return{outers:i,orphens:a};if(a.length&&!e){const o=dl(t,!0);if(o.orphens.length===0){const s=[];for(const h of o.outers)s.push([h.ring.toReversed()].concat(h.children.map(l=>l.toReversed())));return s}}const n=[];for(const o of i)n.push([o.ring].concat(o.children));return n}pt.prototype.parsePoint=function(t){return{type:"Point",coordinates:this.parseCoord(t,0)}};pt.prototype.parseZPoint=function(t){const e=this.parsePoint(t);return e.coordinates.push(t.getFloat64(16,!0)),e};pt.prototype.parsePointArray=function(t,e,i){const r=[];let a=0;for(;a<i;)r.push(this.parseCoord(t,e)),e+=16,a++;return r};pt.prototype.parseZPointArray=function(t,e,i,r){let a=0;for(;a<i;)r[a].push(t.getFloat64(e,!0)),a++,e+=8;return r};pt.prototype.parseArrayGroup=function(t,e,i,r,a){const n=[];let o=0,s,h=0,l;for(;o<r;)o++,i+=4,s=h,o===r?h=a:h=t.getInt32(i,!0),l=h-s,l&&(n.push(this.parsePointArray(t,e,l)),e+=l<<4);return n};pt.prototype.parseZArrayGroup=function(t,e,i,r){let a=0;for(;a<i;)r[a]=this.parseZPointArray(t,e,r[a].length,r[a]),e+=r[a].length<<3,a++;return r};pt.prototype.parseMultiPoint=function(t){const e={},i=t.getInt32(32,!0);if(!i)return null;const r=this.parseCoord(t,0),a=this.parseCoord(t,16);e.bbox=[r[0],r[1],a[0],a[1]];const n=36;return i===1?(e.type="Point",e.coordinates=this.parseCoord(t,n)):(e.type="MultiPoint",e.coordinates=this.parsePointArray(t,n,i)),e};pt.prototype.parseZMultiPoint=function(t){const e=this.parseMultiPoint(t);if(!e)return null;let i;if(e.type==="Point")return e.coordinates.push(t.getFloat64(72,!0)),e;i=e.coordinates.length;const r=52+(i<<4);return e.coordinates=this.parseZPointArray(t,r,i,e.coordinates),e};pt.prototype.parsePolyline=function(t){const e={},i=t.getInt32(32,!0);if(!i)return null;const r=this.parseCoord(t,0),a=this.parseCoord(t,16);e.bbox=[r[0],r[1],a[0],a[1]];const n=t.getInt32(36,!0);let o,s;return i===1?(e.type="LineString",o=44,e.coordinates=this.parsePointArray(t,o,n)):(e.type="MultiLineString",o=40+(i<<2),s=40,e.coordinates=this.parseArrayGroup(t,o,s,i,n)),e};pt.prototype.parseZPolyline=function(t){const e=this.parsePolyline(t);if(!e)return null;const i=e.coordinates.length;let r;return e.type==="LineString"?(r=60+(i<<4),e.coordinates=this.parseZPointArray(t,r,i,e.coordinates),e):(r=56+(e.coordinates.reduce(function(n,o){return n+o.length},0)<<4)+(i<<2),e.coordinates=this.parseZArrayGroup(t,r,i,e.coordinates),e)};pt.prototype.polyFuncs=function(t){return t&&(t.type==="LineString"?(t.type="Polygon",t.coordinates=[t.coordinates],t):(t.coordinates=dl(t.coordinates),t.coordinates.length===1?(t.type="Polygon",t.coordinates=t.coordinates[0],t):(t.type="MultiPolygon",t)))};pt.prototype.parsePolygon=function(t){return this.polyFuncs(this.parsePolyline(t))};pt.prototype.parseZPolygon=function(t){return this.polyFuncs(this.parseZPolyline(t))};const Po={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};function Vg(t){return t?function(e,i){const r=[e.getFloat64(i,!0),e.getFloat64(i+8,!0)];return t.inverse(r)}:function(e,i){return[e.getFloat64(i,!0),e.getFloat64(i+8,!0)]}}function pt(t,e){if(!(this instanceof pt))return new pt(t,e);this.buffer=t,this.headers=this.parseHeader(),this.shpFuncs(e),this.rows=this.getRows()}pt.prototype.shpFuncs=function(t){let e=this.headers.shpCode;if(e>20&&(e-=20),!(e in Po))throw new Error(`I don't know shp type "${e}"`);this.parseFunc=this[Po[e]],this.parseCoord=Vg(t)};pt.prototype.getShpCode=function(){return this.parseHeader().shpCode};pt.prototype.parseHeader=function(){const t=this.buffer;return{length:t.getInt32(24)<<1,version:t.getInt32(28,!0),shpCode:t.getInt32(32,!0),bbox:[t.getFloat64(36,!0),t.getFloat64(44,!0),t.getFloat64(52,!0),t.getFloat64(60,!0)]}};pt.prototype.getRows=function(){let t=100;const e=this.buffer.byteLength-8,i=[];let r;for(;t<=e&&(r=this.getRow(t),!!r);)t+=8,t+=r.len,r.type?i.push(this.parseFunc(r.data)):i.push(null);return i};pt.prototype.getRow=function(t){const e=this.buffer.getInt32(t),i=this.buffer.getInt32(t+4)<<1;if(i===0)return{id:e,len:i,type:0};if(!(t+i+8>this.buffer.byteLength))return{id:e,len:i,data:new DataView(this.buffer.buffer,this.buffer.byteOffset+t+12,i-4),type:this.buffer.getInt32(t+8,!0)}};function ys(t,e){return new pt(t,e).rows}var Zg=/^(?:ANSI\s)?(\d+)$/m;function gl(t,e){if(!t)return r;try{new TextDecoder(t.trim())}catch{var i=Zg.exec(t);return i&&!e?gl("windows-"+i[1],!0):(t=void 0,r)}return r;function r(a){var n=new TextDecoder(t||void 0),o=n.decode(a,{stream:!0})+n.decode();return o.replace(/\0/g,"").trim()}}function Hg(t){var e={};return e.lastUpdated=new Date(t.getUint8(1)+1900,t.getUint8(2),t.getUint8(3)),e.records=t.getUint32(4,!0),e.headerLen=t.getUint16(8,!0),e.recLen=t.getUint16(10,!0),e}function Wg(t,e,i){for(var r=[],a=32;a<e&&(r.push({name:i(new Uint8Array(t.buffer.slice(t.byteOffset+a,t.byteOffset+a+11))),dataType:String.fromCharCode(t.getUint8(a+11)),len:t.getUint8(a+16),decimal:t.getUint8(a+17)}),t.getUint8(a+32)!==13);)a+=32;return r}function Kg(t,e,i,r,a){const n=new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteOffset+e+i));var o=a(n);switch(r){case"N":case"F":case"O":return parseFloat(o,10);case"D":return new Date(o.slice(0,4),parseInt(o.slice(4,6),10)-1,o.slice(6,8));case"L":return o.toLowerCase()==="y"||o.toLowerCase()==="t";default:return o}}function Xg(t,e,i,r){for(var a={},n=0,o=i.length,s,h;n<o;)h=i[n],s=Kg(t,e,h.len,h.dataType,r),e+=h.len,typeof s!="undefined"&&(a[h.name]=s),n++;return a}function ws(t,e){for(var i=gl(e),r=Hg(t),a=Wg(t,r.headerLen-1,i),n=(a.length+1<<5)+2,o=r.recLen,s=r.records,h=[];s;)h.push(Xg(t,n,a,i)),n+=o,s--;return h}const Jg=globalThis.URL,Yg=t=>{if(!t)throw new Error("forgot to pass buffer");if(or(t))return new Uint8Array(t);if(or(t.buffer))return t.BYTES_PER_ELEMENT===1?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("invalid buffer like object")},Qg=new TextDecoder,pl=t=>{if(t){if(typeof t=="string")return t;if(or(t)||ArrayBuffer.isView(t)||bs(t))return Qg.decode(t)}},ml=t=>{if(!t)throw new Error("forgot to pass buffer");if(bs(t))return t;if(or(t))return new DataView(t);if(or(t.buffer))return new DataView(t.buffer,t.byteOffset,t.byteLength);throw new Error("invalid buffer like object")};function or(t){return t instanceof globalThis.ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]"}function bs(t){return t instanceof globalThis.DataView||Object.prototype.toString.call(t)==="[object DataView]"}const Ga=function([t,e]){const i={};i.type="FeatureCollection",i.features=[];let r=0;const a=t.length;for(e||(e=[]);r<a;)i.features.push({type:"Feature",geometry:t[r],properties:e[r]||{}}),r++;return i},Ss=async function(t,e){let i;t=Yg(t);const r=await zg(t),a=[];e=e||[];for(i in r)i.indexOf("__MACOSX")===-1&&(i.slice(-4).toLowerCase()===".shp"?(a.push(i.slice(0,-4)),r[i.slice(0,-3)+i.slice(-3).toLowerCase()]=r[i]):i.slice(-4).toLowerCase()===".prj"?r[i.slice(0,-3)+i.slice(-3).toLowerCase()]=Oa(r[i]):i.slice(-5).toLowerCase()===".json"||e.indexOf(i.split(".").pop())>-1?a.push(i.slice(0,-3)+i.slice(-3).toLowerCase()):(i.slice(-4).toLowerCase()===".dbf"||i.slice(-4).toLowerCase()===".cpg")&&(r[i.slice(0,-3)+i.slice(-3).toLowerCase()]=r[i]));if(!a.length)throw new Error("no layers founds");const n=a.map(function(o){let s,h;const l=o.lastIndexOf(".");return l>-1&&o.slice(l).indexOf("json")>-1?(s=JSON.parse(r[o]),s.fileName=o.slice(0,l)):e.indexOf(o.slice(l+1))>-1?(s=r[o],s.fileName=o):(r[o+".dbf"]&&(h=ws(r[o+".dbf"],r[o+".cpg"])),s=Ga([ys(r[o+".shp"],r[o+".prj"]),h]),s.fileName=o),s});return n.length===1?n[0]:n};async function e1(t,e){const i=await Ur(t);return Ss(i,e)}const t1=async t=>{const e=await Promise.all([Ur(t,"shp"),Ur(t,"prj")]);let i=!1;try{e[1]&&(i=Oa(e[1]))}catch{i=!1}return ys(e[0],i)},i1=async t=>{const[e,i]=await Promise.all([Ur(t,"dbf"),Ur(t,"cpg")]);if(e)return ws(e,i)},ko=(t,e)=>{var r;return new Jg(t,(r=globalThis==null?void 0:globalThis.document)==null?void 0:r.location).pathname.slice(-4).toLowerCase()===e},r1=({shp:t,dbf:e,cpg:i,prj:r})=>{const a=[vl(t,r)];return e&&a.push(_l(e,i)),Ga(a)},Co=async function(t,e){if(typeof t!="string"){if(or(t)||ArrayBuffer.isView(t)||bs(t))return Ss(t);if(t.shp)return r1(t);throw new TypeError("must be a string, some sort of Buffer, or an object with at least a .shp property")}if(ko(t,".zip"))return e1(t,e);ko(t,".shp")&&(t=t.slice(0,-4));const i=await Promise.all([t1(t),i1(t)]);return Ga(i)},vl=function(t,e){if(t=ml(t),e=pl(e),typeof e=="string")try{e=Oa(e)}catch{e=!1}return ys(t,e)},_l=function(t,e){return t=ml(t),e=pl(e),ws(t,e)},Ap=Object.freeze(Object.defineProperty({__proto__:null,combine:Ga,default:Co,getShapefile:Co,parseDbf:_l,parseShp:vl,parseZip:Ss},Symbol.toStringTag,{value:"Module"})),Q=Qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class hi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=e}format(e){const i=e||function(n){return n.message},r={_errors:[]},a=n=>{for(const o of n.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(i(o));else{let s=r,h=0;for(;h<o.path.length;){const l=o.path[h];h===o.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(i(o))):s[l]=s[l]||{_errors:[]},s=s[l],h++}}};return a(this),r}static assert(e){if(!(e instanceof hi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=i=>i.message){const i={},r=[];for(const a of this.issues)if(a.path.length>0){const n=a.path[0];i[n]=i[n]||[],i[n].push(e(a))}else r.push(e(a));return{formErrors:r,fieldErrors:i}}get formErrors(){return this.flatten()}}hi.create=t=>new hi(t);const Zn=(t,e)=>{let i;switch(t.code){case Q.invalid_type:t.received===Re.undefined?i="Required":i=`Expected ${t.expected}, received ${t.received}`;break;case Q.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(t.expected,Qe.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:i=`Unrecognized key(s) in object: ${Qe.joinValues(t.keys,", ")}`;break;case Q.invalid_union:i="Invalid input";break;case Q.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${Qe.joinValues(t.options)}`;break;case Q.invalid_enum_value:i=`Invalid enum value. Expected ${Qe.joinValues(t.options)}, received '${t.received}'`;break;case Q.invalid_arguments:i="Invalid function arguments";break;case Q.invalid_return_type:i="Invalid function return type";break;case Q.invalid_date:i="Invalid date";break;case Q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(i=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(i=`${i} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?i=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?i=`Invalid input: must end with "${t.validation.endsWith}"`:Qe.assertNever(t.validation):t.validation!=="regex"?i=`Invalid ${t.validation}`:i="Invalid";break;case Q.too_small:t.type==="array"?i=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?i=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?i=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?i=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?i=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:i="Invalid input";break;case Q.too_big:t.type==="array"?i=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?i=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?i=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?i=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?i=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:i="Invalid input";break;case Q.custom:i="Invalid input";break;case Q.invalid_intersection_types:i="Intersection results could not be merged";break;case Q.not_multiple_of:i=`Number must be a multiple of ${t.multipleOf}`;break;case Q.not_finite:i="Number must be finite";break;default:i=e.defaultError,Qe.assertNever(t)}return{message:i}};let a1=Zn;function n1(){return a1}const s1=t=>{const{data:e,path:i,errorMaps:r,issueData:a}=t,n=[...i,...a.path||[]],o={...a,path:n};if(a.message!==void 0)return{...a,path:n,message:a.message};let s="";const h=r.filter(l=>!!l).slice().reverse();for(const l of h)s=l(o,{data:e,defaultError:s}).message;return{...a,path:n,message:s}};function pe(t,e){const i=n1(),r=s1({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,i,i===Zn?void 0:Zn].filter(a=>!!a)});t.common.issues.push(r)}class Lt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,i){const r=[];for(const a of i){if(a.status==="aborted")return Oe;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,i){const r=[];for(const a of i){const n=await a.key,o=await a.value;r.push({key:n,value:o})}return Lt.mergeObjectSync(e,r)}static mergeObjectSync(e,i){const r={};for(const a of i){const{key:n,value:o}=a;if(n.status==="aborted"||o.status==="aborted")return Oe;n.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof o.value!="undefined"||a.alwaysSet)&&(r[n.value]=o.value)}return{status:e.value,value:r}}}const Oe=Object.freeze({status:"aborted"}),Pr=t=>({status:"dirty",value:t}),Bt=t=>({status:"valid",value:t}),Ao=t=>t.status==="aborted",To=t=>t.status==="dirty",hr=t=>t.status==="valid",ba=t=>typeof Promise!="undefined"&&t instanceof Promise;var we;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(we||(we={}));class Si{constructor(e,i,r,a){this._cachedPath=[],this.parent=e,this.data=i,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Io=(t,e)=>{if(hr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const i=new hi(t.common.issues);return this._error=i,this._error}}};function Be(t){if(!t)return{};const{errorMap:e,invalid_type_error:i,required_error:r,description:a}=t;if(e&&(i||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,s)=>{var l,u;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h!=null?h:s.defaultError}:typeof s.data=="undefined"?{message:(l=h!=null?h:r)!=null?l:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(u=h!=null?h:i)!=null?u:s.defaultError}},description:a}}class He{get description(){return this._def.description}_getType(e){return ci(e.data)}_getOrReturnCtx(e,i){return i||{common:e.parent.common,data:e.data,parsedType:ci(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Lt,ctx:{common:e.parent.common,data:e.data,parsedType:ci(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const i=this._parse(e);if(ba(i))throw new Error("Synchronous parse encountered promise.");return i}_parseAsync(e){const i=this._parse(e);return Promise.resolve(i)}parse(e,i){const r=this.safeParse(e,i);if(r.success)return r.data;throw r.error}safeParse(e,i){var n;const r={common:{issues:[],async:(n=i==null?void 0:i.async)!=null?n:!1,contextualErrorMap:i==null?void 0:i.errorMap},path:(i==null?void 0:i.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ci(e)},a=this._parseSync({data:e,path:r.path,parent:r});return Io(r,a)}"~validate"(e){var r,a;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ci(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:i});return hr(n)?{value:n.value}:{issues:i.common.issues}}catch(n){(a=(r=n==null?void 0:n.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(n=>hr(n)?{value:n.value}:{issues:i.common.issues})}async parseAsync(e,i){const r=await this.safeParseAsync(e,i);if(r.success)return r.data;throw r.error}async safeParseAsync(e,i){const r={common:{issues:[],contextualErrorMap:i==null?void 0:i.errorMap,async:!0},path:(i==null?void 0:i.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ci(e)},a=this._parse({data:e,path:r.path,parent:r}),n=await(ba(a)?a:Promise.resolve(a));return Io(r,n)}refine(e,i){const r=a=>typeof i=="string"||typeof i=="undefined"?{message:i}:typeof i=="function"?i(a):i;return this._refinement((a,n)=>{const o=e(a),s=()=>n.addIssue({code:Q.custom,...r(a)});return typeof Promise!="undefined"&&o instanceof Promise?o.then(h=>h?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(e,i){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof i=="function"?i(r,a):i),!1))}_refinement(e){return new ur({schema:this,typeName:Ge.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:i=>this["~validate"](i)}}optional(){return yi.create(this,this._def)}nullable(){return cr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yt.create(this)}promise(){return Ea.create(this,this._def)}or(e){return xa.create([this,e],this._def)}and(e){return Ma.create(this,e,this._def)}transform(e){return new ur({...Be(this._def),schema:this,typeName:Ge.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const i=typeof e=="function"?e:()=>e;return new Jn({...Be(this._def),innerType:this,defaultValue:i,typeName:Ge.ZodDefault})}brand(){return new A1({typeName:Ge.ZodBranded,type:this,...Be(this._def)})}catch(e){const i=typeof e=="function"?e:()=>e;return new Yn({...Be(this._def),innerType:this,catchValue:i,typeName:Ge.ZodCatch})}describe(e){const i=this.constructor;return new i({...this._def,description:e})}pipe(e){return xs.create(this,e)}readonly(){return Qn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const o1=/^c[^\s-]{8,}$/i,h1=/^[0-9a-z]+$/,l1=/^[0-9A-HJKMNP-TV-Z]{26}$/i,f1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,u1=/^[a-z0-9_-]{21}$/i,c1=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,d1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,g1=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,p1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let on;const m1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,v1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,y1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,w1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,b1=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,yl="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",S1=new RegExp(`^${yl}$`);function wl(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const i=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${i}`}function x1(t){return new RegExp(`^${wl(t)}$`)}function M1(t){let e=`${yl}T${wl(t)}`;const i=[];return i.push(t.local?"Z?":"Z"),t.offset&&i.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${i.join("|")})`,new RegExp(`^${e}$`)}function E1(t,e){return!!((e==="v4"||!e)&&m1.test(t)||(e==="v6"||!e)&&_1.test(t))}function P1(t,e){if(!c1.test(t))return!1;try{const[i]=t.split(".");if(!i)return!1;const r=i.replace(/-/g,"+").replace(/_/g,"/").padEnd(i.length+(4-i.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function k1(t,e){return!!((e==="v4"||!e)&&v1.test(t)||(e==="v6"||!e)&&y1.test(t))}class pi extends He{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Re.string){const n=this._getOrReturnCtx(e);return pe(n,{code:Q.invalid_type,expected:Re.string,received:n.parsedType}),Oe}const r=new Lt;let a;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(a=this._getOrReturnCtx(e,a),pe(a,{code:Q.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="max")e.data.length>n.value&&(a=this._getOrReturnCtx(e,a),pe(a,{code:Q.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="length"){const o=e.data.length>n.value,s=e.data.length<n.value;(o||s)&&(a=this._getOrReturnCtx(e,a),o?pe(a,{code:Q.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):s&&pe(a,{code:Q.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),r.dirty())}else if(n.kind==="email")g1.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"email",code:Q.invalid_string,message:n.message}),r.dirty());else if(n.kind==="emoji")on||(on=new RegExp(p1,"u")),on.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"emoji",code:Q.invalid_string,message:n.message}),r.dirty());else if(n.kind==="uuid")f1.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"uuid",code:Q.invalid_string,message:n.message}),r.dirty());else if(n.kind==="nanoid")u1.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"nanoid",code:Q.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid")o1.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"cuid",code:Q.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid2")h1.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"cuid2",code:Q.invalid_string,message:n.message}),r.dirty());else if(n.kind==="ulid")l1.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"ulid",code:Q.invalid_string,message:n.message}),r.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),pe(a,{validation:"url",code:Q.invalid_string,message:n.message}),r.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"regex",code:Q.invalid_string,message:n.message}),r.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(a=this._getOrReturnCtx(e,a),pe(a,{code:Q.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),r.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(a=this._getOrReturnCtx(e,a),pe(a,{code:Q.invalid_string,validation:{startsWith:n.value},message:n.message}),r.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(a=this._getOrReturnCtx(e,a),pe(a,{code:Q.invalid_string,validation:{endsWith:n.value},message:n.message}),r.dirty()):n.kind==="datetime"?M1(n).test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{code:Q.invalid_string,validation:"datetime",message:n.message}),r.dirty()):n.kind==="date"?S1.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{code:Q.invalid_string,validation:"date",message:n.message}),r.dirty()):n.kind==="time"?x1(n).test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{code:Q.invalid_string,validation:"time",message:n.message}),r.dirty()):n.kind==="duration"?d1.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"duration",code:Q.invalid_string,message:n.message}),r.dirty()):n.kind==="ip"?E1(e.data,n.version)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"ip",code:Q.invalid_string,message:n.message}),r.dirty()):n.kind==="jwt"?P1(e.data,n.alg)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"jwt",code:Q.invalid_string,message:n.message}),r.dirty()):n.kind==="cidr"?k1(e.data,n.version)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"cidr",code:Q.invalid_string,message:n.message}),r.dirty()):n.kind==="base64"?w1.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"base64",code:Q.invalid_string,message:n.message}),r.dirty()):n.kind==="base64url"?b1.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"base64url",code:Q.invalid_string,message:n.message}),r.dirty()):Qe.assertNever(n);return{status:r.value,value:e.data}}_regex(e,i,r){return this.refinement(a=>e.test(a),{validation:i,code:Q.invalid_string,...we.errToObj(r)})}_addCheck(e){return new pi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...we.errToObj(e)})}url(e){return this._addCheck({kind:"url",...we.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...we.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...we.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...we.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...we.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...we.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...we.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...we.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...we.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...we.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...we.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...we.errToObj(e)})}datetime(e){var i,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(i=e==null?void 0:e.offset)!=null?i:!1,local:(r=e==null?void 0:e.local)!=null?r:!1,...we.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,...we.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...we.errToObj(e)})}regex(e,i){return this._addCheck({kind:"regex",regex:e,...we.errToObj(i)})}includes(e,i){return this._addCheck({kind:"includes",value:e,position:i==null?void 0:i.position,...we.errToObj(i==null?void 0:i.message)})}startsWith(e,i){return this._addCheck({kind:"startsWith",value:e,...we.errToObj(i)})}endsWith(e,i){return this._addCheck({kind:"endsWith",value:e,...we.errToObj(i)})}min(e,i){return this._addCheck({kind:"min",value:e,...we.errToObj(i)})}max(e,i){return this._addCheck({kind:"max",value:e,...we.errToObj(i)})}length(e,i){return this._addCheck({kind:"length",value:e,...we.errToObj(i)})}nonempty(e){return this.min(1,we.errToObj(e))}trim(){return new pi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxLength(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}}pi.create=t=>{var e;return new pi({checks:[],typeName:Ge.ZodString,coerce:(e=t==null?void 0:t.coerce)!=null?e:!1,...Be(t)})};function C1(t,e){const i=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=i>r?i:r,n=Number.parseInt(t.toFixed(a).replace(".","")),o=Number.parseInt(e.toFixed(a).replace(".",""));return n%o/10**a}class lr extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Re.number){const n=this._getOrReturnCtx(e);return pe(n,{code:Q.invalid_type,expected:Re.number,received:n.parsedType}),Oe}let r;const a=new Lt;for(const n of this._def.checks)n.kind==="int"?Qe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),pe(r,{code:Q.invalid_type,expected:"integer",received:"float",message:n.message}),a.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:Q.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:Q.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="multipleOf"?C1(e.data,n.value)!==0&&(r=this._getOrReturnCtx(e,r),pe(r,{code:Q.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),pe(r,{code:Q.not_finite,message:n.message}),a.dirty()):Qe.assertNever(n);return{status:a.value,value:e.data}}gte(e,i){return this.setLimit("min",e,!0,we.toString(i))}gt(e,i){return this.setLimit("min",e,!1,we.toString(i))}lte(e,i){return this.setLimit("max",e,!0,we.toString(i))}lt(e,i){return this.setLimit("max",e,!1,we.toString(i))}setLimit(e,i,r,a){return new lr({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:r,message:we.toString(a)}]})}_addCheck(e){return new lr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:we.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:we.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:we.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:we.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:we.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:we.toString(i)})}finite(e){return this._addCheck({kind:"finite",message:we.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:we.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:we.toString(e)})}get minValue(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxValue(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Qe.isInteger(e.value))}get isFinite(){let e=null,i=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(i===null||r.value>i)&&(i=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(i)&&Number.isFinite(e)}}lr.create=t=>new lr({checks:[],typeName:Ge.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Be(t)});class Br extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Re.bigint)return this._getInvalidInput(e);let r;const a=new Lt;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:Q.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:Q.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:Q.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):Qe.assertNever(n);return{status:a.value,value:e.data}}_getInvalidInput(e){const i=this._getOrReturnCtx(e);return pe(i,{code:Q.invalid_type,expected:Re.bigint,received:i.parsedType}),Oe}gte(e,i){return this.setLimit("min",e,!0,we.toString(i))}gt(e,i){return this.setLimit("min",e,!1,we.toString(i))}lte(e,i){return this.setLimit("max",e,!0,we.toString(i))}lt(e,i){return this.setLimit("max",e,!1,we.toString(i))}setLimit(e,i,r,a){return new Br({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:r,message:we.toString(a)}]})}_addCheck(e){return new Br({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:we.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:we.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:we.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:we.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:we.toString(i)})}get minValue(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxValue(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}}Br.create=t=>{var e;return new Br({checks:[],typeName:Ge.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!=null?e:!1,...Be(t)})};class Hn extends He{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Re.boolean){const r=this._getOrReturnCtx(e);return pe(r,{code:Q.invalid_type,expected:Re.boolean,received:r.parsedType}),Oe}return Bt(e.data)}}Hn.create=t=>new Hn({typeName:Ge.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Be(t)});class Sa extends He{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Re.date){const n=this._getOrReturnCtx(e);return pe(n,{code:Q.invalid_type,expected:Re.date,received:n.parsedType}),Oe}if(Number.isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return pe(n,{code:Q.invalid_date}),Oe}const r=new Lt;let a;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(a=this._getOrReturnCtx(e,a),pe(a,{code:Q.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(a=this._getOrReturnCtx(e,a),pe(a,{code:Q.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):Qe.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Sa({...this._def,checks:[...this._def.checks,e]})}min(e,i){return this._addCheck({kind:"min",value:e.getTime(),message:we.toString(i)})}max(e,i){return this._addCheck({kind:"max",value:e.getTime(),message:we.toString(i)})}get minDate(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e!=null?new Date(e):null}}Sa.create=t=>new Sa({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ge.ZodDate,...Be(t)});class No extends He{_parse(e){if(this._getType(e)!==Re.symbol){const r=this._getOrReturnCtx(e);return pe(r,{code:Q.invalid_type,expected:Re.symbol,received:r.parsedType}),Oe}return Bt(e.data)}}No.create=t=>new No({typeName:Ge.ZodSymbol,...Be(t)});class Ro extends He{_parse(e){if(this._getType(e)!==Re.undefined){const r=this._getOrReturnCtx(e);return pe(r,{code:Q.invalid_type,expected:Re.undefined,received:r.parsedType}),Oe}return Bt(e.data)}}Ro.create=t=>new Ro({typeName:Ge.ZodUndefined,...Be(t)});class Wn extends He{_parse(e){if(this._getType(e)!==Re.null){const r=this._getOrReturnCtx(e);return pe(r,{code:Q.invalid_type,expected:Re.null,received:r.parsedType}),Oe}return Bt(e.data)}}Wn.create=t=>new Wn({typeName:Ge.ZodNull,...Be(t)});class Kn extends He{constructor(){super(...arguments),this._any=!0}_parse(e){return Bt(e.data)}}Kn.create=t=>new Kn({typeName:Ge.ZodAny,...Be(t)});class Oo extends He{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Bt(e.data)}}Oo.create=t=>new Oo({typeName:Ge.ZodUnknown,...Be(t)});class xi extends He{_parse(e){const i=this._getOrReturnCtx(e);return pe(i,{code:Q.invalid_type,expected:Re.never,received:i.parsedType}),Oe}}xi.create=t=>new xi({typeName:Ge.ZodNever,...Be(t)});class Go extends He{_parse(e){if(this._getType(e)!==Re.undefined){const r=this._getOrReturnCtx(e);return pe(r,{code:Q.invalid_type,expected:Re.void,received:r.parsedType}),Oe}return Bt(e.data)}}Go.create=t=>new Go({typeName:Ge.ZodVoid,...Be(t)});class Yt extends He{_parse(e){const{ctx:i,status:r}=this._processInputParams(e),a=this._def;if(i.parsedType!==Re.array)return pe(i,{code:Q.invalid_type,expected:Re.array,received:i.parsedType}),Oe;if(a.exactLength!==null){const o=i.data.length>a.exactLength.value,s=i.data.length<a.exactLength.value;(o||s)&&(pe(i,{code:o?Q.too_big:Q.too_small,minimum:s?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&i.data.length<a.minLength.value&&(pe(i,{code:Q.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&i.data.length>a.maxLength.value&&(pe(i,{code:Q.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),i.common.async)return Promise.all([...i.data].map((o,s)=>a.type._parseAsync(new Si(i,o,i.path,s)))).then(o=>Lt.mergeArray(r,o));const n=[...i.data].map((o,s)=>a.type._parseSync(new Si(i,o,i.path,s)));return Lt.mergeArray(r,n)}get element(){return this._def.type}min(e,i){return new Yt({...this._def,minLength:{value:e,message:we.toString(i)}})}max(e,i){return new Yt({...this._def,maxLength:{value:e,message:we.toString(i)}})}length(e,i){return new Yt({...this._def,exactLength:{value:e,message:we.toString(i)}})}nonempty(e){return this.min(1,e)}}Yt.create=(t,e)=>new Yt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ge.ZodArray,...Be(e)});function Ji(t){if(t instanceof vt){const e={};for(const i in t.shape){const r=t.shape[i];e[i]=yi.create(Ji(r))}return new vt({...t._def,shape:()=>e})}else return t instanceof Yt?new Yt({...t._def,type:Ji(t.element)}):t instanceof yi?yi.create(Ji(t.unwrap())):t instanceof cr?cr.create(Ji(t.unwrap())):t instanceof Fi?Fi.create(t.items.map(e=>Ji(e))):t}class vt extends He{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),i=Qe.objectKeys(e);return this._cached={shape:e,keys:i},this._cached}_parse(e){if(this._getType(e)!==Re.object){const l=this._getOrReturnCtx(e);return pe(l,{code:Q.invalid_type,expected:Re.object,received:l.parsedType}),Oe}const{status:r,ctx:a}=this._processInputParams(e),{shape:n,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof xi&&this._def.unknownKeys==="strip"))for(const l in a.data)o.includes(l)||s.push(l);const h=[];for(const l of o){const u=n[l],g=a.data[l];h.push({key:{status:"valid",value:l},value:u._parse(new Si(a,g,a.path,l)),alwaysSet:l in a.data})}if(this._def.catchall instanceof xi){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of s)h.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(l==="strict")s.length>0&&(pe(a,{code:Q.unrecognized_keys,keys:s}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of s){const g=a.data[u];h.push({key:{status:"valid",value:u},value:l._parse(new Si(a,g,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of h){const g=await u.key,c=await u.value;l.push({key:g,value:c,alwaysSet:u.alwaysSet})}return l}).then(l=>Lt.mergeObjectSync(r,l)):Lt.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(e){return we.errToObj,new vt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(i,r)=>{var n,o,s,h;const a=(s=(o=(n=this._def).errorMap)==null?void 0:o.call(n,i,r).message)!=null?s:r.defaultError;return i.code==="unrecognized_keys"?{message:(h=we.errToObj(e).message)!=null?h:a}:{message:a}}}:{}})}strip(){return new vt({...this._def,unknownKeys:"strip"})}passthrough(){return new vt({...this._def,unknownKeys:"passthrough"})}extend(e){return new vt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new vt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ge.ZodObject})}setKey(e,i){return this.augment({[e]:i})}catchall(e){return new vt({...this._def,catchall:e})}pick(e){const i={};for(const r of Qe.objectKeys(e))e[r]&&this.shape[r]&&(i[r]=this.shape[r]);return new vt({...this._def,shape:()=>i})}omit(e){const i={};for(const r of Qe.objectKeys(this.shape))e[r]||(i[r]=this.shape[r]);return new vt({...this._def,shape:()=>i})}deepPartial(){return Ji(this)}partial(e){const i={};for(const r of Qe.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?i[r]=a:i[r]=a.optional()}return new vt({...this._def,shape:()=>i})}required(e){const i={};for(const r of Qe.objectKeys(this.shape))if(e&&!e[r])i[r]=this.shape[r];else{let n=this.shape[r];for(;n instanceof yi;)n=n._def.innerType;i[r]=n}return new vt({...this._def,shape:()=>i})}keyof(){return bl(Qe.objectKeys(this.shape))}}vt.create=(t,e)=>new vt({shape:()=>t,unknownKeys:"strip",catchall:xi.create(),typeName:Ge.ZodObject,...Be(e)});vt.strictCreate=(t,e)=>new vt({shape:()=>t,unknownKeys:"strict",catchall:xi.create(),typeName:Ge.ZodObject,...Be(e)});vt.lazycreate=(t,e)=>new vt({shape:t,unknownKeys:"strip",catchall:xi.create(),typeName:Ge.ZodObject,...Be(e)});class xa extends He{_parse(e){const{ctx:i}=this._processInputParams(e),r=this._def.options;function a(n){for(const s of n)if(s.result.status==="valid")return s.result;for(const s of n)if(s.result.status==="dirty")return i.common.issues.push(...s.ctx.common.issues),s.result;const o=n.map(s=>new hi(s.ctx.common.issues));return pe(i,{code:Q.invalid_union,unionErrors:o}),Oe}if(i.common.async)return Promise.all(r.map(async n=>{const o={...i,common:{...i.common,issues:[]},parent:null};return{result:await n._parseAsync({data:i.data,path:i.path,parent:o}),ctx:o}})).then(a);{let n;const o=[];for(const h of r){const l={...i,common:{...i.common,issues:[]},parent:null},u=h._parseSync({data:i.data,path:i.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!n&&(n={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(n)return i.common.issues.push(...n.ctx.common.issues),n.result;const s=o.map(h=>new hi(h));return pe(i,{code:Q.invalid_union,unionErrors:s}),Oe}}get options(){return this._def.options}}xa.create=(t,e)=>new xa({options:t,typeName:Ge.ZodUnion,...Be(e)});function Xn(t,e){const i=ci(t),r=ci(e);if(t===e)return{valid:!0,data:t};if(i===Re.object&&r===Re.object){const a=Qe.objectKeys(e),n=Qe.objectKeys(t).filter(s=>a.indexOf(s)!==-1),o={...t,...e};for(const s of n){const h=Xn(t[s],e[s]);if(!h.valid)return{valid:!1};o[s]=h.data}return{valid:!0,data:o}}else if(i===Re.array&&r===Re.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let n=0;n<t.length;n++){const o=t[n],s=e[n],h=Xn(o,s);if(!h.valid)return{valid:!1};a.push(h.data)}return{valid:!0,data:a}}else return i===Re.date&&r===Re.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ma extends He{_parse(e){const{status:i,ctx:r}=this._processInputParams(e),a=(n,o)=>{if(Ao(n)||Ao(o))return Oe;const s=Xn(n.value,o.value);return s.valid?((To(n)||To(o))&&i.dirty(),{status:i.value,value:s.data}):(pe(r,{code:Q.invalid_intersection_types}),Oe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([n,o])=>a(n,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ma.create=(t,e,i)=>new Ma({left:t,right:e,typeName:Ge.ZodIntersection,...Be(i)});class Fi extends He{_parse(e){const{status:i,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.array)return pe(r,{code:Q.invalid_type,expected:Re.array,received:r.parsedType}),Oe;if(r.data.length<this._def.items.length)return pe(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oe;!this._def.rest&&r.data.length>this._def.items.length&&(pe(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),i.dirty());const n=[...r.data].map((o,s)=>{const h=this._def.items[s]||this._def.rest;return h?h._parse(new Si(r,o,r.path,s)):null}).filter(o=>!!o);return r.common.async?Promise.all(n).then(o=>Lt.mergeArray(i,o)):Lt.mergeArray(i,n)}get items(){return this._def.items}rest(e){return new Fi({...this._def,rest:e})}}Fi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fi({items:t,typeName:Ge.ZodTuple,rest:null,...Be(e)})};class Lo extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:i,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.map)return pe(r,{code:Q.invalid_type,expected:Re.map,received:r.parsedType}),Oe;const a=this._def.keyType,n=this._def.valueType,o=[...r.data.entries()].map(([s,h],l)=>({key:a._parse(new Si(r,s,r.path,[l,"key"])),value:n._parse(new Si(r,h,r.path,[l,"value"]))}));if(r.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const h of o){const l=await h.key,u=await h.value;if(l.status==="aborted"||u.status==="aborted")return Oe;(l.status==="dirty"||u.status==="dirty")&&i.dirty(),s.set(l.value,u.value)}return{status:i.value,value:s}})}else{const s=new Map;for(const h of o){const l=h.key,u=h.value;if(l.status==="aborted"||u.status==="aborted")return Oe;(l.status==="dirty"||u.status==="dirty")&&i.dirty(),s.set(l.value,u.value)}return{status:i.value,value:s}}}}Lo.create=(t,e,i)=>new Lo({valueType:e,keyType:t,typeName:Ge.ZodMap,...Be(i)});class zr extends He{_parse(e){const{status:i,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.set)return pe(r,{code:Q.invalid_type,expected:Re.set,received:r.parsedType}),Oe;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(pe(r,{code:Q.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),i.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(pe(r,{code:Q.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),i.dirty());const n=this._def.valueType;function o(h){const l=new Set;for(const u of h){if(u.status==="aborted")return Oe;u.status==="dirty"&&i.dirty(),l.add(u.value)}return{status:i.value,value:l}}const s=[...r.data.values()].map((h,l)=>n._parse(new Si(r,h,r.path,l)));return r.common.async?Promise.all(s).then(h=>o(h)):o(s)}min(e,i){return new zr({...this._def,minSize:{value:e,message:we.toString(i)}})}max(e,i){return new zr({...this._def,maxSize:{value:e,message:we.toString(i)}})}size(e,i){return this.min(e,i).max(e,i)}nonempty(e){return this.min(1,e)}}zr.create=(t,e)=>new zr({valueType:t,minSize:null,maxSize:null,typeName:Ge.ZodSet,...Be(e)});class Do extends He{get schema(){return this._def.getter()}_parse(e){const{ctx:i}=this._processInputParams(e);return this._def.getter()._parse({data:i.data,path:i.path,parent:i})}}Do.create=(t,e)=>new Do({getter:t,typeName:Ge.ZodLazy,...Be(e)});class Fo extends He{_parse(e){if(e.data!==this._def.value){const i=this._getOrReturnCtx(e);return pe(i,{received:i.data,code:Q.invalid_literal,expected:this._def.value}),Oe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Fo.create=(t,e)=>new Fo({value:t,typeName:Ge.ZodLiteral,...Be(e)});function bl(t,e){return new fr({values:t,typeName:Ge.ZodEnum,...Be(e)})}class fr extends He{_parse(e){if(typeof e.data!="string"){const i=this._getOrReturnCtx(e),r=this._def.values;return pe(i,{expected:Qe.joinValues(r),received:i.parsedType,code:Q.invalid_type}),Oe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const i=this._getOrReturnCtx(e),r=this._def.values;return pe(i,{received:i.data,code:Q.invalid_enum_value,options:r}),Oe}return Bt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const i of this._def.values)e[i]=i;return e}get Values(){const e={};for(const i of this._def.values)e[i]=i;return e}get Enum(){const e={};for(const i of this._def.values)e[i]=i;return e}extract(e,i=this._def){return fr.create(e,{...this._def,...i})}exclude(e,i=this._def){return fr.create(this.options.filter(r=>!e.includes(r)),{...this._def,...i})}}fr.create=bl;class Uo extends He{_parse(e){const i=Qe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Re.string&&r.parsedType!==Re.number){const a=Qe.objectValues(i);return pe(r,{expected:Qe.joinValues(a),received:r.parsedType,code:Q.invalid_type}),Oe}if(this._cache||(this._cache=new Set(Qe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Qe.objectValues(i);return pe(r,{received:r.data,code:Q.invalid_enum_value,options:a}),Oe}return Bt(e.data)}get enum(){return this._def.values}}Uo.create=(t,e)=>new Uo({values:t,typeName:Ge.ZodNativeEnum,...Be(e)});class Ea extends He{unwrap(){return this._def.type}_parse(e){const{ctx:i}=this._processInputParams(e);if(i.parsedType!==Re.promise&&i.common.async===!1)return pe(i,{code:Q.invalid_type,expected:Re.promise,received:i.parsedType}),Oe;const r=i.parsedType===Re.promise?i.data:Promise.resolve(i.data);return Bt(r.then(a=>this._def.type.parseAsync(a,{path:i.path,errorMap:i.common.contextualErrorMap})))}}Ea.create=(t,e)=>new Ea({type:t,typeName:Ge.ZodPromise,...Be(e)});class ur extends He{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:i,ctx:r}=this._processInputParams(e),a=this._def.effect||null,n={addIssue:o=>{pe(r,o),o.fatal?i.abort():i.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),a.type==="preprocess"){const o=a.transform(r.data,n);if(r.common.async)return Promise.resolve(o).then(async s=>{if(i.value==="aborted")return Oe;const h=await this._def.schema._parseAsync({data:s,path:r.path,parent:r});return h.status==="aborted"?Oe:h.status==="dirty"||i.value==="dirty"?Pr(h.value):h});{if(i.value==="aborted")return Oe;const s=this._def.schema._parseSync({data:o,path:r.path,parent:r});return s.status==="aborted"?Oe:s.status==="dirty"||i.value==="dirty"?Pr(s.value):s}}if(a.type==="refinement"){const o=s=>{const h=a.refinement(s,n);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Oe:(s.status==="dirty"&&i.dirty(),o(s.value),{status:i.value,value:s.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>s.status==="aborted"?Oe:(s.status==="dirty"&&i.dirty(),o(s.value).then(()=>({status:i.value,value:s.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!hr(o))return Oe;const s=a.transform(o.value,n);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:s}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>hr(o)?Promise.resolve(a.transform(o.value,n)).then(s=>({status:i.value,value:s})):Oe);Qe.assertNever(a)}}ur.create=(t,e,i)=>new ur({schema:t,typeName:Ge.ZodEffects,effect:e,...Be(i)});ur.createWithPreprocess=(t,e,i)=>new ur({schema:e,effect:{type:"preprocess",transform:t},typeName:Ge.ZodEffects,...Be(i)});class yi extends He{_parse(e){return this._getType(e)===Re.undefined?Bt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yi.create=(t,e)=>new yi({innerType:t,typeName:Ge.ZodOptional,...Be(e)});class cr extends He{_parse(e){return this._getType(e)===Re.null?Bt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}cr.create=(t,e)=>new cr({innerType:t,typeName:Ge.ZodNullable,...Be(e)});class Jn extends He{_parse(e){const{ctx:i}=this._processInputParams(e);let r=i.data;return i.parsedType===Re.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:i.path,parent:i})}removeDefault(){return this._def.innerType}}Jn.create=(t,e)=>new Jn({innerType:t,typeName:Ge.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Be(e)});class Yn extends He{_parse(e){const{ctx:i}=this._processInputParams(e),r={...i,common:{...i.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ba(a)?a.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new hi(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new hi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Yn.create=(t,e)=>new Yn({innerType:t,typeName:Ge.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Be(e)});class Bo extends He{_parse(e){if(this._getType(e)!==Re.nan){const r=this._getOrReturnCtx(e);return pe(r,{code:Q.invalid_type,expected:Re.nan,received:r.parsedType}),Oe}return{status:"valid",value:e.data}}}Bo.create=t=>new Bo({typeName:Ge.ZodNaN,...Be(t)});class A1 extends He{_parse(e){const{ctx:i}=this._processInputParams(e),r=i.data;return this._def.type._parse({data:r,path:i.path,parent:i})}unwrap(){return this._def.type}}class xs extends He{_parse(e){const{status:i,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?Oe:n.status==="dirty"?(i.dirty(),Pr(n.value)):this._def.out._parseAsync({data:n.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Oe:a.status==="dirty"?(i.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,i){return new xs({in:e,out:i,typeName:Ge.ZodPipeline})}}class Qn extends He{_parse(e){const i=this._def.innerType._parse(e),r=a=>(hr(a)&&(a.value=Object.freeze(a.value)),a);return ba(i)?i.then(a=>r(a)):r(i)}unwrap(){return this._def.innerType}}Qn.create=(t,e)=>new Qn({innerType:t,typeName:Ge.ZodReadonly,...Be(e)});var Ge;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ge||(Ge={}));const Tp=pi.create,Ip=lr.create,Np=Hn.create,Rp=Wn.create,Op=Kn.create;xi.create;Yt.create;const Gp=vt.create,Lp=xa.create;Ma.create;Fi.create;fr.create;Ea.create;yi.create;cr.create;var La=typeof self!="undefined"?self:globalThis;const jr=typeof navigator!="undefined",T1=jr&&typeof HTMLImageElement=="undefined",Pa=!(typeof globalThis=="undefined"||typeof process=="undefined"||!process.versions||!process.versions.node),Da=La.Buffer,ia=La.BigInt,Fa=!!Da,I1=t=>t;function ka(t,e=I1){if(Pa)try{return typeof require=="function"?Promise.resolve(e(require(t))):import(t).then(e)}catch{console.warn(`Couldn't load ${t}`)}}let Ms=La.fetch;const N1=t=>Ms=t;if(!La.fetch){const t=ka("http",(r=>r)),e=ka("https",(r=>r)),i=(r,{headers:a}={})=>new Promise((async(n,o)=>{let{port:s,hostname:h,pathname:l,protocol:u,search:g}=new URL(r);const c={method:"GET",hostname:h,path:encodeURI(l)+g,headers:a};s!==""&&(c.port=Number(s));const y=(u==="https:"?await e:await t).request(c,(S=>{if(S.statusCode===301||S.statusCode===302){let P=new URL(S.headers.location,r).toString();return i(P,{headers:a}).then(n).catch(o)}n({status:S.statusCode,arrayBuffer:()=>new Promise((P=>{let A=[];S.on("data",(b=>A.push(b))),S.on("end",(()=>P(Buffer.concat(A))))}))})}));y.on("error",o),y.end()}));N1(i)}function Ne(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const Ca=t=>Sl(t)?void 0:t,R1=t=>t!==void 0;function Sl(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(R1).length===0)}function _t(t){let e=new Error(t);throw delete e.stack,e}function Gi(t){return(t=(function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e})(t).trim())===""?void 0:t}function es(t){let e=(function(i){let r=0;return i.ifd0.enabled&&(r+=1024),i.exif.enabled&&(r+=2048),i.makerNote&&(r+=2048),i.userComment&&(r+=1024),i.gps.enabled&&(r+=512),i.interop.enabled&&(r+=100),i.ifd1.enabled&&(r+=1024),r+2048})(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const ts=t=>String.fromCharCode.apply(null,t),zo=typeof TextDecoder!="undefined"?new TextDecoder("utf-8"):void 0;function xl(t){return zo?zo.decode(t):Fa?Buffer.from(t).toString("utf8"):decodeURIComponent(escape(ts(t)))}class Rt{static from(e,i){return e instanceof this&&e.le===i?e:new Rt(e,void 0,void 0,i)}constructor(e,i=0,r,a){if(typeof a=="boolean"&&(this.le=a),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){r===void 0&&(r=e.byteLength-i);let n=new DataView(e,i,r);this._swapDataView(n)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Rt){r===void 0&&(r=e.byteLength-i),(i+=e.byteOffset)+r>e.byteOffset+e.byteLength&&_t("Creating view outside of available memory in ArrayBuffer");let n=new DataView(e.buffer,i,r);this._swapDataView(n)}else if(typeof e=="number"){let n=new DataView(new ArrayBuffer(e));this._swapDataView(n)}else _t("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,i,r=Rt){return e instanceof DataView||e instanceof Rt?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||_t("BufferView.set(): Invalid data argument."),this.toUint8().set(e,i),new r(this,i,e.byteLength)}subarray(e,i){return i=i||this._lengthToEnd(e),new Rt(this,e,i)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,i){return new Uint8Array(this.buffer,this.byteOffset+e,i)}getString(e=0,i=this.byteLength){return xl(this.getUint8Array(e,i))}getLatin1String(e=0,i=this.byteLength){let r=this.getUint8Array(e,i);return ts(r)}getUnicodeString(e=0,i=this.byteLength){const r=[];for(let a=0;a<i&&e+a<this.byteLength;a+=2)r.push(this.getUint16(e+a));return ts(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,i=this.le){return this.dataView.getInt16(e,i)}getInt32(e,i=this.le){return this.dataView.getInt32(e,i)}getUint16(e,i=this.le){return this.dataView.getUint16(e,i)}getUint32(e,i=this.le){return this.dataView.getUint32(e,i)}getFloat32(e,i=this.le){return this.dataView.getFloat32(e,i)}getFloat64(e,i=this.le){return this.dataView.getFloat64(e,i)}getFloat(e,i=this.le){return this.dataView.getFloat32(e,i)}getDouble(e,i=this.le){return this.dataView.getFloat64(e,i)}getUintBytes(e,i,r){switch(i){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,i,r){switch(i){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function is(t,e){_t(`${t} '${e}' was not loaded, try using full build of exifr.`)}class Es extends Map{constructor(e){super(),this.kind=e}get(e,i){return this.has(e)||is(this.kind,e),i&&(e in i||(function(r,a){_t(`Unknown ${r} '${a}'.`)})(this.kind,e),i[e].enabled||is(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var Wt=new Es("file parser"),gt=new Es("segment parser"),Kt=new Es("file reader");function O1(t,e){return typeof t=="string"?jo(t,e):jr&&!T1&&t instanceof HTMLImageElement?jo(t.src,e):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new Rt(t):jr&&t instanceof Blob?rs(t,e,"blob",Ei):void _t("Invalid input argument")}function jo(t,e){return(i=t).startsWith("data:")||i.length>1e4?as(t,e,"base64"):Pa&&t.includes("://")?rs(t,e,"url",Mi):Pa?as(t,e,"fs"):jr?rs(t,e,"url",Mi):void _t("Invalid input argument");var i}async function rs(t,e,i,r){return Kt.has(i)?as(t,e,i):r?(async function(a,n){let o=await n(a);return new Rt(o)})(t,r):void _t(`Parser ${i} is not loaded`)}async function as(t,e,i){let r=new(Kt.get(i))(t,e);return await r.read(),r}const Mi=t=>Ms(t).then((e=>e.arrayBuffer())),Ei=t=>new Promise(((e,i)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=i,r.readAsArrayBuffer(t)}));class G1 extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function ct(t,e,i){let r=new G1;for(let[a,n]of i)r.set(a,n);if(Array.isArray(e))for(let a of e)t.set(a,r);else t.set(e,r);return r}function Pi(t,e,i){let r,a=t.get(e);for(r of i)a.set(r[0],r[1])}const wt=new Map,zt=new Map,oi=new Map,ri=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],zi=["jfif","xmp","icc","iptc","ihdr"],ki=["tiff",...zi],ht=["ifd0","ifd1","exif","gps","interop"],ai=[...ki,...ht],ni=["makerNote","userComment"],ji=["translateKeys","translateValues","reviveValues","multiSegment"],si=[...ji,"sanitize","mergeOutput","silentErrors"];class Ml{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class wr extends Ml{get needed(){return this.enabled||this.deps.size>0}constructor(e,i,r,a){if(super(),Ne(this,"enabled",!1),Ne(this,"skip",new Set),Ne(this,"pick",new Set),Ne(this,"deps",new Set),Ne(this,"translateKeys",!1),Ne(this,"translateValues",!1),Ne(this,"reviveValues",!1),this.key=e,this.enabled=i,this.parse=this.enabled,this.applyInheritables(a),this.canBeFiltered=ht.includes(e),this.canBeFiltered&&(this.dict=wt.get(e)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:n,skip:o}=r;n&&n.length>0&&this.translateTagSet(n,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:_t(`Invalid options argument: ${r}`)}applyInheritables(e){let i,r;for(i of ji)r=e[i],r!==void 0&&(this[i]=r)}translateTagSet(e,i){if(this.dict){let r,a,{tagKeys:n,tagValues:o}=this.dict;for(r of e)typeof r=="string"?(a=o.indexOf(r),a===-1&&(a=n.indexOf(Number(r))),a!==-1&&i.add(Number(n[a]))):i.add(r)}else for(let r of e)i.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Aa(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Aa(this.pick,this.deps)}}var Pt={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},$o=new Map;class Ai extends Ml{static useCached(e){let i=$o.get(e);return i!==void 0||(i=new this(e),$o.set(e,i)),i}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):_t(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=jr?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of ri)this[e]=Pt[e];for(e of si)this[e]=Pt[e];for(e of ni)this[e]=Pt[e];for(e of ai)this[e]=new wr(e,Pt[e],void 0,this)}setupFromTrue(){let e;for(e of ri)this[e]=Pt[e];for(e of si)this[e]=Pt[e];for(e of ni)this[e]=!0;for(e of ai)this[e]=new wr(e,!0,void 0,this)}setupFromArray(e){let i;for(i of ri)this[i]=Pt[i];for(i of si)this[i]=Pt[i];for(i of ni)this[i]=Pt[i];for(i of ai)this[i]=new wr(i,!1,void 0,this);this.setupGlobalFilters(e,void 0,ht)}setupFromObject(e){let i;for(i of(ht.ifd0=ht.ifd0||ht.image,ht.ifd1=ht.ifd1||ht.thumbnail,Object.assign(this,e),ri))this[i]=hn(e[i],Pt[i]);for(i of si)this[i]=hn(e[i],Pt[i]);for(i of ni)this[i]=hn(e[i],Pt[i]);for(i of ki)this[i]=new wr(i,Pt[i],e[i],this);for(i of ht)this[i]=new wr(i,Pt[i],e[i],this.tiff);this.setupGlobalFilters(e.pick,e.skip,ht,ai),e.tiff===!0?this.batchEnableWithBool(ht,!0):e.tiff===!1?this.batchEnableWithUserValue(ht,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,ht):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,ht)}batchEnableWithBool(e,i){for(let r of e)this[r].enabled=i}batchEnableWithUserValue(e,i){for(let r of e){let a=i[r];this[r].enabled=a!==!1&&a!==void 0}}setupGlobalFilters(e,i,r,a=r){if(e&&e.length){for(let o of a)this[o].enabled=!1;let n=qo(e,r);for(let[o,s]of n)Aa(this[o].pick,s),this[o].enabled=!0}else if(i&&i.length){let n=qo(i,r);for(let[o,s]of n)Aa(this[o].skip,s)}}filterNestedSegmentTags(){let{ifd0:e,exif:i,xmp:r,iptc:a,icc:n}=this;this.makerNote?i.deps.add(37500):i.skip.add(37500),this.userComment?i.deps.add(37510):i.skip.add(37510),r.enabled||e.skip.add(700),a.enabled||e.skip.add(33723),n.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:i,gps:r,interop:a}=this;a.needed&&(i.deps.add(40965),e.deps.add(40965)),i.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=ht.some((n=>this[n].enabled===!0))||this.makerNote||this.userComment;for(let n of ht)this[n].finalizeFilters()}get onlyTiff(){return!zi.map((e=>this[e].enabled)).some((e=>e===!0))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of ki)this[e].enabled&&!gt.has(e)&&is("segment parser",e)}}function qo(t,e){let i,r,a,n,o=[];for(a of e){for(n of(i=wt.get(a),r=[],i))(t.includes(n[0])||t.includes(n[1]))&&r.push(n[0]);r.length&&o.push([a,r])}return o}function hn(t,e){return t!==void 0?t:e!==void 0?e:void 0}function Aa(t,e){for(let i of e)t.add(i)}Ne(Ai,"default",Pt);class fi{constructor(e){Ne(this,"parsers",{}),Ne(this,"output",{}),Ne(this,"errors",[]),Ne(this,"pushToErrors",(i=>this.errors.push(i))),this.options=Ai.useCached(e)}async read(e){this.file=await O1(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,i=e.getUint16(0);for(let[r,a]of Wt)if(a.canHandle(e,i))return this.fileParser=new a(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),_t("Unknown file format")}async parse(){let{output:e,errors:i}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),i.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&i.length>0&&(e.errors=i),Ca(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let i=Object.values(this.parsers).map((async r=>{let a=await r.parse();r.assignToOutput(e,a)}));this.options.silentErrors&&(i=i.map((r=>r.catch(this.pushToErrors)))),await Promise.all(i)}async extractThumbnail(){this.setup();let{options:e,file:i}=this,r=gt.get("tiff",e);var a;if(i.tiff?a={start:0,type:"tiff"}:i.jpeg&&(a=await this.fileParser.getOrFindSegment("tiff")),a===void 0)return;let n=await this.fileParser.ensureSegmentChunk(a),o=this.parsers.tiff=new r(n,e,i),s=await o.extractThumbnail();return i.close&&i.close(),s}}async function Kr(t,e){let i=new fi(e);return await i.read(t),i.parse()}var L1=Object.freeze({__proto__:null,parse:Kr,Exifr:fi,fileParsers:Wt,segmentParsers:gt,fileReaders:Kt,tagKeys:wt,tagValues:zt,tagRevivers:oi,createDictionary:ct,extendDictionary:Pi,fetchUrlAsArrayBuffer:Mi,readBlobAsArrayBuffer:Ei,chunkedProps:ri,otherSegments:zi,segments:ki,tiffBlocks:ht,segmentsAndBlocks:ai,tiffExtractables:ni,inheritables:ji,allFormatters:si,Options:Ai});class Ua{constructor(e,i,r){Ne(this,"errors",[]),Ne(this,"ensureSegmentChunk",(async a=>{let n=a.start,o=a.size||65536;if(this.file.chunked)if(this.file.available(n,o))a.chunk=this.file.subarray(n,o);else try{a.chunk=await this.file.readChunk(n,o)}catch(s){_t(`Couldn't read segment: ${JSON.stringify(a)}. ${s.message}`)}else this.file.byteLength>n+o?a.chunk=this.file.subarray(n,o):a.size===void 0?a.chunk=this.file.subarray(n):_t("Segment unreachable: "+JSON.stringify(a));return a.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=i,this.parsers=r}injectSegment(e,i){this.options[e].enabled&&this.createParser(e,i)}createParser(e,i){let r=new(gt.get(e))(i,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let i of e){let{type:r,chunk:a}=i,n=this.options[r];if(n&&n.enabled){let o=this.parsers[r];o&&o.append||o||this.createParser(r,a)}}}async readSegments(e){let i=e.map(this.ensureSegmentChunk);await Promise.all(i)}}class Vt{static findPosition(e,i){let r=e.getUint16(i+2)+2,a=typeof this.headerLength=="function"?this.headerLength(e,i,r):this.headerLength,n=i+a,o=r-a;return{offset:i,length:r,headerLength:a,start:n,size:o,end:n+o}}static parse(e,i={}){return new this(e,new Ai({[this.type]:i}),e).parse()}normalizeInput(e){return e instanceof Rt?e:new Rt(e)}constructor(e,i={},r){Ne(this,"errors",[]),Ne(this,"raw",new Map),Ne(this,"handleError",(a=>{if(!this.options.silentErrors)throw a;this.errors.push(a.message)})),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=i,this.localOptions=i[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,i){let r=oi.get(i),a=zt.get(i),n=wt.get(i),o=this.options[i],s=o.reviveValues&&!!r,h=o.translateValues&&!!a,l=o.translateKeys&&!!n,u={};for(let[g,c]of e)s&&r.has(g)?c=r.get(g)(c):h&&a.has(g)&&(c=this.translateValue(c,a.get(g))),l&&n.has(g)&&(g=n.get(g)||g),u[g]=c;return u}translateValue(e,i){return i[e]||i.DEFAULT||e}assignToOutput(e,i){this.assignObjectToOutput(e,this.constructor.type,i)}assignObjectToOutput(e,i,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[i]?Object.assign(e[i],r):e[i]=r}}Ne(Vt,"headerLength",4),Ne(Vt,"type",void 0),Ne(Vt,"multiSegment",!1),Ne(Vt,"canHandle",(()=>!1));function D1(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function F1(t){return t>=224&&t<=239}function U1(t,e,i){for(let[r,a]of gt)if(a.canHandle(t,e,i))return r}class Vo extends Ua{constructor(...e){super(...e),Ne(this,"appSegments",[]),Ne(this,"jpegSegments",[]),Ne(this,"unknownSegments",[])}static canHandle(e,i){return i===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(gt.keyList())):(e=e===void 0?gt.keyList().filter((i=>this.options[i].enabled)):e.filter((i=>this.options[i].enabled&&gt.has(i))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,i){this.setupSegmentFinderArgs(i);let{file:r,findAll:a,wanted:n,remaining:o}=this;if(!a&&this.file.chunked&&(a=Array.from(n).some((s=>{let h=gt.get(s),l=this.options[s];return h.multiSegment&&l.multiSegment})),a&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,r.byteLength),!this.options.onlyTiff&&r.chunked){let s=!1;for(;o.size>0&&!s&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:h}=r,l=this.appSegments.some((u=>!this.file.available(u.offset||u.start,u.length||u.size)));if(s=e>h&&!l?!await r.readNextChunk(e):!await r.readNextChunk(h),(e=this.findAppSegmentsInRange(e,r.byteLength))===void 0)return}}}findAppSegmentsInRange(e,i){i-=2;let r,a,n,o,s,h,{file:l,findAll:u,wanted:g,remaining:c,options:y}=this;for(;e<i;e++)if(l.getUint8(e)===255){if(r=l.getUint8(e+1),F1(r)){if(a=l.getUint16(e+2),n=U1(l,e,a),n&&g.has(n)&&(o=gt.get(n),s=o.findPosition(l,e),h=y[n],s.type=n,this.appSegments.push(s),!u&&(o.multiSegment&&h.multiSegment?(this.unfinishedMultiSegment=s.chunkNumber<s.chunkCount,this.unfinishedMultiSegment||c.delete(n)):c.delete(n),c.size===0)))break;y.recordUnknownSegments&&(s=Vt.findPosition(l,e),s.marker=r,this.unknownSegments.push(s)),e+=a+1}else if(D1(r)){if(a=l.getUint16(e+2),r===218&&y.stopAfterSos!==!1)return;y.recordJpegSegments&&this.jpegSegments.push({offset:e,length:a,marker:r}),e+=a+1}}return e}mergeMultiSegments(){if(!this.appSegments.some((i=>i.multiSegment)))return;let e=(function(i,r){let a,n,o,s=new Map;for(let h=0;h<i.length;h++)a=i[h],n=a[r],s.has(n)?o=s.get(n):s.set(n,o=[]),o.push(a);return Array.from(s)})(this.appSegments,"type");this.mergedAppSegments=e.map((([i,r])=>{let a=gt.get(i,this.options);return a.handleMultiSegments?{type:i,chunk:a.handleMultiSegments(r)}:r[0]}))}getSegment(e){return this.appSegments.find((i=>i.type===e))}async getOrFindSegment(e){let i=this.getSegment(e);return i===void 0&&(await this.findAppSegments(0,[e]),i=this.getSegment(e)),i}}Ne(Vo,"type","jpeg"),Wt.set("jpeg",Vo);const B1=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class z1 extends Vt{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,i,r=new Map){let{pick:a,skip:n}=this.options[i];a=new Set(a);let o=a.size>0,s=n.size===0,h=this.chunk.getUint16(e);e+=2;for(let l=0;l<h;l++){let u=this.chunk.getUint16(e);if(o){if(a.has(u)&&(r.set(u,this.parseTag(e,u,i)),a.delete(u),a.size===0))break}else!s&&n.has(u)||r.set(u,this.parseTag(e,u,i));e+=12}return r}parseTag(e,i,r){let{chunk:a}=this,n=a.getUint16(e+2),o=a.getUint32(e+4),s=B1[n];if(s*o<=4?e+=8:e=a.getUint32(e+8),(n<1||n>13)&&_t(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${i.toString(16)}, type: ${n}, offset ${e}`),e>a.byteLength&&_t(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${i.toString(16)}, type: ${n}, offset ${e} is outside of chunk size ${a.byteLength}`),n===1)return a.getUint8Array(e,o);if(n===2)return Gi(a.getString(e,o));if(n===7)return a.getUint8Array(e,o);if(o===1)return this.parseTagValue(n,e);{let h=new((function(u){switch(u){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}})(n))(o),l=s;for(let u=0;u<o;u++)h[u]=this.parseTagValue(n,e),e+=l;return h}}parseTagValue(e,i){let{chunk:r}=this;switch(e){case 1:return r.getUint8(i);case 3:return r.getUint16(i);case 4:return r.getUint32(i);case 5:return r.getUint32(i)/r.getUint32(i+4);case 6:return r.getInt8(i);case 8:return r.getInt16(i);case 9:return r.getInt32(i);case 10:return r.getInt32(i)/r.getInt32(i+4);case 11:return r.getFloat(i);case 12:return r.getDouble(i);case 13:return r.getUint32(i);default:_t(`Invalid tiff type ${e}`)}}}class ln extends z1{static canHandle(e,i){return e.getUint8(i+1)===225&&e.getUint32(i+4)===1165519206&&e.getUint16(i+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let i=this[e]();return i.catch!==void 0&&(i=i.catch(this.handleError)),i}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),i=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(i)}}parseBlock(e,i){let r=new Map;return this[i]=r,this.parseTags(e,i,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&_t("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&_t(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,es(this.options));let i=this.parseBlock(this.ifd0Offset,"ifd0");return i.size!==0?(this.exifOffset=i.get(34665),this.interopOffset=i.get(40965),this.gpsOffset=i.get(34853),this.xmp=i.get(700),this.iptc=i.get(33723),this.icc=i.get(34675),this.options.sanitize&&(i.delete(34665),i.delete(40965),i.delete(34853),i.delete(700),i.delete(33723),i.delete(34675)),i):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,es(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,i){let r=e.get(i);r&&r.length===1&&e.set(i,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",Zo(...e.get(2),e.get(1))),e.set("longitude",Zo(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),i=this.ifd1.get(514);return this.chunk.getUint8Array(e,i)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,i,r,a={};for(i of ht)if(e=this[i],!Sl(e))if(r=this.canTranslate?this.translateBlock(e,i):Object.fromEntries(e),this.options.mergeOutput){if(i==="ifd1")continue;Object.assign(a,r)}else a[i]=r;return this.makerNote&&(a.makerNote=this.makerNote),this.userComment&&(a.userComment=this.userComment),a}assignToOutput(e,i){if(this.globalOptions.mergeOutput)Object.assign(e,i);else for(let[r,a]of Object.entries(i))this.assignObjectToOutput(e,r,a)}}function Zo(t,e,i,r){var a=t+e/60+i/3600;return r!=="S"&&r!=="W"||(a*=-1),a}Ne(ln,"type","tiff"),Ne(ln,"headerLength",10),gt.set("tiff",ln);var j1=Object.freeze({__proto__:null,default:L1,Exifr:fi,fileParsers:Wt,segmentParsers:gt,fileReaders:Kt,tagKeys:wt,tagValues:zt,tagRevivers:oi,createDictionary:ct,extendDictionary:Pi,fetchUrlAsArrayBuffer:Mi,readBlobAsArrayBuffer:Ei,chunkedProps:ri,otherSegments:zi,segments:ki,tiffBlocks:ht,segmentsAndBlocks:ai,tiffExtractables:ni,inheritables:ji,allFormatters:si,Options:Ai,parse:Kr});const Ps={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},Ba=Object.assign({},Ps,{firstChunkSize:4e4,gps:[1,2,3,4]});async function ks(t){let e=new fi(Ba);await e.read(t);let i=await e.parse();if(i&&i.gps){let{latitude:r,longitude:a}=i.gps;return{latitude:r,longitude:a}}}const za=Object.assign({},Ps,{tiff:!1,ifd1:!0,mergeOutput:!1});async function Cs(t){let e=new fi(za);await e.read(t);let i=await e.extractThumbnail();return i&&Fa?Da.from(i):i}async function As(t){let e=await this.thumbnail(t);if(e!==void 0){let i=new Blob([e]);return URL.createObjectURL(i)}}const ja=Object.assign({},Ps,{firstChunkSize:4e4,ifd0:[274]});async function $a(t){let e=new fi(ja);await e.read(t);let i=await e.parse();if(i&&i.ifd0)return i.ifd0[274]}const qa=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let mi=!0,vi=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,i,r]=e;mi=Number(i)+.1*Number(r)<13.4,vi=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);mi=vi=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);mi=vi=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);mi=vi=Number(e)<77}}async function Ts(t){let e=await $a(t);return Object.assign({canvas:mi,css:vi},qa[e])}class $1 extends Rt{constructor(...e){super(...e),Ne(this,"ranges",new q1),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,i,r){if(e===0&&this.byteLength===0&&r){let a=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(a)}else{let a=e+i;if(a>this.byteLength){let{dataView:n}=this._extend(a);this._swapDataView(n)}}}_extend(e){let i;i=Fa?Da.allocUnsafe(e):new Uint8Array(e);let r=new DataView(i.buffer,i.byteOffset,i.byteLength);return i.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:i,dataView:r}}subarray(e,i,r=!1){return i=i||this._lengthToEnd(e),r&&this._tryExtend(e,i),this.ranges.add(e,i),super.subarray(e,i)}set(e,i,r=!1){r&&this._tryExtend(i,e.byteLength,e);let a=super.set(e,i);return this.ranges.add(i,a.byteLength),a}async ensureChunk(e,i){this.chunked&&(this.ranges.available(e,i)||await this.readChunk(e,i))}available(e,i){return this.ranges.available(e,i)}}class q1{constructor(){Ne(this,"list",[])}get length(){return this.list.length}add(e,i,r=0){let a=e+i,n=this.list.filter((o=>Ho(e,o.offset,a)||Ho(e,o.end,a)));if(n.length>0){e=Math.min(e,...n.map((s=>s.offset))),a=Math.max(a,...n.map((s=>s.end))),i=a-e;let o=n.shift();o.offset=e,o.length=i,o.end=a,this.list=this.list.filter((s=>!n.includes(s)))}else this.list.push({offset:e,length:i,end:a})}available(e,i){let r=e+i;return this.list.some((a=>a.offset<=e&&r<=a.end))}}function Ho(t,e,i){return t<=e&&e<=i}class Va extends $1{constructor(e,i){super(0),Ne(this,"chunksRead",0),this.input=e,this.options=i}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let i=this.options.chunkSize,r=await this.readChunk(e,i);return!!r&&r.byteLength===i}async readChunk(e,i){if(this.chunksRead++,(i=this.safeWrapAddress(e,i))!==0)return this._readChunk(e,i)}safeWrapAddress(e,i){return this.size!==void 0&&e+i>this.size?Math.max(0,this.size-e):i}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Kt.set("blob",class extends Va{async readWhole(){this.chunked=!1;let t=await Ei(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let i=e?t+e:void 0,r=this.input.slice(t,i),a=await Ei(r);return this.set(a,t,!0)}});var V1=Object.freeze({__proto__:null,default:j1,Exifr:fi,fileParsers:Wt,segmentParsers:gt,fileReaders:Kt,tagKeys:wt,tagValues:zt,tagRevivers:oi,createDictionary:ct,extendDictionary:Pi,fetchUrlAsArrayBuffer:Mi,readBlobAsArrayBuffer:Ei,chunkedProps:ri,otherSegments:zi,segments:ki,tiffBlocks:ht,segmentsAndBlocks:ai,tiffExtractables:ni,inheritables:ji,allFormatters:si,Options:Ai,parse:Kr,gpsOnlyOptions:Ba,gps:ks,thumbnailOnlyOptions:za,thumbnail:Cs,thumbnailUrl:As,orientationOnlyOptions:ja,orientation:$a,rotations:qa,get rotateCanvas(){return mi},get rotateCss(){return vi},rotation:Ts});Kt.set("url",class extends Va{async readWhole(){this.chunked=!1;let t=await Mi(this.input);t instanceof ArrayBuffer?this._swapArrayBuffer(t):t instanceof Uint8Array&&this._swapBuffer(t)}async _readChunk(t,e){let i=e?t+e-1:void 0,r=this.options.httpHeaders||{};(t||i)&&(r.range=`bytes=${[t,i].join("-")}`);let a=await Ms(this.input,{headers:r}),n=await a.arrayBuffer(),o=n.byteLength;if(a.status!==416)return o!==e&&(this.size=t+o),this.set(n,t,!0)}});Rt.prototype.getUint64=function(t){let e=this.getUint32(t),i=this.getUint32(t+4);return e<1048575?e<<32|i:typeof ia!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),ia(e)<<ia(32)|ia(i)):void _t("Trying to read 64b value but JS can only handle 53b numbers.")};class Z1 extends Ua{parseBoxes(e=0){let i=[];for(;e<this.file.byteLength-4;){let r=this.parseBoxHead(e);if(i.push(r),r.length===0)break;e+=r.length}return i}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,i){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find((r=>r.kind===i))}parseBoxHead(e){let i=this.file.getUint32(e),r=this.file.getString(e+4,4),a=e+8;return i===1&&(i=this.file.getUint64(e+8),a+=8),{offset:e,length:i,kind:r,start:a}}parseBoxFullHead(e){if(e.version!==void 0)return;let i=this.file.getUint32(e.start);e.version=i>>24,e.start+=4}}class El extends Z1{static canHandle(e,i){if(i!==0)return!1;let r=e.getUint16(2);if(r>50)return!1;let a=16,n=[];for(;a<r;)n.push(e.getString(a,4)),a+=4;return n.includes(this.type)}async parse(){let e=this.file.getUint32(0),i=this.parseBoxHead(e);for(;i.kind!=="meta";)e+=i.length,await this.file.ensureChunk(e,16),i=this.parseBoxHead(e);await this.file.ensureChunk(i.offset,i.length),this.parseBoxFullHead(i),this.parseSubBoxes(i),this.options.icc.enabled&&await this.findIcc(i),this.options.tiff.enabled&&await this.findExif(i)}async registerSegment(e,i,r){await this.file.ensureChunk(i,r);let a=this.file.subarray(i,r);this.createParser(e,a)}async findIcc(e){let i=this.findBox(e,"iprp");if(i===void 0)return;let r=this.findBox(i,"ipco");if(r===void 0)return;let a=this.findBox(r,"colr");a!==void 0&&await this.registerSegment("icc",a.offset+12,a.length)}async findExif(e){let i=this.findBox(e,"iinf");if(i===void 0)return;let r=this.findBox(e,"iloc");if(r===void 0)return;let a=this.findExifLocIdInIinf(i),n=this.findExtentInIloc(r,a);if(n===void 0)return;let[o,s]=n;await this.file.ensureChunk(o,s);let h=4+this.file.getUint32(o);o+=h,s-=h,await this.registerSegment("tiff",o,s)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let i,r,a,n,o=e.start,s=this.file.getUint16(o);for(o+=2;s--;){if(i=this.parseBoxHead(o),this.parseBoxFullHead(i),r=i.start,i.version>=2&&(a=i.version===3?4:2,n=this.file.getString(r+a+2,4),n==="Exif"))return this.file.getUintBytes(r,a);o+=i.length}}get8bits(e){let i=this.file.getUint8(e);return[i>>4,15&i]}findExtentInIloc(e,i){this.parseBoxFullHead(e);let r=e.start,[a,n]=this.get8bits(r++),[o,s]=this.get8bits(r++),h=e.version===2?4:2,l=e.version===1||e.version===2?2:0,u=s+a+n,g=e.version===2?4:2,c=this.file.getUintBytes(r,g);for(r+=g;c--;){let y=this.file.getUintBytes(r,h);r+=h+l+2+o;let S=this.file.getUint16(r);if(r+=2,y===i)return S>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(r+s,a),this.file.getUintBytes(r+s+a,n)];r+=S*u}}}class Pl extends El{}Ne(Pl,"type","heic");class Wo extends El{}Ne(Wo,"type","avif"),Wt.set("heic",Pl),Wt.set("avif",Wo),ct(wt,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),ct(wt,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),ct(wt,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),ct(zt,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let Rr=ct(zt,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const Ko={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Rr.set(37392,Ko),Rr.set(41488,Ko);const fn={0:"Normal",1:"Low",2:"High"};function Xo(t){return typeof t=="object"&&t.length!==void 0?t[0]:t}function Jo(t){let e=Array.from(t).slice(1);return e[1]>15&&(e=e.map((i=>String.fromCharCode(i)))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function un(t){if(typeof t=="string"){var[e,i,r,a,n,o]=t.trim().split(/[-: ]/g).map(Number),s=new Date(e,i-1,r);return Number.isNaN(a)||Number.isNaN(n)||Number.isNaN(o)||(s.setHours(a),s.setMinutes(n),s.setSeconds(o)),Number.isNaN(+s)?t:s}}function br(t){if(typeof t=="string")return t;let e=[];if(t[1]===0&&t[t.length-1]===0)for(let i=0;i<t.length;i+=2)e.push(Yo(t[i+1],t[i]));else for(let i=0;i<t.length;i+=2)e.push(Yo(t[i],t[i+1]));return Gi(String.fromCodePoint(...e))}function Yo(t,e){return t<<8|e}Rr.set(41992,fn),Rr.set(41993,fn),Rr.set(41994,fn),ct(oi,["ifd0","ifd1"],[[50827,function(t){return typeof t!="string"?xl(t):t}],[306,un],[40091,br],[40092,br],[40093,br],[40094,br],[40095,br]]),ct(oi,"exif",[[40960,Jo],[36864,Jo],[36867,un],[36868,un],[40962,Xo],[40963,Xo]]),ct(oi,"gps",[[0,t=>Array.from(t).join(".")],[7,t=>Array.from(t).join(":")]]);class cn extends Vt{static canHandle(e,i){return e.getUint8(i+1)===225&&e.getUint32(i+4)===1752462448&&e.getString(i+4,20)==="http://ns.adobe.com/"}static headerLength(e,i){return e.getString(i+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,i){let r=super.findPosition(e,i);return r.multiSegment=r.extended=r.headerLength===79,r.multiSegment?(r.chunkCount=e.getUint8(i+72),r.chunkNumber=e.getUint8(i+76),e.getUint8(i+77)!==0&&r.chunkNumber++):(r.chunkCount=1/0,r.chunkNumber=-1),r}static handleMultiSegments(e){return e.map((i=>i.chunk.getString())).join("")}normalizeInput(e){return typeof e=="string"?e:Rt.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=(function(n){let o={},s={};for(let h of Tl)o[h]=[],s[h]=0;return n.replace(X1,((h,l,u)=>{if(l==="<"){let g=++s[u];return o[u].push(g),`${h}#${g}`}return`${h}#${o[u].pop()}`}))})(e);let i=ar.findAll(e,"rdf","Description");i.length===0&&i.push(new ar("rdf","Description",void 0,e));let r,a={};for(let n of i)for(let o of n.properties)r=K1(o.ns,a),kl(o,r);return(function(n){let o;for(let s in n)o=n[s]=Ca(n[s]),o===void 0&&delete n[s];return Ca(n)})(a)}assignToOutput(e,i){if(this.localOptions.parse)for(let[r,a]of Object.entries(i))switch(r){case"tiff":this.assignObjectToOutput(e,"ifd0",a);break;case"exif":this.assignObjectToOutput(e,"exif",a);break;case"xmlns":break;default:this.assignObjectToOutput(e,r,a)}else e.xmp=i}}Ne(cn,"type","xmp"),Ne(cn,"multiSegment",!0),gt.set("xmp",cn);class Ta{static findAll(e){return Cl(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(Ta.unpackMatch)}static unpackMatch(e){let i=e[1],r=e[2],a=e[3].slice(1,-1);return a=Al(a),new Ta(i,r,a)}constructor(e,i,r){this.ns=e,this.name=i,this.value=r}serialize(){return this.value}}class ar{static findAll(e,i,r){if(i!==void 0||r!==void 0){i=i||"[\\w\\d-]+",r=r||"[\\w\\d-]+";var a=new RegExp(`<(${i}):(${r})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else a=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return Cl(e,a).map(ar.unpackMatch)}static unpackMatch(e){let i=e[1],r=e[2],a=e[4],n=e[8];return new ar(i,r,a,n)}constructor(e,i,r,a){this.ns=e,this.name=i,this.attrString=r,this.innerXml=a,this.attrs=Ta.findAll(r),this.children=ar.findAll(a),this.value=this.children.length===0?Al(a):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:i}=this;return e==="rdf"&&(i==="Seq"||i==="Bag"||i==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return W1(this.children.map(H1));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let i of this.properties)kl(i,e);return this.value!==void 0&&(e.value=this.value),Ca(e)}}function kl(t,e){let i=t.serialize();i!==void 0&&(e[t.name]=i)}var H1=t=>t.serialize(),W1=t=>t.length===1?t[0]:t,K1=(t,e)=>e[t]?e[t]:e[t]={};function Cl(t,e){let i,r=[];if(!t)return r;for(;(i=e.exec(t))!==null;)r.push(i);return r}function Al(t){if((function(r){return r==null||r==="null"||r==="undefined"||r===""||r.trim()===""})(t))return;let e=Number(t);if(!Number.isNaN(e))return e;let i=t.toLowerCase();return i==="true"||i!=="false"&&t.trim()}const Tl=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],X1=new RegExp(`(<|\\/)(${Tl.join("|")})`,"g");var J1=Object.freeze({__proto__:null,default:V1,Exifr:fi,fileParsers:Wt,segmentParsers:gt,fileReaders:Kt,tagKeys:wt,tagValues:zt,tagRevivers:oi,createDictionary:ct,extendDictionary:Pi,fetchUrlAsArrayBuffer:Mi,readBlobAsArrayBuffer:Ei,chunkedProps:ri,otherSegments:zi,segments:ki,tiffBlocks:ht,segmentsAndBlocks:ai,tiffExtractables:ni,inheritables:ji,allFormatters:si,Options:Ai,parse:Kr,gpsOnlyOptions:Ba,gps:ks,thumbnailOnlyOptions:za,thumbnail:Cs,thumbnailUrl:As,orientationOnlyOptions:ja,orientation:$a,rotations:qa,get rotateCanvas(){return mi},get rotateCss(){return vi},rotation:Ts});let Qo=ka("fs",(t=>t.promises));Kt.set("fs",class extends Va{async readWhole(){this.chunked=!1,this.fs=await Qo;let t=await this.fs.readFile(this.input);this._swapBuffer(t)}async readChunked(){this.chunked=!0,this.fs=await Qo,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(t,e){this.fh===void 0&&await this.open(),t+e>this.size&&(e=this.size-t);var i=this.subarray(t,e,!0);return await this.fh.read(i.dataView,0,e,t),i}async close(){if(this.fh){let t=this.fh;this.fh=void 0,await t.close()}}});Kt.set("base64",class extends Va{constructor(...t){super(...t),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(t,e){let i,r,a=this.input;t===void 0?(t=0,i=0,r=0):(i=4*Math.floor(t/3),r=t-i/4*3),e===void 0&&(e=this.size);let n=t+e,o=i+4*Math.ceil(n/3);a=a.slice(i,o);let s=Math.min(e,this.size-t);if(Fa){let h=Da.from(a,"base64").slice(r,r+s);return this.set(h,t,!0)}{let h=this.subarray(t,s,!0),l=atob(a),u=h.toUint8();for(let g=0;g<s;g++)u[g]=l.charCodeAt(r+g);return h}}});class eh extends Ua{static canHandle(e,i){return i===18761||i===19789}extendOptions(e){let{ifd0:i,xmp:r,iptc:a,icc:n}=e;r.enabled&&i.deps.add(700),a.enabled&&i.deps.add(33723),n.enabled&&i.deps.add(34675),i.finalizeFilters()}async parse(){let{tiff:e,xmp:i,iptc:r,icc:a}=this.options;if(e.enabled||i.enabled||r.enabled||a.enabled){let n=Math.max(es(this.options),this.options.chunkSize);await this.file.ensureChunk(0,n),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let i=this.parsers.tiff[e];this.injectSegment(e,i)}}}Ne(eh,"type","tiff"),Wt.set("tiff",eh);let Y1=ka("zlib");const Q1=["ihdr","iccp","text","itxt","exif"];class th extends Ua{constructor(...e){super(...e),Ne(this,"catchError",(i=>this.errors.push(i))),Ne(this,"metaChunks",[]),Ne(this,"unknownChunks",[])}static canHandle(e,i){return i===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,i){let{file:r}=this;for(;e<i;){let a=r.getUint32(e),n=r.getUint32(e+4),o=r.getString(e+4,4).toLowerCase(),s=a+4+4+4,h={type:o,offset:e,length:s,start:e+4+4,size:a,marker:n};Q1.includes(o)?this.metaChunks.push(h):this.unknownChunks.push(h),e+=s}}parseTextChunks(){let e=this.metaChunks.filter((i=>i.type==="text"));for(let i of e){let[r,a]=this.file.getString(i.start,i.size).split("\0");this.injectKeyValToIhdr(r,a)}}injectKeyValToIhdr(e,i){let r=this.parsers.ihdr;r&&r.raw.set(e,i)}findIhdr(){let e=this.metaChunks.find((i=>i.type==="ihdr"));e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find((i=>i.type==="exif"));e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter((i=>i.type==="itxt"));for(let i of e)i.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",i.chunk)}async findIcc(){let e=this.metaChunks.find((s=>s.type==="iccp"));if(!e)return;let{chunk:i}=e,r=i.getUint8Array(0,81),a=0;for(;a<80&&r[a]!==0;)a++;let n=a+2,o=i.getString(0,a);if(this.injectKeyValToIhdr("ProfileName",o),Pa){let s=await Y1,h=i.getUint8Array(n);h=s.inflateSync(h),this.injectSegment("icc",h)}}}Ne(th,"type","png"),Wt.set("png",th),ct(wt,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),Pi(wt,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let ih=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];Pi(wt,"ifd0",ih),Pi(wt,"exif",ih),ct(zt,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class dn extends Vt{static canHandle(e,i){return e.getUint8(i+1)===224&&e.getUint32(i+4)===1246120262&&e.getUint8(i+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}Ne(dn,"type","jfif"),Ne(dn,"headerLength",9),gt.set("jfif",dn),ct(wt,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class rh extends Vt{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}Ne(rh,"type","ihdr"),gt.set("ihdr",rh),ct(wt,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),ct(zt,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class ca extends Vt{static canHandle(e,i){return e.getUint8(i+1)===226&&e.getUint32(i+4)===1229144927}static findPosition(e,i){let r=super.findPosition(e,i);return r.chunkNumber=e.getUint8(i+16),r.chunkCount=e.getUint8(i+17),r.multiSegment=r.chunkCount>1,r}static handleMultiSegments(e){return(function(i){let r=(function(a){let n=a[0].constructor,o=0;for(let l of a)o+=l.length;let s=new n(o),h=0;for(let l of a)s.set(l,h),h+=l.length;return s})(i.map((a=>a.chunk.toUint8())));return new Rt(r)})(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&_t("ICC header is too short");for(let[i,r]of Object.entries(ep)){i=parseInt(i,10);let a=r(this.chunk,i);a!=="\0\0\0\0"&&e.set(i,a)}}parseTags(){let e,i,r,a,n,{raw:o}=this,s=this.chunk.getUint32(128),h=132,l=this.chunk.byteLength;for(;s--;){if(e=this.chunk.getString(h,4),i=this.chunk.getUint32(h+4),r=this.chunk.getUint32(h+8),a=this.chunk.getString(i,4),i+r>l)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");n=this.parseTag(a,i,r),n!==void 0&&n!=="\0\0\0\0"&&o.set(e,n),h+=12}}parseTag(e,i,r){switch(e){case"desc":return this.parseDesc(i);case"mluc":return this.parseMluc(i);case"text":return this.parseText(i,r);case"sig ":return this.parseSig(i)}if(!(i+r>this.chunk.byteLength))return this.chunk.getUint8Array(i,r)}parseDesc(e){let i=this.chunk.getUint32(e+8)-1;return Gi(this.chunk.getString(e+12,i))}parseText(e,i){return Gi(this.chunk.getString(e+8,i-8))}parseSig(e){return Gi(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:i}=this,r=i.getUint32(e+8),a=i.getUint32(e+12),n=e+16,o=[];for(let s=0;s<r;s++){let h=i.getString(n+0,2),l=i.getString(n+2,2),u=i.getUint32(n+4),g=i.getUint32(n+8)+e,c=Gi(i.getUnicodeString(g,u));o.push({lang:h,country:l,text:c}),n+=a}return r===1?o[0].text:o}translateValue(e,i){return typeof e=="string"?i[e]||i[e.toLowerCase()]||e:i[e]||e}}Ne(ca,"type","icc"),Ne(ca,"multiSegment",!0),Ne(ca,"headerLength",18);const ep={4:ii,8:function(t,e){return[t.getUint8(e),t.getUint8(e+1)>>4,t.getUint8(e+1)%16].map((i=>i.toString(10))).join(".")},12:ii,16:ii,20:ii,24:function(t,e){const i=t.getUint16(e),r=t.getUint16(e+2)-1,a=t.getUint16(e+4),n=t.getUint16(e+6),o=t.getUint16(e+8),s=t.getUint16(e+10);return new Date(Date.UTC(i,r,a,n,o,s))},36:ii,40:ii,48:ii,52:ii,64:(t,e)=>t.getUint32(e),80:ii};function ii(t,e){return Gi(t.getString(e,4))}gt.set("icc",ca),ct(wt,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const ra={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},ah={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};ct(zt,"icc",[[4,ra],[12,ah],[40,Object.assign({},ra,ah)],[48,ra],[80,ra],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class aa extends Vt{static canHandle(e,i,r){return e.getUint8(i+1)===237&&e.getString(i+4,9)==="Photoshop"&&this.containsIptc8bim(e,i,r)!==void 0}static headerLength(e,i,r){let a,n=this.containsIptc8bim(e,i,r);if(n!==void 0)return a=e.getUint8(i+n+7),a%2!=0&&(a+=1),a===0&&(a=4),n+8+a}static containsIptc8bim(e,i,r){for(let a=0;a<r;a++)if(this.isIptcSegmentHead(e,i+a))return a}static isIptcSegmentHead(e,i){return e.getUint8(i)===56&&e.getUint32(i)===943868237&&e.getUint16(i+4)===1028}parse(){let{raw:e}=this,i=this.chunk.byteLength-1,r=!1;for(let a=0;a<i;a++)if(this.chunk.getUint8(a)===28&&this.chunk.getUint8(a+1)===2){r=!0;let n=this.chunk.getUint16(a+3),o=this.chunk.getUint8(a+2),s=this.chunk.getLatin1String(a+5,n);e.set(o,this.pluralizeValue(e.get(o),s)),a+=4+n}else if(r)break;return this.translate(),this.output}pluralizeValue(e,i){return e!==void 0?e instanceof Array?(e.push(i),e):[e,i]:i}}Ne(aa,"type","iptc"),Ne(aa,"translateValues",!1),Ne(aa,"reviveValues",!1),gt.set("iptc",aa),ct(wt,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),ct(zt,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);const Dp=Object.freeze(Object.defineProperty({__proto__:null,Exifr:fi,Options:Ai,allFormatters:si,chunkedProps:ri,createDictionary:ct,default:J1,extendDictionary:Pi,fetchUrlAsArrayBuffer:Mi,fileParsers:Wt,fileReaders:Kt,gps:ks,gpsOnlyOptions:Ba,inheritables:ji,orientation:$a,orientationOnlyOptions:ja,otherSegments:zi,parse:Kr,readBlobAsArrayBuffer:Ei,get rotateCanvas(){return mi},get rotateCss(){return vi},rotation:Ts,rotations:qa,segmentParsers:gt,segments:ki,segmentsAndBlocks:ai,tagKeys:wt,tagRevivers:oi,tagValues:zt,thumbnail:Cs,thumbnailOnlyOptions:za,thumbnailUrl:As,tiffBlocks:ht,tiffExtractables:ni},Symbol.toStringTag,{value:"Module"}));var gn={},nh;function Il(){if(nh)return gn;nh=1;const t=ns(),e={allowBooleanAttributes:!1,unpairedTags:[]};gn.validate=function(b,M){M=Object.assign({},e,M);const G=[];let z=!1,E=!1;b[0]==="\uFEFF"&&(b=b.substr(1));for(let C=0;C<b.length;C++)if(b[C]==="<"&&b[C+1]==="?"){if(C+=2,C=r(b,C),C.err)return C}else if(b[C]==="<"){let d=C;if(C++,b[C]==="!"){C=a(b,C);continue}else{let p=!1;b[C]==="/"&&(p=!0,C++);let v="";for(;C<b.length&&b[C]!==">"&&b[C]!==" "&&b[C]!=="	"&&b[C]!==`
`&&b[C]!=="\r";C++)v+=b[C];if(v=v.trim(),v[v.length-1]==="/"&&(v=v.substring(0,v.length-1),C--),!S(v)){let R;return v.trim().length===0?R="Invalid space after '<'.":R="Tag '"+v+"' is an invalid name.",c("InvalidTag",R,P(b,C))}const x=s(b,C);if(x===!1)return c("InvalidAttr","Attributes for '"+v+"' have open quote.",P(b,C));let L=x.value;if(C=x.index,L[L.length-1]==="/"){const R=C-L.length;L=L.substring(0,L.length-1);const N=l(L,M);if(N===!0)z=!0;else return c(N.err.code,N.err.msg,P(b,R+N.err.line))}else if(p)if(x.tagClosed){if(L.trim().length>0)return c("InvalidTag","Closing tag '"+v+"' can't have attributes or invalid starting.",P(b,d));if(G.length===0)return c("InvalidTag","Closing tag '"+v+"' has not been opened.",P(b,d));{const R=G.pop();if(v!==R.tagName){let N=P(b,R.tagStartPos);return c("InvalidTag","Expected closing tag '"+R.tagName+"' (opened in line "+N.line+", col "+N.col+") instead of closing tag '"+v+"'.",P(b,d))}G.length==0&&(E=!0)}}else return c("InvalidTag","Closing tag '"+v+"' doesn't have proper closing.",P(b,C));else{const R=l(L,M);if(R!==!0)return c(R.err.code,R.err.msg,P(b,C-L.length+R.err.line));if(E===!0)return c("InvalidXml","Multiple possible root nodes found.",P(b,C));M.unpairedTags.indexOf(v)!==-1||G.push({tagName:v,tagStartPos:d}),z=!0}for(C++;C<b.length;C++)if(b[C]==="<")if(b[C+1]==="!"){C++,C=a(b,C);continue}else if(b[C+1]==="?"){if(C=r(b,++C),C.err)return C}else break;else if(b[C]==="&"){const R=g(b,C);if(R==-1)return c("InvalidChar","char '&' is not expected.",P(b,C));C=R}else if(E===!0&&!i(b[C]))return c("InvalidXml","Extra text at the end",P(b,C));b[C]==="<"&&C--}}else{if(i(b[C]))continue;return c("InvalidChar","char '"+b[C]+"' is not expected.",P(b,C))}if(z){if(G.length==1)return c("InvalidTag","Unclosed tag '"+G[0].tagName+"'.",P(b,G[0].tagStartPos));if(G.length>0)return c("InvalidXml","Invalid '"+JSON.stringify(G.map(C=>C.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return c("InvalidXml","Start tag expected.",1);return!0};function i(b){return b===" "||b==="	"||b===`
`||b==="\r"}function r(b,M){const G=M;for(;M<b.length;M++)if(b[M]=="?"||b[M]==" "){const z=b.substr(G,M-G);if(M>5&&z==="xml")return c("InvalidXml","XML declaration allowed only at the start of the document.",P(b,M));if(b[M]=="?"&&b[M+1]==">"){M++;break}else continue}return M}function a(b,M){if(b.length>M+5&&b[M+1]==="-"&&b[M+2]==="-"){for(M+=3;M<b.length;M++)if(b[M]==="-"&&b[M+1]==="-"&&b[M+2]===">"){M+=2;break}}else if(b.length>M+8&&b[M+1]==="D"&&b[M+2]==="O"&&b[M+3]==="C"&&b[M+4]==="T"&&b[M+5]==="Y"&&b[M+6]==="P"&&b[M+7]==="E"){let G=1;for(M+=8;M<b.length;M++)if(b[M]==="<")G++;else if(b[M]===">"&&(G--,G===0))break}else if(b.length>M+9&&b[M+1]==="["&&b[M+2]==="C"&&b[M+3]==="D"&&b[M+4]==="A"&&b[M+5]==="T"&&b[M+6]==="A"&&b[M+7]==="["){for(M+=8;M<b.length;M++)if(b[M]==="]"&&b[M+1]==="]"&&b[M+2]===">"){M+=2;break}}return M}const n='"',o="'";function s(b,M){let G="",z="",E=!1;for(;M<b.length;M++){if(b[M]===n||b[M]===o)z===""?z=b[M]:z!==b[M]||(z="");else if(b[M]===">"&&z===""){E=!0;break}G+=b[M]}return z!==""?!1:{value:G,index:M,tagClosed:E}}const h=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function l(b,M){const G=t.getAllMatches(b,h),z={};for(let E=0;E<G.length;E++){if(G[E][1].length===0)return c("InvalidAttr","Attribute '"+G[E][2]+"' has no space in starting.",A(G[E]));if(G[E][3]!==void 0&&G[E][4]===void 0)return c("InvalidAttr","Attribute '"+G[E][2]+"' is without value.",A(G[E]));if(G[E][3]===void 0&&!M.allowBooleanAttributes)return c("InvalidAttr","boolean attribute '"+G[E][2]+"' is not allowed.",A(G[E]));const C=G[E][2];if(!y(C))return c("InvalidAttr","Attribute '"+C+"' is an invalid name.",A(G[E]));if(!z.hasOwnProperty(C))z[C]=1;else return c("InvalidAttr","Attribute '"+C+"' is repeated.",A(G[E]))}return!0}function u(b,M){let G=/\d/;for(b[M]==="x"&&(M++,G=/[\da-fA-F]/);M<b.length;M++){if(b[M]===";")return M;if(!b[M].match(G))break}return-1}function g(b,M){if(M++,b[M]===";")return-1;if(b[M]==="#")return M++,u(b,M);let G=0;for(;M<b.length;M++,G++)if(!(b[M].match(/\w/)&&G<20)){if(b[M]===";")break;return-1}return M}function c(b,M,G){return{err:{code:b,msg:M,line:G.line||G,col:G.col}}}function y(b){return t.isName(b)}function S(b){return t.isName(b)}function P(b,M){const G=b.substring(0,M).split(/\r?\n/);return{line:G.length,col:G[G.length-1].length+1}}function A(b){return b.startIndex+b[1].length}return gn}var na={},sh;function tp(){if(sh)return na;sh=1;const t={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(i,r){return r},attributeValueProcessor:function(i,r){return r},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(i,r,a){return i}},e=function(i){return Object.assign({},t,i)};return na.buildOptions=e,na.defaultOptions=t,na}var pn,oh;function ip(){if(oh)return pn;oh=1;class t{constructor(i){this.tagname=i,this.child=[],this[":@"]={}}add(i,r){i==="__proto__"&&(i="#__proto__"),this.child.push({[i]:r})}addChild(i){i.tagname==="__proto__"&&(i.tagname="#__proto__"),i[":@"]&&Object.keys(i[":@"]).length>0?this.child.push({[i.tagname]:i.child,":@":i[":@"]}):this.child.push({[i.tagname]:i.child})}}return pn=t,pn}var mn,hh;function rp(){if(hh)return mn;hh=1;const t=ns();function e(l,u){const g={};if(l[u+3]==="O"&&l[u+4]==="C"&&l[u+5]==="T"&&l[u+6]==="Y"&&l[u+7]==="P"&&l[u+8]==="E"){u=u+9;let c=1,y=!1,S=!1,P="";for(;u<l.length;u++)if(l[u]==="<"&&!S){if(y&&a(l,u)){u+=7;let A,b;[A,b,u]=i(l,u+1),b.indexOf("&")===-1&&(g[h(A)]={regx:RegExp(`&${A};`,"g"),val:b})}else if(y&&n(l,u))u+=8;else if(y&&o(l,u))u+=8;else if(y&&s(l,u))u+=9;else if(r)S=!0;else throw new Error("Invalid DOCTYPE");c++,P=""}else if(l[u]===">"){if(S?l[u-1]==="-"&&l[u-2]==="-"&&(S=!1,c--):c--,c===0)break}else l[u]==="["?y=!0:P+=l[u];if(c!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:g,i:u}}function i(l,u){let g="";for(;u<l.length&&l[u]!=="'"&&l[u]!=='"';u++)g+=l[u];if(g=g.trim(),g.indexOf(" ")!==-1)throw new Error("External entites are not supported");const c=l[u++];let y="";for(;u<l.length&&l[u]!==c;u++)y+=l[u];return[g,y,u]}function r(l,u){return l[u+1]==="!"&&l[u+2]==="-"&&l[u+3]==="-"}function a(l,u){return l[u+1]==="!"&&l[u+2]==="E"&&l[u+3]==="N"&&l[u+4]==="T"&&l[u+5]==="I"&&l[u+6]==="T"&&l[u+7]==="Y"}function n(l,u){return l[u+1]==="!"&&l[u+2]==="E"&&l[u+3]==="L"&&l[u+4]==="E"&&l[u+5]==="M"&&l[u+6]==="E"&&l[u+7]==="N"&&l[u+8]==="T"}function o(l,u){return l[u+1]==="!"&&l[u+2]==="A"&&l[u+3]==="T"&&l[u+4]==="T"&&l[u+5]==="L"&&l[u+6]==="I"&&l[u+7]==="S"&&l[u+8]==="T"}function s(l,u){return l[u+1]==="!"&&l[u+2]==="N"&&l[u+3]==="O"&&l[u+4]==="T"&&l[u+5]==="A"&&l[u+6]==="T"&&l[u+7]==="I"&&l[u+8]==="O"&&l[u+9]==="N"}function h(l){if(t.isName(l))return l;throw new Error(`Invalid entity name ${l}`)}return mn=e,mn}var vn,lh;function ap(){if(lh)return vn;lh=1;const t=/^[-+]?0x[a-fA-F0-9]+$/,e=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,i={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function r(o,s={}){if(s=Object.assign({},i,s),!o||typeof o!="string")return o;let h=o.trim();if(s.skipLike!==void 0&&s.skipLike.test(h))return o;if(o==="0")return 0;if(s.hex&&t.test(h))return n(h,16);if(h.search(/[eE]/)!==-1){const l=h.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(l){if(s.leadingZeros)h=(l[1]||"")+l[3];else if(!(l[2]==="0"&&l[3][0]==="."))return o;return s.eNotation?Number(h):o}else return o}else{const l=e.exec(h);if(l){const u=l[1],g=l[2];let c=a(l[3]);if(!s.leadingZeros&&g.length>0&&u&&h[2]!==".")return o;if(!s.leadingZeros&&g.length>0&&!u&&h[1]!==".")return o;if(s.leadingZeros&&g===o)return 0;{const y=Number(h),S=""+y;return S.search(/[eE]/)!==-1?s.eNotation?y:o:h.indexOf(".")!==-1?S==="0"&&c===""||S===c||u&&S==="-"+c?y:o:g?c===S||u+c===S?y:o:h===S||h===u+S?y:o}}else return o}}function a(o){return o&&o.indexOf(".")!==-1&&(o=o.replace(/0+$/,""),o==="."?o="0":o[0]==="."?o="0"+o:o[o.length-1]==="."&&(o=o.substr(0,o.length-1))),o}function n(o,s){if(parseInt)return parseInt(o,s);if(Number.parseInt)return Number.parseInt(o,s);if(window&&window.parseInt)return window.parseInt(o,s);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}return vn=r,vn}var _n,fh;function Nl(){if(fh)return _n;fh=1;function t(e){return typeof e=="function"?e:Array.isArray(e)?i=>{for(const r of e)if(typeof r=="string"&&i===r||r instanceof RegExp&&r.test(i))return!0}:()=>!1}return _n=t,_n}var yn,uh;function np(){if(uh)return yn;uh=1;const t=ns(),e=ip(),i=rp(),r=ap(),a=Nl();class n{constructor(C){this.options=C,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(d,p)=>String.fromCharCode(Number.parseInt(p,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(d,p)=>String.fromCharCode(Number.parseInt(p,16))}},this.addExternalEntities=o,this.parseXml=g,this.parseTextData=s,this.resolveNameSpace=h,this.buildAttributesMap=u,this.isItStopNode=P,this.replaceEntitiesValue=y,this.readStopNodeData=G,this.saveTextToParentTag=S,this.addChild=c,this.ignoreAttributesFn=a(this.options.ignoreAttributes)}}function o(E){const C=Object.keys(E);for(let d=0;d<C.length;d++){const p=C[d];this.lastEntities[p]={regex:new RegExp("&"+p+";","g"),val:E[p]}}}function s(E,C,d,p,v,x,L){if(E!==void 0&&(this.options.trimValues&&!p&&(E=E.trim()),E.length>0)){L||(E=this.replaceEntitiesValue(E));const R=this.options.tagValueProcessor(C,E,d,v,x);return R==null?E:typeof R!=typeof E||R!==E?R:this.options.trimValues?z(E,this.options.parseTagValue,this.options.numberParseOptions):E.trim()===E?z(E,this.options.parseTagValue,this.options.numberParseOptions):E}}function h(E){if(this.options.removeNSPrefix){const C=E.split(":"),d=E.charAt(0)==="/"?"/":"";if(C[0]==="xmlns")return"";C.length===2&&(E=d+C[1])}return E}const l=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function u(E,C,d){if(this.options.ignoreAttributes!==!0&&typeof E=="string"){const p=t.getAllMatches(E,l),v=p.length,x={};for(let L=0;L<v;L++){const R=this.resolveNameSpace(p[L][1]);if(this.ignoreAttributesFn(R,C))continue;let N=p[L][4],ae=this.options.attributeNamePrefix+R;if(R.length)if(this.options.transformAttributeName&&(ae=this.options.transformAttributeName(ae)),ae==="__proto__"&&(ae="#__proto__"),N!==void 0){this.options.trimValues&&(N=N.trim()),N=this.replaceEntitiesValue(N);const he=this.options.attributeValueProcessor(R,N,C);he==null?x[ae]=N:typeof he!=typeof N||he!==N?x[ae]=he:x[ae]=z(N,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(x[ae]=!0)}if(!Object.keys(x).length)return;if(this.options.attributesGroupName){const L={};return L[this.options.attributesGroupName]=x,L}return x}}const g=function(E){E=E.replace(/\r\n?/g,`
`);const C=new e("!xml");let d=C,p="",v="";for(let x=0;x<E.length;x++)if(E[x]==="<")if(E[x+1]==="/"){const R=b(E,">",x,"Closing Tag is not closed.");let N=E.substring(x+2,R).trim();if(this.options.removeNSPrefix){const Ce=N.indexOf(":");Ce!==-1&&(N=N.substr(Ce+1))}this.options.transformTagName&&(N=this.options.transformTagName(N)),d&&(p=this.saveTextToParentTag(p,d,v));const ae=v.substring(v.lastIndexOf(".")+1);if(N&&this.options.unpairedTags.indexOf(N)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${N}>`);let he=0;ae&&this.options.unpairedTags.indexOf(ae)!==-1?(he=v.lastIndexOf(".",v.lastIndexOf(".")-1),this.tagsNodeStack.pop()):he=v.lastIndexOf("."),v=v.substring(0,he),d=this.tagsNodeStack.pop(),p="",x=R}else if(E[x+1]==="?"){let R=M(E,x,!1,"?>");if(!R)throw new Error("Pi Tag is not closed.");if(p=this.saveTextToParentTag(p,d,v),!(this.options.ignoreDeclaration&&R.tagName==="?xml"||this.options.ignorePiTags)){const N=new e(R.tagName);N.add(this.options.textNodeName,""),R.tagName!==R.tagExp&&R.attrExpPresent&&(N[":@"]=this.buildAttributesMap(R.tagExp,v,R.tagName)),this.addChild(d,N,v)}x=R.closeIndex+1}else if(E.substr(x+1,3)==="!--"){const R=b(E,"-->",x+4,"Comment is not closed.");if(this.options.commentPropName){const N=E.substring(x+4,R-2);p=this.saveTextToParentTag(p,d,v),d.add(this.options.commentPropName,[{[this.options.textNodeName]:N}])}x=R}else if(E.substr(x+1,2)==="!D"){const R=i(E,x);this.docTypeEntities=R.entities,x=R.i}else if(E.substr(x+1,2)==="!["){const R=b(E,"]]>",x,"CDATA is not closed.")-2,N=E.substring(x+9,R);p=this.saveTextToParentTag(p,d,v);let ae=this.parseTextData(N,d.tagname,v,!0,!1,!0,!0);ae==null&&(ae=""),this.options.cdataPropName?d.add(this.options.cdataPropName,[{[this.options.textNodeName]:N}]):d.add(this.options.textNodeName,ae),x=R+2}else{let R=M(E,x,this.options.removeNSPrefix),N=R.tagName;const ae=R.rawTagName;let he=R.tagExp,Ce=R.attrExpPresent,X=R.closeIndex;this.options.transformTagName&&(N=this.options.transformTagName(N)),d&&p&&d.tagname!=="!xml"&&(p=this.saveTextToParentTag(p,d,v,!1));const j=d;if(j&&this.options.unpairedTags.indexOf(j.tagname)!==-1&&(d=this.tagsNodeStack.pop(),v=v.substring(0,v.lastIndexOf("."))),N!==C.tagname&&(v+=v?"."+N:N),this.isItStopNode(this.options.stopNodes,v,N)){let $="";if(he.length>0&&he.lastIndexOf("/")===he.length-1)N[N.length-1]==="/"?(N=N.substr(0,N.length-1),v=v.substr(0,v.length-1),he=N):he=he.substr(0,he.length-1),x=R.closeIndex;else if(this.options.unpairedTags.indexOf(N)!==-1)x=R.closeIndex;else{const ee=this.readStopNodeData(E,ae,X+1);if(!ee)throw new Error(`Unexpected end of ${ae}`);x=ee.i,$=ee.tagContent}const se=new e(N);N!==he&&Ce&&(se[":@"]=this.buildAttributesMap(he,v,N)),$&&($=this.parseTextData($,N,v,!0,Ce,!0,!0)),v=v.substr(0,v.lastIndexOf(".")),se.add(this.options.textNodeName,$),this.addChild(d,se,v)}else{if(he.length>0&&he.lastIndexOf("/")===he.length-1){N[N.length-1]==="/"?(N=N.substr(0,N.length-1),v=v.substr(0,v.length-1),he=N):he=he.substr(0,he.length-1),this.options.transformTagName&&(N=this.options.transformTagName(N));const $=new e(N);N!==he&&Ce&&($[":@"]=this.buildAttributesMap(he,v,N)),this.addChild(d,$,v),v=v.substr(0,v.lastIndexOf("."))}else{const $=new e(N);this.tagsNodeStack.push(d),N!==he&&Ce&&($[":@"]=this.buildAttributesMap(he,v,N)),this.addChild(d,$,v),d=$}p="",x=X}}else p+=E[x];return C.child};function c(E,C,d){const p=this.options.updateTag(C.tagname,d,C[":@"]);p===!1||(typeof p=="string"&&(C.tagname=p),E.addChild(C))}const y=function(E){if(this.options.processEntities){for(let C in this.docTypeEntities){const d=this.docTypeEntities[C];E=E.replace(d.regx,d.val)}for(let C in this.lastEntities){const d=this.lastEntities[C];E=E.replace(d.regex,d.val)}if(this.options.htmlEntities)for(let C in this.htmlEntities){const d=this.htmlEntities[C];E=E.replace(d.regex,d.val)}E=E.replace(this.ampEntity.regex,this.ampEntity.val)}return E};function S(E,C,d,p){return E&&(p===void 0&&(p=C.child.length===0),E=this.parseTextData(E,C.tagname,d,!1,C[":@"]?Object.keys(C[":@"]).length!==0:!1,p),E!==void 0&&E!==""&&C.add(this.options.textNodeName,E),E=""),E}function P(E,C,d){const p="*."+d;for(const v in E){const x=E[v];if(p===x||C===x)return!0}return!1}function A(E,C,d=">"){let p,v="";for(let x=C;x<E.length;x++){let L=E[x];if(p)L===p&&(p="");else if(L==='"'||L==="'")p=L;else if(L===d[0])if(d[1]){if(E[x+1]===d[1])return{data:v,index:x}}else return{data:v,index:x};else L==="	"&&(L=" ");v+=L}}function b(E,C,d,p){const v=E.indexOf(C,d);if(v===-1)throw new Error(p);return v+C.length-1}function M(E,C,d,p=">"){const v=A(E,C+1,p);if(!v)return;let x=v.data;const L=v.index,R=x.search(/\s/);let N=x,ae=!0;R!==-1&&(N=x.substring(0,R),x=x.substring(R+1).trimStart());const he=N;if(d){const Ce=N.indexOf(":");Ce!==-1&&(N=N.substr(Ce+1),ae=N!==v.data.substr(Ce+1))}return{tagName:N,tagExp:x,closeIndex:L,attrExpPresent:ae,rawTagName:he}}function G(E,C,d){const p=d;let v=1;for(;d<E.length;d++)if(E[d]==="<")if(E[d+1]==="/"){const x=b(E,">",d,`${C} is not closed`);if(E.substring(d+2,x).trim()===C&&(v--,v===0))return{tagContent:E.substring(p,d),i:x};d=x}else if(E[d+1]==="?")d=b(E,"?>",d+1,"StopNode is not closed.");else if(E.substr(d+1,3)==="!--")d=b(E,"-->",d+3,"StopNode is not closed.");else if(E.substr(d+1,2)==="![")d=b(E,"]]>",d,"StopNode is not closed.")-2;else{const x=M(E,d,">");x&&((x&&x.tagName)===C&&x.tagExp[x.tagExp.length-1]!=="/"&&v++,d=x.closeIndex)}}function z(E,C,d){if(C&&typeof E=="string"){const p=E.trim();return p==="true"?!0:p==="false"?!1:r(E,d)}else return t.isExist(E)?E:""}return yn=n,yn}var wn={},ch;function sp(){if(ch)return wn;ch=1;function t(n,o){return e(n,o)}function e(n,o,s){let h;const l={};for(let u=0;u<n.length;u++){const g=n[u],c=i(g);let y="";if(s===void 0?y=c:y=s+"."+c,c===o.textNodeName)h===void 0?h=g[c]:h+=""+g[c];else{if(c===void 0)continue;if(g[c]){let S=e(g[c],o,y);const P=a(S,o);g[":@"]?r(S,g[":@"],y,o):Object.keys(S).length===1&&S[o.textNodeName]!==void 0&&!o.alwaysCreateTextNode?S=S[o.textNodeName]:Object.keys(S).length===0&&(o.alwaysCreateTextNode?S[o.textNodeName]="":S=""),l[c]!==void 0&&l.hasOwnProperty(c)?(Array.isArray(l[c])||(l[c]=[l[c]]),l[c].push(S)):o.isArray(c,y,P)?l[c]=[S]:l[c]=S}}}return typeof h=="string"?h.length>0&&(l[o.textNodeName]=h):h!==void 0&&(l[o.textNodeName]=h),l}function i(n){const o=Object.keys(n);for(let s=0;s<o.length;s++){const h=o[s];if(h!==":@")return h}}function r(n,o,s,h){if(o){const l=Object.keys(o),u=l.length;for(let g=0;g<u;g++){const c=l[g];h.isArray(c,s+"."+c,!0,!0)?n[c]=[o[c]]:n[c]=o[c]}}}function a(n,o){const{textNodeName:s}=o,h=Object.keys(n).length;return!!(h===0||h===1&&(n[s]||typeof n[s]=="boolean"||n[s]===0))}return wn.prettify=t,wn}var bn,dh;function op(){if(dh)return bn;dh=1;const{buildOptions:t}=tp(),e=np(),{prettify:i}=sp(),r=Il();class a{constructor(o){this.externalEntities={},this.options=t(o)}parse(o,s){if(typeof o!="string")if(o.toString)o=o.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(s){s===!0&&(s={});const u=r.validate(o,s);if(u!==!0)throw Error(`${u.err.msg}:${u.err.line}:${u.err.col}`)}const h=new e(this.options);h.addExternalEntities(this.externalEntities);const l=h.parseXml(o);return this.options.preserveOrder||l===void 0?l:i(l,this.options)}addEntity(o,s){if(s.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(o.indexOf("&")!==-1||o.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(s==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[o]=s}}return bn=a,bn}var Sn,gh;function hp(){if(gh)return Sn;gh=1;const t=`
`;function e(s,h){let l="";return h.format&&h.indentBy.length>0&&(l=t),i(s,h,"",l)}function i(s,h,l,u){let g="",c=!1;for(let y=0;y<s.length;y++){const S=s[y],P=r(S);if(P===void 0)continue;let A="";if(l.length===0?A=P:A=`${l}.${P}`,P===h.textNodeName){let E=S[P];n(A,h)||(E=h.tagValueProcessor(P,E),E=o(E,h)),c&&(g+=u),g+=E,c=!1;continue}else if(P===h.cdataPropName){c&&(g+=u),g+=`<![CDATA[${S[P][0][h.textNodeName]}]]>`,c=!1;continue}else if(P===h.commentPropName){g+=u+`<!--${S[P][0][h.textNodeName]}-->`,c=!0;continue}else if(P[0]==="?"){const E=a(S[":@"],h),C=P==="?xml"?"":u;let d=S[P][0][h.textNodeName];d=d.length!==0?" "+d:"",g+=C+`<${P}${d}${E}?>`,c=!0;continue}let b=u;b!==""&&(b+=h.indentBy);const M=a(S[":@"],h),G=u+`<${P}${M}`,z=i(S[P],h,A,b);h.unpairedTags.indexOf(P)!==-1?h.suppressUnpairedNode?g+=G+">":g+=G+"/>":(!z||z.length===0)&&h.suppressEmptyNode?g+=G+"/>":z&&z.endsWith(">")?g+=G+`>${z}${u}</${P}>`:(g+=G+">",z&&u!==""&&(z.includes("/>")||z.includes("</"))?g+=u+h.indentBy+z+u:g+=z,g+=`</${P}>`),c=!0}return g}function r(s){const h=Object.keys(s);for(let l=0;l<h.length;l++){const u=h[l];if(s.hasOwnProperty(u)&&u!==":@")return u}}function a(s,h){let l="";if(s&&!h.ignoreAttributes)for(let u in s){if(!s.hasOwnProperty(u))continue;let g=h.attributeValueProcessor(u,s[u]);g=o(g,h),g===!0&&h.suppressBooleanAttributes?l+=` ${u.substr(h.attributeNamePrefix.length)}`:l+=` ${u.substr(h.attributeNamePrefix.length)}="${g}"`}return l}function n(s,h){s=s.substr(0,s.length-h.textNodeName.length-1);let l=s.substr(s.lastIndexOf(".")+1);for(let u in h.stopNodes)if(h.stopNodes[u]===s||h.stopNodes[u]==="*."+l)return!0;return!1}function o(s,h){if(s&&s.length>0&&h.processEntities)for(let l=0;l<h.entities.length;l++){const u=h.entities[l];s=s.replace(u.regex,u.val)}return s}return Sn=e,Sn}var xn,ph;function lp(){if(ph)return xn;ph=1;const t=hp(),e=Nl(),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(s,h){return h},attributeValueProcessor:function(s,h){return h},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function r(s){this.options=Object.assign({},i,s),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=e(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=o),this.processTextOrObjNode=a,this.options.format?(this.indentate=n,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}r.prototype.build=function(s){return this.options.preserveOrder?t(s,this.options):(Array.isArray(s)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(s={[this.options.arrayNodeName]:s}),this.j2x(s,0,[]).val)},r.prototype.j2x=function(s,h,l){let u="",g="";const c=l.join(".");for(let y in s)if(Object.prototype.hasOwnProperty.call(s,y))if(typeof s[y]=="undefined")this.isAttribute(y)&&(g+="");else if(s[y]===null)this.isAttribute(y)||y===this.options.cdataPropName?g+="":y[0]==="?"?g+=this.indentate(h)+"<"+y+"?"+this.tagEndChar:g+=this.indentate(h)+"<"+y+"/"+this.tagEndChar;else if(s[y]instanceof Date)g+=this.buildTextValNode(s[y],y,"",h);else if(typeof s[y]!="object"){const S=this.isAttribute(y);if(S&&!this.ignoreAttributesFn(S,c))u+=this.buildAttrPairStr(S,""+s[y]);else if(!S)if(y===this.options.textNodeName){let P=this.options.tagValueProcessor(y,""+s[y]);g+=this.replaceEntitiesValue(P)}else g+=this.buildTextValNode(s[y],y,"",h)}else if(Array.isArray(s[y])){const S=s[y].length;let P="",A="";for(let b=0;b<S;b++){const M=s[y][b];if(typeof M!="undefined")if(M===null)y[0]==="?"?g+=this.indentate(h)+"<"+y+"?"+this.tagEndChar:g+=this.indentate(h)+"<"+y+"/"+this.tagEndChar;else if(typeof M=="object")if(this.options.oneListGroup){const G=this.j2x(M,h+1,l.concat(y));P+=G.val,this.options.attributesGroupName&&M.hasOwnProperty(this.options.attributesGroupName)&&(A+=G.attrStr)}else P+=this.processTextOrObjNode(M,y,h,l);else if(this.options.oneListGroup){let G=this.options.tagValueProcessor(y,M);G=this.replaceEntitiesValue(G),P+=G}else P+=this.buildTextValNode(M,y,"",h)}this.options.oneListGroup&&(P=this.buildObjectNode(P,y,A,h)),g+=P}else if(this.options.attributesGroupName&&y===this.options.attributesGroupName){const S=Object.keys(s[y]),P=S.length;for(let A=0;A<P;A++)u+=this.buildAttrPairStr(S[A],""+s[y][S[A]])}else g+=this.processTextOrObjNode(s[y],y,h,l);return{attrStr:u,val:g}},r.prototype.buildAttrPairStr=function(s,h){return h=this.options.attributeValueProcessor(s,""+h),h=this.replaceEntitiesValue(h),this.options.suppressBooleanAttributes&&h==="true"?" "+s:" "+s+'="'+h+'"'};function a(s,h,l,u){const g=this.j2x(s,l+1,u.concat(h));return s[this.options.textNodeName]!==void 0&&Object.keys(s).length===1?this.buildTextValNode(s[this.options.textNodeName],h,g.attrStr,l):this.buildObjectNode(g.val,h,g.attrStr,l)}r.prototype.buildObjectNode=function(s,h,l,u){if(s==="")return h[0]==="?"?this.indentate(u)+"<"+h+l+"?"+this.tagEndChar:this.indentate(u)+"<"+h+l+this.closeTag(h)+this.tagEndChar;{let g="</"+h+this.tagEndChar,c="";return h[0]==="?"&&(c="?",g=""),(l||l==="")&&s.indexOf("<")===-1?this.indentate(u)+"<"+h+l+c+">"+s+g:this.options.commentPropName!==!1&&h===this.options.commentPropName&&c.length===0?this.indentate(u)+`<!--${s}-->`+this.newLine:this.indentate(u)+"<"+h+l+c+this.tagEndChar+s+this.indentate(u)+g}},r.prototype.closeTag=function(s){let h="";return this.options.unpairedTags.indexOf(s)!==-1?this.options.suppressUnpairedNode||(h="/"):this.options.suppressEmptyNode?h="/":h=`></${s}`,h},r.prototype.buildTextValNode=function(s,h,l,u){if(this.options.cdataPropName!==!1&&h===this.options.cdataPropName)return this.indentate(u)+`<![CDATA[${s}]]>`+this.newLine;if(this.options.commentPropName!==!1&&h===this.options.commentPropName)return this.indentate(u)+`<!--${s}-->`+this.newLine;if(h[0]==="?")return this.indentate(u)+"<"+h+l+"?"+this.tagEndChar;{let g=this.options.tagValueProcessor(h,s);return g=this.replaceEntitiesValue(g),g===""?this.indentate(u)+"<"+h+l+this.closeTag(h)+this.tagEndChar:this.indentate(u)+"<"+h+l+">"+g+"</"+h+this.tagEndChar}},r.prototype.replaceEntitiesValue=function(s){if(s&&s.length>0&&this.options.processEntities)for(let h=0;h<this.options.entities.length;h++){const l=this.options.entities[h];s=s.replace(l.regex,l.val)}return s};function n(s){return this.options.indentBy.repeat(s)}function o(s){return s.startsWith(this.options.attributeNamePrefix)&&s!==this.options.textNodeName?s.substr(this.attrPrefixLen):!1}return xn=r,xn}var Mn,mh;function fp(){if(mh)return Mn;mh=1;const t=Il(),e=op(),i=lp();return Mn={XMLParser:e,XMLValidator:t,XMLBuilder:i},Mn}var En,vh;function up(){if(vh)return En;vh=1;var t=fp(),e=t.tag,i=t.encode;En=function(p,v){return v=v||{documentName:void 0,documentDescription:void 0,name:"name",description:"description",simplestyle:!1,timestamp:"timestamp"},'<?xml version="1.0" encoding="UTF-8"?>'+e("kml",e("Document",n(v)+o(v)+a(p,v)),[["xmlns","http://www.opengis.net/kml/2.2"]])};function r(d,p){return function(v){if(!v.properties||!u.valid(v.geometry))return"";var x=u.any(v.geometry);if(!x)return"";var L="",R="";if(d.simplestyle){var N=z(v.properties);N&&(u.isPoint(v.geometry)&&S(v.properties)?(p.indexOf(N)===-1&&(L=P(v.properties,N),p.push(N)),R=e("styleUrl","#"+N)):(u.isPolygon(v.geometry)||u.isLine(v.geometry))&&M(v.properties)&&(p.indexOf(N)===-1&&(L=G(v.properties,N),p.push(N)),R=e("styleUrl","#"+N)))}return L+e("Placemark",s(v.properties,d)+h(v.properties,d)+c(v.properties)+l(v.properties,d)+x+R)}}function a(d,p){if(!d.type)return"";var v=[];switch(d.type){case"FeatureCollection":return d.features?d.features.map(r(p,v)).join(""):"";case"Feature":return r(p,v)(d);default:return r(p,v)({type:"Feature",geometry:d,properties:{}})}}function n(d){return d.documentName!==void 0?e("name",d.documentName):""}function o(d){return d.documentDescription!==void 0?e("description",d.documentDescription):""}function s(d,p){return d[p.name]?e("name",i(d[p.name])):""}function h(d,p){return d[p.description]?e("description",i(d[p.description])):""}function l(d,p){return d[p.timestamp]?e("TimeStamp",e("when",i(d[p.timestamp]))):""}var u={Point:function(d){return e("Point",e("coordinates",d.coordinates.join(",")))},LineString:function(d){return e("LineString",e("coordinates",g(d.coordinates)))},Polygon:function(d){if(!d.coordinates.length)return"";var p=d.coordinates[0],v=d.coordinates.slice(1),x=e("outerBoundaryIs",e("LinearRing",e("coordinates",g(p)))),L=v.map(function(R){return e("innerBoundaryIs",e("LinearRing",e("coordinates",g(R))))}).join("");return e("Polygon",x+L)},MultiPoint:function(d){return d.coordinates.length?e("MultiGeometry",d.coordinates.map(function(p){return u.Point({coordinates:p})}).join("")):""},MultiPolygon:function(d){return d.coordinates.length?e("MultiGeometry",d.coordinates.map(function(p){return u.Polygon({coordinates:p})}).join("")):""},MultiLineString:function(d){return d.coordinates.length?e("MultiGeometry",d.coordinates.map(function(p){return u.LineString({coordinates:p})}).join("")):""},GeometryCollection:function(d){return e("MultiGeometry",d.geometries.map(u.any).join(""))},valid:function(d){return d&&d.type&&(d.coordinates||d.type==="GeometryCollection"&&d.geometries&&d.geometries.every(u.valid))},any:function(d){return u[d.type]?u[d.type](d):""},isPoint:function(d){return d.type==="Point"||d.type==="MultiPoint"},isPolygon:function(d){return d.type==="Polygon"||d.type==="MultiPolygon"},isLine:function(d){return d.type==="LineString"||d.type==="MultiLineString"}};function g(d){return d.map(function(p){return p.join(",")}).join(" ")}function c(d){return e("ExtendedData",C(d).map(y).join(""))}function y(d){return e("Data",e("value",i(d[1])),[["name",i(d[0])]])}function S(d){return!!(d["marker-size"]||d["marker-symbol"]||d["marker-color"])}function P(d,p){return e("Style",e("IconStyle",e("Icon",e("href",A(d))))+b(),[["id",p]])}function A(d){var p=d["marker-size"]||"medium",v=d["marker-symbol"]?"-"+d["marker-symbol"]:"",x=(d["marker-color"]||"7e7e7e").replace("#","");return"https://api.tiles.mapbox.com/v3/marker/pin-"+p.charAt(0)+v+"+"+x+".png"}function b(d){return e("hotSpot","",[["xunits","fraction"],["yunits","fraction"],["x",.5],["y",.5]])}function M(d){for(var p in d)if({stroke:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,"fill-opacity":!0}[p])return!0}function G(d,p){var v=e("LineStyle",[e("color",E(d.stroke,d["stroke-opacity"])||"ff555555")+e("width",d["stroke-width"]===void 0?2:d["stroke-width"])]),x="";return(d.fill||d["fill-opacity"])&&(x=e("PolyStyle",[e("color",E(d.fill,d["fill-opacity"])||"88555555")])),e("Style",v+x,[["id",p]])}function z(d){var p="";return d["marker-symbol"]&&(p=p+"ms"+d["marker-symbol"]),d["marker-color"]&&(p=p+"mc"+d["marker-color"].replace("#","")),d["marker-size"]&&(p=p+"ms"+d["marker-size"]),d.stroke&&(p=p+"s"+d.stroke.replace("#","")),d["stroke-width"]&&(p=p+"sw"+d["stroke-width"].toString().replace(".","")),d["stroke-opacity"]&&(p=p+"mo"+d["stroke-opacity"].toString().replace(".","")),d.fill&&(p=p+"f"+d.fill.replace("#","")),d["fill-opacity"]&&(p=p+"fo"+d["fill-opacity"].toString().replace(".","")),p}function E(d,p){if(typeof d!="string")return"";if(d=d.replace("#","").toLowerCase(),d.length===3)d=d[0]+d[0]+d[1]+d[1]+d[2]+d[2];else if(d.length!==6)return"";var v=d[0]+d[1],x=d[2]+d[3],L=d[4]+d[5],R="ff";return typeof p=="number"&&p>=0&&p<=1&&(R=(p*255).toString(16),R.indexOf(".")>-1&&(R=R.substr(0,R.indexOf("."))),R.length<2&&(R="0"+R)),R+L+x+v}function C(d){var p=[];for(var v in d)p.push([v,d[v]]);return p}return En}var Rl=up();const cp=Ia(Rl),Fp=Fl({__proto__:null,default:cp},[Rl]);var Hi={},$t={},Ii={},_h;function dp(){if(_h)return Ii;_h=1;var t=Ui(),e=4,i=0,r=1,a=2;function n(w){for(var Z=w.length;--Z>=0;)w[Z]=0}var o=0,s=1,h=2,l=3,u=258,g=29,c=256,y=c+1+g,S=30,P=19,A=2*y+1,b=15,M=16,G=7,z=256,E=16,C=17,d=18,p=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],v=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=512,N=new Array((y+2)*2);n(N);var ae=new Array(S*2);n(ae);var he=new Array(R);n(he);var Ce=new Array(u-l+1);n(Ce);var X=new Array(g);n(X);var j=new Array(S);n(j);function $(w,Z,H,ue,O){this.static_tree=w,this.extra_bits=Z,this.extra_base=H,this.elems=ue,this.max_length=O,this.has_stree=w&&w.length}var se,ee,ie;function Y(w,Z){this.dyn_tree=w,this.max_code=0,this.stat_desc=Z}function Te(w){return w<256?he[w]:he[256+(w>>>7)]}function Me(w,Z){w.pending_buf[w.pending++]=Z&255,w.pending_buf[w.pending++]=Z>>>8&255}function _e(w,Z,H){w.bi_valid>M-H?(w.bi_buf|=Z<<w.bi_valid&65535,Me(w,w.bi_buf),w.bi_buf=Z>>M-w.bi_valid,w.bi_valid+=H-M):(w.bi_buf|=Z<<w.bi_valid&65535,w.bi_valid+=H)}function Ie(w,Z,H){_e(w,H[Z*2],H[Z*2+1])}function ge(w,Z){var H=0;do H|=w&1,w>>>=1,H<<=1;while(--Z>0);return H>>>1}function Ae(w){w.bi_valid===16?(Me(w,w.bi_buf),w.bi_buf=0,w.bi_valid=0):w.bi_valid>=8&&(w.pending_buf[w.pending++]=w.bi_buf&255,w.bi_buf>>=8,w.bi_valid-=8)}function ze(w,Z){var H=Z.dyn_tree,ue=Z.max_code,O=Z.stat_desc.static_tree,q=Z.stat_desc.has_stree,m=Z.stat_desc.extra_bits,W=Z.stat_desc.extra_base,Ee=Z.stat_desc.max_length,f,U,B,_,T,F,ye=0;for(_=0;_<=b;_++)w.bl_count[_]=0;for(H[w.heap[w.heap_max]*2+1]=0,f=w.heap_max+1;f<A;f++)U=w.heap[f],_=H[H[U*2+1]*2+1]+1,_>Ee&&(_=Ee,ye++),H[U*2+1]=_,!(U>ue)&&(w.bl_count[_]++,T=0,U>=W&&(T=m[U-W]),F=H[U*2],w.opt_len+=F*(_+T),q&&(w.static_len+=F*(O[U*2+1]+T)));if(ye!==0){do{for(_=Ee-1;w.bl_count[_]===0;)_--;w.bl_count[_]--,w.bl_count[_+1]+=2,w.bl_count[Ee]--,ye-=2}while(ye>0);for(_=Ee;_!==0;_--)for(U=w.bl_count[_];U!==0;)B=w.heap[--f],!(B>ue)&&(H[B*2+1]!==_&&(w.opt_len+=(_-H[B*2+1])*H[B*2],H[B*2+1]=_),U--)}}function be(w,Z,H){var ue=new Array(b+1),O=0,q,m;for(q=1;q<=b;q++)ue[q]=O=O+H[q-1]<<1;for(m=0;m<=Z;m++){var W=w[m*2+1];W!==0&&(w[m*2]=ge(ue[W]++,W))}}function me(){var w,Z,H,ue,O,q=new Array(b+1);for(H=0,ue=0;ue<g-1;ue++)for(X[ue]=H,w=0;w<1<<p[ue];w++)Ce[H++]=ue;for(Ce[H-1]=ue,O=0,ue=0;ue<16;ue++)for(j[ue]=O,w=0;w<1<<v[ue];w++)he[O++]=ue;for(O>>=7;ue<S;ue++)for(j[ue]=O<<7,w=0;w<1<<v[ue]-7;w++)he[256+O++]=ue;for(Z=0;Z<=b;Z++)q[Z]=0;for(w=0;w<=143;)N[w*2+1]=8,w++,q[8]++;for(;w<=255;)N[w*2+1]=9,w++,q[9]++;for(;w<=279;)N[w*2+1]=7,w++,q[7]++;for(;w<=287;)N[w*2+1]=8,w++,q[8]++;for(be(N,y+1,q),w=0;w<S;w++)ae[w*2+1]=5,ae[w*2]=ge(w,5);se=new $(N,p,c+1,y,b),ee=new $(ae,v,0,S,b),ie=new $(new Array(0),x,0,P,G)}function Le(w){var Z;for(Z=0;Z<y;Z++)w.dyn_ltree[Z*2]=0;for(Z=0;Z<S;Z++)w.dyn_dtree[Z*2]=0;for(Z=0;Z<P;Z++)w.bl_tree[Z*2]=0;w.dyn_ltree[z*2]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function Ue(w){w.bi_valid>8?Me(w,w.bi_buf):w.bi_valid>0&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function De(w,Z,H,ue){Ue(w),Me(w,H),Me(w,~H),t.arraySet(w.pending_buf,w.window,Z,H,w.pending),w.pending+=H}function xe(w,Z,H,ue){var O=Z*2,q=H*2;return w[O]<w[q]||w[O]===w[q]&&ue[Z]<=ue[H]}function je(w,Z,H){for(var ue=w.heap[H],O=H<<1;O<=w.heap_len&&(O<w.heap_len&&xe(Z,w.heap[O+1],w.heap[O],w.depth)&&O++,!xe(Z,ue,w.heap[O],w.depth));)w.heap[H]=w.heap[O],H=O,O<<=1;w.heap[H]=ue}function ne(w,Z,H){var ue,O,q=0,m,W;if(w.last_lit!==0)do ue=w.pending_buf[w.d_buf+q*2]<<8|w.pending_buf[w.d_buf+q*2+1],O=w.pending_buf[w.l_buf+q],q++,ue===0?Ie(w,O,Z):(m=Ce[O],Ie(w,m+c+1,Z),W=p[m],W!==0&&(O-=X[m],_e(w,O,W)),ue--,m=Te(ue),Ie(w,m,H),W=v[m],W!==0&&(ue-=j[m],_e(w,ue,W)));while(q<w.last_lit);Ie(w,z,Z)}function Fe(w,Z){var H=Z.dyn_tree,ue=Z.stat_desc.static_tree,O=Z.stat_desc.has_stree,q=Z.stat_desc.elems,m,W,Ee=-1,f;for(w.heap_len=0,w.heap_max=A,m=0;m<q;m++)H[m*2]!==0?(w.heap[++w.heap_len]=Ee=m,w.depth[m]=0):H[m*2+1]=0;for(;w.heap_len<2;)f=w.heap[++w.heap_len]=Ee<2?++Ee:0,H[f*2]=1,w.depth[f]=0,w.opt_len--,O&&(w.static_len-=ue[f*2+1]);for(Z.max_code=Ee,m=w.heap_len>>1;m>=1;m--)je(w,H,m);f=q;do m=w.heap[1],w.heap[1]=w.heap[w.heap_len--],je(w,H,1),W=w.heap[1],w.heap[--w.heap_max]=m,w.heap[--w.heap_max]=W,H[f*2]=H[m*2]+H[W*2],w.depth[f]=(w.depth[m]>=w.depth[W]?w.depth[m]:w.depth[W])+1,H[m*2+1]=H[W*2+1]=f,w.heap[1]=f++,je(w,H,1);while(w.heap_len>=2);w.heap[--w.heap_max]=w.heap[1],ze(w,Z),be(H,Ee,w.bl_count)}function bt(w,Z,H){var ue,O=-1,q,m=Z[1],W=0,Ee=7,f=4;for(m===0&&(Ee=138,f=3),Z[(H+1)*2+1]=65535,ue=0;ue<=H;ue++)q=m,m=Z[(ue+1)*2+1],!(++W<Ee&&q===m)&&(W<f?w.bl_tree[q*2]+=W:q!==0?(q!==O&&w.bl_tree[q*2]++,w.bl_tree[E*2]++):W<=10?w.bl_tree[C*2]++:w.bl_tree[d*2]++,W=0,O=q,m===0?(Ee=138,f=3):q===m?(Ee=6,f=3):(Ee=7,f=4))}function St(w,Z,H){var ue,O=-1,q,m=Z[1],W=0,Ee=7,f=4;for(m===0&&(Ee=138,f=3),ue=0;ue<=H;ue++)if(q=m,m=Z[(ue+1)*2+1],!(++W<Ee&&q===m)){if(W<f)do Ie(w,q,w.bl_tree);while(--W!==0);else q!==0?(q!==O&&(Ie(w,q,w.bl_tree),W--),Ie(w,E,w.bl_tree),_e(w,W-3,2)):W<=10?(Ie(w,C,w.bl_tree),_e(w,W-3,3)):(Ie(w,d,w.bl_tree),_e(w,W-11,7));W=0,O=q,m===0?(Ee=138,f=3):q===m?(Ee=6,f=3):(Ee=7,f=4)}}function nt(w){var Z;for(bt(w,w.dyn_ltree,w.l_desc.max_code),bt(w,w.dyn_dtree,w.d_desc.max_code),Fe(w,w.bl_desc),Z=P-1;Z>=3&&w.bl_tree[L[Z]*2+1]===0;Z--);return w.opt_len+=3*(Z+1)+5+5+4,Z}function At(w,Z,H,ue){var O;for(_e(w,Z-257,5),_e(w,H-1,5),_e(w,ue-4,4),O=0;O<ue;O++)_e(w,w.bl_tree[L[O]*2+1],3);St(w,w.dyn_ltree,Z-1),St(w,w.dyn_dtree,H-1)}function Ze(w){var Z=4093624447,H;for(H=0;H<=31;H++,Z>>>=1)if(Z&1&&w.dyn_ltree[H*2]!==0)return i;if(w.dyn_ltree[18]!==0||w.dyn_ltree[20]!==0||w.dyn_ltree[26]!==0)return r;for(H=32;H<c;H++)if(w.dyn_ltree[H*2]!==0)return r;return i}var et=!1;function tt(w){et||(me(),et=!0),w.l_desc=new Y(w.dyn_ltree,se),w.d_desc=new Y(w.dyn_dtree,ee),w.bl_desc=new Y(w.bl_tree,ie),w.bi_buf=0,w.bi_valid=0,Le(w)}function it(w,Z,H,ue){_e(w,(o<<1)+(ue?1:0),3),De(w,Z,H)}function Ve(w){_e(w,s<<1,3),Ie(w,z,N),Ae(w)}function st(w,Z,H,ue){var O,q,m=0;w.level>0?(w.strm.data_type===a&&(w.strm.data_type=Ze(w)),Fe(w,w.l_desc),Fe(w,w.d_desc),m=nt(w),O=w.opt_len+3+7>>>3,q=w.static_len+3+7>>>3,q<=O&&(O=q)):O=q=H+5,H+4<=O&&Z!==-1?it(w,Z,H,ue):w.strategy===e||q===O?(_e(w,(s<<1)+(ue?1:0),3),ne(w,N,ae)):(_e(w,(h<<1)+(ue?1:0),3),At(w,w.l_desc.max_code+1,w.d_desc.max_code+1,m+1),ne(w,w.dyn_ltree,w.dyn_dtree)),Le(w),ue&&Ue(w)}function Dt(w,Z,H){return w.pending_buf[w.d_buf+w.last_lit*2]=Z>>>8&255,w.pending_buf[w.d_buf+w.last_lit*2+1]=Z&255,w.pending_buf[w.l_buf+w.last_lit]=H&255,w.last_lit++,Z===0?w.dyn_ltree[H*2]++:(w.matches++,Z--,w.dyn_ltree[(Ce[H]+c+1)*2]++,w.dyn_dtree[Te(Z)*2]++),w.last_lit===w.lit_bufsize-1}return Ii._tr_init=tt,Ii._tr_stored_block=it,Ii._tr_flush_block=st,Ii._tr_tally=Dt,Ii._tr_align=Ve,Ii}var Pn,yh;function Ol(){if(yh)return Pn;yh=1;function t(e,i,r,a){for(var n=e&65535|0,o=e>>>16&65535|0,s=0;r!==0;){s=r>2e3?2e3:r,r-=s;do n=n+i[a++]|0,o=o+n|0;while(--s);n%=65521,o%=65521}return n|o<<16|0}return Pn=t,Pn}var kn,wh;function Gl(){if(wh)return kn;wh=1;function t(){for(var r,a=[],n=0;n<256;n++){r=n;for(var o=0;o<8;o++)r=r&1?3988292384^r>>>1:r>>>1;a[n]=r}return a}var e=t();function i(r,a,n,o){var s=e,h=o+n;r^=-1;for(var l=o;l<h;l++)r=r>>>8^s[(r^a[l])&255];return r^-1}return kn=i,kn}var Cn,bh;function Is(){return bh||(bh=1,Cn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),Cn}var Sh;function gp(){if(Sh)return $t;Sh=1;var t=Ui(),e=dp(),i=Ol(),r=Gl(),a=Is(),n=0,o=1,s=3,h=4,l=5,u=0,g=1,c=-2,y=-3,S=-5,P=-1,A=1,b=2,M=3,G=4,z=0,E=2,C=8,d=9,p=15,v=8,x=29,L=256,R=L+1+x,N=30,ae=19,he=2*R+1,Ce=15,X=3,j=258,$=j+X+1,se=32,ee=42,ie=69,Y=73,Te=91,Me=103,_e=113,Ie=666,ge=1,Ae=2,ze=3,be=4,me=3;function Le(f,U){return f.msg=a[U],U}function Ue(f){return(f<<1)-(f>4?9:0)}function De(f){for(var U=f.length;--U>=0;)f[U]=0}function xe(f){var U=f.state,B=U.pending;B>f.avail_out&&(B=f.avail_out),B!==0&&(t.arraySet(f.output,U.pending_buf,U.pending_out,B,f.next_out),f.next_out+=B,U.pending_out+=B,f.total_out+=B,f.avail_out-=B,U.pending-=B,U.pending===0&&(U.pending_out=0))}function je(f,U){e._tr_flush_block(f,f.block_start>=0?f.block_start:-1,f.strstart-f.block_start,U),f.block_start=f.strstart,xe(f.strm)}function ne(f,U){f.pending_buf[f.pending++]=U}function Fe(f,U){f.pending_buf[f.pending++]=U>>>8&255,f.pending_buf[f.pending++]=U&255}function bt(f,U,B,_){var T=f.avail_in;return T>_&&(T=_),T===0?0:(f.avail_in-=T,t.arraySet(U,f.input,f.next_in,T,B),f.state.wrap===1?f.adler=i(f.adler,U,T,B):f.state.wrap===2&&(f.adler=r(f.adler,U,T,B)),f.next_in+=T,f.total_in+=T,T)}function St(f,U){var B=f.max_chain_length,_=f.strstart,T,F,ye=f.prev_length,le=f.nice_match,ce=f.strstart>f.w_size-$?f.strstart-(f.w_size-$):0,qe=f.window,jt=f.w_mask,k=f.prev,I=f.strstart+j,D=qe[_+ye-1],V=qe[_+ye];f.prev_length>=f.good_match&&(B>>=2),le>f.lookahead&&(le=f.lookahead);do if(T=U,!(qe[T+ye]!==V||qe[T+ye-1]!==D||qe[T]!==qe[_]||qe[++T]!==qe[_+1])){_+=2,T++;do;while(qe[++_]===qe[++T]&&qe[++_]===qe[++T]&&qe[++_]===qe[++T]&&qe[++_]===qe[++T]&&qe[++_]===qe[++T]&&qe[++_]===qe[++T]&&qe[++_]===qe[++T]&&qe[++_]===qe[++T]&&_<I);if(F=j-(I-_),_=I-j,F>ye){if(f.match_start=U,ye=F,F>=le)break;D=qe[_+ye-1],V=qe[_+ye]}}while((U=k[U&jt])>ce&&--B!==0);return ye<=f.lookahead?ye:f.lookahead}function nt(f){var U=f.w_size,B,_,T,F,ye;do{if(F=f.window_size-f.lookahead-f.strstart,f.strstart>=U+(U-$)){t.arraySet(f.window,f.window,U,U,0),f.match_start-=U,f.strstart-=U,f.block_start-=U,_=f.hash_size,B=_;do T=f.head[--B],f.head[B]=T>=U?T-U:0;while(--_);_=U,B=_;do T=f.prev[--B],f.prev[B]=T>=U?T-U:0;while(--_);F+=U}if(f.strm.avail_in===0)break;if(_=bt(f.strm,f.window,f.strstart+f.lookahead,F),f.lookahead+=_,f.lookahead+f.insert>=X)for(ye=f.strstart-f.insert,f.ins_h=f.window[ye],f.ins_h=(f.ins_h<<f.hash_shift^f.window[ye+1])&f.hash_mask;f.insert&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[ye+X-1])&f.hash_mask,f.prev[ye&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=ye,ye++,f.insert--,!(f.lookahead+f.insert<X)););}while(f.lookahead<$&&f.strm.avail_in!==0)}function At(f,U){var B=65535;for(B>f.pending_buf_size-5&&(B=f.pending_buf_size-5);;){if(f.lookahead<=1){if(nt(f),f.lookahead===0&&U===n)return ge;if(f.lookahead===0)break}f.strstart+=f.lookahead,f.lookahead=0;var _=f.block_start+B;if((f.strstart===0||f.strstart>=_)&&(f.lookahead=f.strstart-_,f.strstart=_,je(f,!1),f.strm.avail_out===0)||f.strstart-f.block_start>=f.w_size-$&&(je(f,!1),f.strm.avail_out===0))return ge}return f.insert=0,U===h?(je(f,!0),f.strm.avail_out===0?ze:be):(f.strstart>f.block_start&&(je(f,!1),f.strm.avail_out===0),ge)}function Ze(f,U){for(var B,_;;){if(f.lookahead<$){if(nt(f),f.lookahead<$&&U===n)return ge;if(f.lookahead===0)break}if(B=0,f.lookahead>=X&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+X-1])&f.hash_mask,B=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),B!==0&&f.strstart-B<=f.w_size-$&&(f.match_length=St(f,B)),f.match_length>=X)if(_=e._tr_tally(f,f.strstart-f.match_start,f.match_length-X),f.lookahead-=f.match_length,f.match_length<=f.max_lazy_match&&f.lookahead>=X){f.match_length--;do f.strstart++,f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+X-1])&f.hash_mask,B=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart;while(--f.match_length!==0);f.strstart++}else f.strstart+=f.match_length,f.match_length=0,f.ins_h=f.window[f.strstart],f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+1])&f.hash_mask;else _=e._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++;if(_&&(je(f,!1),f.strm.avail_out===0))return ge}return f.insert=f.strstart<X-1?f.strstart:X-1,U===h?(je(f,!0),f.strm.avail_out===0?ze:be):f.last_lit&&(je(f,!1),f.strm.avail_out===0)?ge:Ae}function et(f,U){for(var B,_,T;;){if(f.lookahead<$){if(nt(f),f.lookahead<$&&U===n)return ge;if(f.lookahead===0)break}if(B=0,f.lookahead>=X&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+X-1])&f.hash_mask,B=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),f.prev_length=f.match_length,f.prev_match=f.match_start,f.match_length=X-1,B!==0&&f.prev_length<f.max_lazy_match&&f.strstart-B<=f.w_size-$&&(f.match_length=St(f,B),f.match_length<=5&&(f.strategy===A||f.match_length===X&&f.strstart-f.match_start>4096)&&(f.match_length=X-1)),f.prev_length>=X&&f.match_length<=f.prev_length){T=f.strstart+f.lookahead-X,_=e._tr_tally(f,f.strstart-1-f.prev_match,f.prev_length-X),f.lookahead-=f.prev_length-1,f.prev_length-=2;do++f.strstart<=T&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+X-1])&f.hash_mask,B=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart);while(--f.prev_length!==0);if(f.match_available=0,f.match_length=X-1,f.strstart++,_&&(je(f,!1),f.strm.avail_out===0))return ge}else if(f.match_available){if(_=e._tr_tally(f,0,f.window[f.strstart-1]),_&&je(f,!1),f.strstart++,f.lookahead--,f.strm.avail_out===0)return ge}else f.match_available=1,f.strstart++,f.lookahead--}return f.match_available&&(_=e._tr_tally(f,0,f.window[f.strstart-1]),f.match_available=0),f.insert=f.strstart<X-1?f.strstart:X-1,U===h?(je(f,!0),f.strm.avail_out===0?ze:be):f.last_lit&&(je(f,!1),f.strm.avail_out===0)?ge:Ae}function tt(f,U){for(var B,_,T,F,ye=f.window;;){if(f.lookahead<=j){if(nt(f),f.lookahead<=j&&U===n)return ge;if(f.lookahead===0)break}if(f.match_length=0,f.lookahead>=X&&f.strstart>0&&(T=f.strstart-1,_=ye[T],_===ye[++T]&&_===ye[++T]&&_===ye[++T])){F=f.strstart+j;do;while(_===ye[++T]&&_===ye[++T]&&_===ye[++T]&&_===ye[++T]&&_===ye[++T]&&_===ye[++T]&&_===ye[++T]&&_===ye[++T]&&T<F);f.match_length=j-(F-T),f.match_length>f.lookahead&&(f.match_length=f.lookahead)}if(f.match_length>=X?(B=e._tr_tally(f,1,f.match_length-X),f.lookahead-=f.match_length,f.strstart+=f.match_length,f.match_length=0):(B=e._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++),B&&(je(f,!1),f.strm.avail_out===0))return ge}return f.insert=0,U===h?(je(f,!0),f.strm.avail_out===0?ze:be):f.last_lit&&(je(f,!1),f.strm.avail_out===0)?ge:Ae}function it(f,U){for(var B;;){if(f.lookahead===0&&(nt(f),f.lookahead===0)){if(U===n)return ge;break}if(f.match_length=0,B=e._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++,B&&(je(f,!1),f.strm.avail_out===0))return ge}return f.insert=0,U===h?(je(f,!0),f.strm.avail_out===0?ze:be):f.last_lit&&(je(f,!1),f.strm.avail_out===0)?ge:Ae}function Ve(f,U,B,_,T){this.good_length=f,this.max_lazy=U,this.nice_length=B,this.max_chain=_,this.func=T}var st;st=[new Ve(0,0,0,0,At),new Ve(4,4,8,4,Ze),new Ve(4,5,16,8,Ze),new Ve(4,6,32,32,Ze),new Ve(4,4,16,16,et),new Ve(8,16,32,32,et),new Ve(8,16,128,128,et),new Ve(8,32,128,256,et),new Ve(32,128,258,1024,et),new Ve(32,258,258,4096,et)];function Dt(f){f.window_size=2*f.w_size,De(f.head),f.max_lazy_match=st[f.level].max_lazy,f.good_match=st[f.level].good_length,f.nice_match=st[f.level].nice_length,f.max_chain_length=st[f.level].max_chain,f.strstart=0,f.block_start=0,f.lookahead=0,f.insert=0,f.match_length=f.prev_length=X-1,f.match_available=0,f.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(he*2),this.dyn_dtree=new t.Buf16((2*N+1)*2),this.bl_tree=new t.Buf16((2*ae+1)*2),De(this.dyn_ltree),De(this.dyn_dtree),De(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(Ce+1),this.heap=new t.Buf16(2*R+1),De(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*R+1),De(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(f){var U;return!f||!f.state?Le(f,c):(f.total_in=f.total_out=0,f.data_type=E,U=f.state,U.pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?ee:_e,f.adler=U.wrap===2?0:1,U.last_flush=n,e._tr_init(U),u)}function H(f){var U=Z(f);return U===u&&Dt(f.state),U}function ue(f,U){return!f||!f.state||f.state.wrap!==2?c:(f.state.gzhead=U,u)}function O(f,U,B,_,T,F){if(!f)return c;var ye=1;if(U===P&&(U=6),_<0?(ye=0,_=-_):_>15&&(ye=2,_-=16),T<1||T>d||B!==C||_<8||_>15||U<0||U>9||F<0||F>G)return Le(f,c);_===8&&(_=9);var le=new w;return f.state=le,le.strm=f,le.wrap=ye,le.gzhead=null,le.w_bits=_,le.w_size=1<<le.w_bits,le.w_mask=le.w_size-1,le.hash_bits=T+7,le.hash_size=1<<le.hash_bits,le.hash_mask=le.hash_size-1,le.hash_shift=~~((le.hash_bits+X-1)/X),le.window=new t.Buf8(le.w_size*2),le.head=new t.Buf16(le.hash_size),le.prev=new t.Buf16(le.w_size),le.lit_bufsize=1<<T+6,le.pending_buf_size=le.lit_bufsize*4,le.pending_buf=new t.Buf8(le.pending_buf_size),le.d_buf=1*le.lit_bufsize,le.l_buf=3*le.lit_bufsize,le.level=U,le.strategy=F,le.method=B,H(f)}function q(f,U){return O(f,U,C,p,v,z)}function m(f,U){var B,_,T,F;if(!f||!f.state||U>l||U<0)return f?Le(f,c):c;if(_=f.state,!f.output||!f.input&&f.avail_in!==0||_.status===Ie&&U!==h)return Le(f,f.avail_out===0?S:c);if(_.strm=f,B=_.last_flush,_.last_flush=U,_.status===ee)if(_.wrap===2)f.adler=0,ne(_,31),ne(_,139),ne(_,8),_.gzhead?(ne(_,(_.gzhead.text?1:0)+(_.gzhead.hcrc?2:0)+(_.gzhead.extra?4:0)+(_.gzhead.name?8:0)+(_.gzhead.comment?16:0)),ne(_,_.gzhead.time&255),ne(_,_.gzhead.time>>8&255),ne(_,_.gzhead.time>>16&255),ne(_,_.gzhead.time>>24&255),ne(_,_.level===9?2:_.strategy>=b||_.level<2?4:0),ne(_,_.gzhead.os&255),_.gzhead.extra&&_.gzhead.extra.length&&(ne(_,_.gzhead.extra.length&255),ne(_,_.gzhead.extra.length>>8&255)),_.gzhead.hcrc&&(f.adler=r(f.adler,_.pending_buf,_.pending,0)),_.gzindex=0,_.status=ie):(ne(_,0),ne(_,0),ne(_,0),ne(_,0),ne(_,0),ne(_,_.level===9?2:_.strategy>=b||_.level<2?4:0),ne(_,me),_.status=_e);else{var ye=C+(_.w_bits-8<<4)<<8,le=-1;_.strategy>=b||_.level<2?le=0:_.level<6?le=1:_.level===6?le=2:le=3,ye|=le<<6,_.strstart!==0&&(ye|=se),ye+=31-ye%31,_.status=_e,Fe(_,ye),_.strstart!==0&&(Fe(_,f.adler>>>16),Fe(_,f.adler&65535)),f.adler=1}if(_.status===ie)if(_.gzhead.extra){for(T=_.pending;_.gzindex<(_.gzhead.extra.length&65535)&&!(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>T&&(f.adler=r(f.adler,_.pending_buf,_.pending-T,T)),xe(f),T=_.pending,_.pending===_.pending_buf_size));)ne(_,_.gzhead.extra[_.gzindex]&255),_.gzindex++;_.gzhead.hcrc&&_.pending>T&&(f.adler=r(f.adler,_.pending_buf,_.pending-T,T)),_.gzindex===_.gzhead.extra.length&&(_.gzindex=0,_.status=Y)}else _.status=Y;if(_.status===Y)if(_.gzhead.name){T=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>T&&(f.adler=r(f.adler,_.pending_buf,_.pending-T,T)),xe(f),T=_.pending,_.pending===_.pending_buf_size)){F=1;break}_.gzindex<_.gzhead.name.length?F=_.gzhead.name.charCodeAt(_.gzindex++)&255:F=0,ne(_,F)}while(F!==0);_.gzhead.hcrc&&_.pending>T&&(f.adler=r(f.adler,_.pending_buf,_.pending-T,T)),F===0&&(_.gzindex=0,_.status=Te)}else _.status=Te;if(_.status===Te)if(_.gzhead.comment){T=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>T&&(f.adler=r(f.adler,_.pending_buf,_.pending-T,T)),xe(f),T=_.pending,_.pending===_.pending_buf_size)){F=1;break}_.gzindex<_.gzhead.comment.length?F=_.gzhead.comment.charCodeAt(_.gzindex++)&255:F=0,ne(_,F)}while(F!==0);_.gzhead.hcrc&&_.pending>T&&(f.adler=r(f.adler,_.pending_buf,_.pending-T,T)),F===0&&(_.status=Me)}else _.status=Me;if(_.status===Me&&(_.gzhead.hcrc?(_.pending+2>_.pending_buf_size&&xe(f),_.pending+2<=_.pending_buf_size&&(ne(_,f.adler&255),ne(_,f.adler>>8&255),f.adler=0,_.status=_e)):_.status=_e),_.pending!==0){if(xe(f),f.avail_out===0)return _.last_flush=-1,u}else if(f.avail_in===0&&Ue(U)<=Ue(B)&&U!==h)return Le(f,S);if(_.status===Ie&&f.avail_in!==0)return Le(f,S);if(f.avail_in!==0||_.lookahead!==0||U!==n&&_.status!==Ie){var ce=_.strategy===b?it(_,U):_.strategy===M?tt(_,U):st[_.level].func(_,U);if((ce===ze||ce===be)&&(_.status=Ie),ce===ge||ce===ze)return f.avail_out===0&&(_.last_flush=-1),u;if(ce===Ae&&(U===o?e._tr_align(_):U!==l&&(e._tr_stored_block(_,0,0,!1),U===s&&(De(_.head),_.lookahead===0&&(_.strstart=0,_.block_start=0,_.insert=0))),xe(f),f.avail_out===0))return _.last_flush=-1,u}return U!==h?u:_.wrap<=0?g:(_.wrap===2?(ne(_,f.adler&255),ne(_,f.adler>>8&255),ne(_,f.adler>>16&255),ne(_,f.adler>>24&255),ne(_,f.total_in&255),ne(_,f.total_in>>8&255),ne(_,f.total_in>>16&255),ne(_,f.total_in>>24&255)):(Fe(_,f.adler>>>16),Fe(_,f.adler&65535)),xe(f),_.wrap>0&&(_.wrap=-_.wrap),_.pending!==0?u:g)}function W(f){var U;return!f||!f.state?c:(U=f.state.status,U!==ee&&U!==ie&&U!==Y&&U!==Te&&U!==Me&&U!==_e&&U!==Ie?Le(f,c):(f.state=null,U===_e?Le(f,y):u))}function Ee(f,U){var B=U.length,_,T,F,ye,le,ce,qe,jt;if(!f||!f.state||(_=f.state,ye=_.wrap,ye===2||ye===1&&_.status!==ee||_.lookahead))return c;for(ye===1&&(f.adler=i(f.adler,U,B,0)),_.wrap=0,B>=_.w_size&&(ye===0&&(De(_.head),_.strstart=0,_.block_start=0,_.insert=0),jt=new t.Buf8(_.w_size),t.arraySet(jt,U,B-_.w_size,_.w_size,0),U=jt,B=_.w_size),le=f.avail_in,ce=f.next_in,qe=f.input,f.avail_in=B,f.next_in=0,f.input=U,nt(_);_.lookahead>=X;){T=_.strstart,F=_.lookahead-(X-1);do _.ins_h=(_.ins_h<<_.hash_shift^_.window[T+X-1])&_.hash_mask,_.prev[T&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=T,T++;while(--F);_.strstart=T,_.lookahead=X-1,nt(_)}return _.strstart+=_.lookahead,_.block_start=_.strstart,_.insert=_.lookahead,_.lookahead=0,_.match_length=_.prev_length=X-1,_.match_available=0,f.next_in=ce,f.input=qe,f.avail_in=le,_.wrap=ye,u}return $t.deflateInit=q,$t.deflateInit2=O,$t.deflateReset=H,$t.deflateResetKeep=Z,$t.deflateSetHeader=ue,$t.deflate=m,$t.deflateEnd=W,$t.deflateSetDictionary=Ee,$t.deflateInfo="pako deflate (from Nodeca project)",$t}var xh;function pp(){if(xh)return Hi;xh=1;var t=gp(),e=Ui(),i=Nh(),r=Is(),a=Rh(),n=Object.prototype.toString,o=0,s=4,h=0,l=1,u=2,g=-1,c=0,y=8;function S(M){if(!(this instanceof S))return new S(M);this.options=e.assign({level:g,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},M||{});var G=this.options;G.raw&&G.windowBits>0?G.windowBits=-G.windowBits:G.gzip&&G.windowBits>0&&G.windowBits<16&&(G.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var z=t.deflateInit2(this.strm,G.level,G.method,G.windowBits,G.memLevel,G.strategy);if(z!==h)throw new Error(r[z]);if(G.header&&t.deflateSetHeader(this.strm,G.header),G.dictionary){var E;if(typeof G.dictionary=="string"?E=i.string2buf(G.dictionary):n.call(G.dictionary)==="[object ArrayBuffer]"?E=new Uint8Array(G.dictionary):E=G.dictionary,z=t.deflateSetDictionary(this.strm,E),z!==h)throw new Error(r[z]);this._dict_set=!0}}S.prototype.push=function(M,G){var z=this.strm,E=this.options.chunkSize,C,d;if(this.ended)return!1;d=G===~~G?G:G===!0?s:o,typeof M=="string"?z.input=i.string2buf(M):n.call(M)==="[object ArrayBuffer]"?z.input=new Uint8Array(M):z.input=M,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new e.Buf8(E),z.next_out=0,z.avail_out=E),C=t.deflate(z,d),C!==l&&C!==h)return this.onEnd(C),this.ended=!0,!1;(z.avail_out===0||z.avail_in===0&&(d===s||d===u))&&(this.options.to==="string"?this.onData(i.buf2binstring(e.shrinkBuf(z.output,z.next_out))):this.onData(e.shrinkBuf(z.output,z.next_out)))}while((z.avail_in>0||z.avail_out===0)&&C!==l);return d===s?(C=t.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===h):(d===u&&(this.onEnd(h),z.avail_out=0),!0)},S.prototype.onData=function(M){this.chunks.push(M)},S.prototype.onEnd=function(M){M===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg};function P(M,G){var z=new S(G);if(z.push(M,!0),z.err)throw z.msg||r[z.err];return z.result}function A(M,G){return G=G||{},G.raw=!0,P(M,G)}function b(M,G){return G=G||{},G.gzip=!0,P(M,G)}return Hi.Deflate=S,Hi.deflate=P,Hi.deflateRaw=A,Hi.gzip=b,Hi}var Wi={},Ft={},An,Mh;function mp(){if(Mh)return An;Mh=1;var t=30,e=12;return An=function(r,a){var n,o,s,h,l,u,g,c,y,S,P,A,b,M,G,z,E,C,d,p,v,x,L,R,N;n=r.state,o=r.next_in,R=r.input,s=o+(r.avail_in-5),h=r.next_out,N=r.output,l=h-(a-r.avail_out),u=h+(r.avail_out-257),g=n.dmax,c=n.wsize,y=n.whave,S=n.wnext,P=n.window,A=n.hold,b=n.bits,M=n.lencode,G=n.distcode,z=(1<<n.lenbits)-1,E=(1<<n.distbits)-1;e:do{b<15&&(A+=R[o++]<<b,b+=8,A+=R[o++]<<b,b+=8),C=M[A&z];t:for(;;){if(d=C>>>24,A>>>=d,b-=d,d=C>>>16&255,d===0)N[h++]=C&65535;else if(d&16){p=C&65535,d&=15,d&&(b<d&&(A+=R[o++]<<b,b+=8),p+=A&(1<<d)-1,A>>>=d,b-=d),b<15&&(A+=R[o++]<<b,b+=8,A+=R[o++]<<b,b+=8),C=G[A&E];i:for(;;){if(d=C>>>24,A>>>=d,b-=d,d=C>>>16&255,d&16){if(v=C&65535,d&=15,b<d&&(A+=R[o++]<<b,b+=8,b<d&&(A+=R[o++]<<b,b+=8)),v+=A&(1<<d)-1,v>g){r.msg="invalid distance too far back",n.mode=t;break e}if(A>>>=d,b-=d,d=h-l,v>d){if(d=v-d,d>y&&n.sane){r.msg="invalid distance too far back",n.mode=t;break e}if(x=0,L=P,S===0){if(x+=c-d,d<p){p-=d;do N[h++]=P[x++];while(--d);x=h-v,L=N}}else if(S<d){if(x+=c+S-d,d-=S,d<p){p-=d;do N[h++]=P[x++];while(--d);if(x=0,S<p){d=S,p-=d;do N[h++]=P[x++];while(--d);x=h-v,L=N}}}else if(x+=S-d,d<p){p-=d;do N[h++]=P[x++];while(--d);x=h-v,L=N}for(;p>2;)N[h++]=L[x++],N[h++]=L[x++],N[h++]=L[x++],p-=3;p&&(N[h++]=L[x++],p>1&&(N[h++]=L[x++]))}else{x=h-v;do N[h++]=N[x++],N[h++]=N[x++],N[h++]=N[x++],p-=3;while(p>2);p&&(N[h++]=N[x++],p>1&&(N[h++]=N[x++]))}}else if((d&64)===0){C=G[(C&65535)+(A&(1<<d)-1)];continue i}else{r.msg="invalid distance code",n.mode=t;break e}break}}else if((d&64)===0){C=M[(C&65535)+(A&(1<<d)-1)];continue t}else if(d&32){n.mode=e;break e}else{r.msg="invalid literal/length code",n.mode=t;break e}break}}while(o<s&&h<u);p=b>>3,o-=p,b-=p<<3,A&=(1<<b)-1,r.next_in=o,r.next_out=h,r.avail_in=o<s?5+(s-o):5-(o-s),r.avail_out=h<u?257+(u-h):257-(h-u),n.hold=A,n.bits=b},An}var Tn,Eh;function vp(){if(Eh)return Tn;Eh=1;var t=Ui(),e=15,i=852,r=592,a=0,n=1,o=2,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Tn=function(c,y,S,P,A,b,M,G){var z=G.bits,E=0,C=0,d=0,p=0,v=0,x=0,L=0,R=0,N=0,ae=0,he,Ce,X,j,$,se=null,ee=0,ie,Y=new t.Buf16(e+1),Te=new t.Buf16(e+1),Me=null,_e=0,Ie,ge,Ae;for(E=0;E<=e;E++)Y[E]=0;for(C=0;C<P;C++)Y[y[S+C]]++;for(v=z,p=e;p>=1&&Y[p]===0;p--);if(v>p&&(v=p),p===0)return A[b++]=1<<24|64<<16|0,A[b++]=1<<24|64<<16|0,G.bits=1,0;for(d=1;d<p&&Y[d]===0;d++);for(v<d&&(v=d),R=1,E=1;E<=e;E++)if(R<<=1,R-=Y[E],R<0)return-1;if(R>0&&(c===a||p!==1))return-1;for(Te[1]=0,E=1;E<e;E++)Te[E+1]=Te[E]+Y[E];for(C=0;C<P;C++)y[S+C]!==0&&(M[Te[y[S+C]]++]=C);if(c===a?(se=Me=M,ie=19):c===n?(se=s,ee-=257,Me=h,_e-=257,ie=256):(se=l,Me=u,ie=-1),ae=0,C=0,E=d,$=b,x=v,L=0,X=-1,N=1<<v,j=N-1,c===n&&N>i||c===o&&N>r)return 1;for(;;){Ie=E-L,M[C]<ie?(ge=0,Ae=M[C]):M[C]>ie?(ge=Me[_e+M[C]],Ae=se[ee+M[C]]):(ge=96,Ae=0),he=1<<E-L,Ce=1<<x,d=Ce;do Ce-=he,A[$+(ae>>L)+Ce]=Ie<<24|ge<<16|Ae|0;while(Ce!==0);for(he=1<<E-1;ae&he;)he>>=1;if(he!==0?(ae&=he-1,ae+=he):ae=0,C++,--Y[E]===0){if(E===p)break;E=y[S+M[C]]}if(E>v&&(ae&j)!==X){for(L===0&&(L=v),$+=d,x=E-L,R=1<<x;x+L<p&&(R-=Y[x+L],!(R<=0));)x++,R<<=1;if(N+=1<<x,c===n&&N>i||c===o&&N>r)return 1;X=ae&j,A[X]=v<<24|x<<16|$-b|0}}return ae!==0&&(A[$+ae]=E-L<<24|64<<16|0),G.bits=v,0},Tn}var Ph;function _p(){if(Ph)return Ft;Ph=1;var t=Ui(),e=Ol(),i=Gl(),r=mp(),a=vp(),n=0,o=1,s=2,h=4,l=5,u=6,g=0,c=1,y=2,S=-2,P=-3,A=-4,b=-5,M=8,G=1,z=2,E=3,C=4,d=5,p=6,v=7,x=8,L=9,R=10,N=11,ae=12,he=13,Ce=14,X=15,j=16,$=17,se=18,ee=19,ie=20,Y=21,Te=22,Me=23,_e=24,Ie=25,ge=26,Ae=27,ze=28,be=29,me=30,Le=31,Ue=32,De=852,xe=592,je=15,ne=je;function Fe(O){return(O>>>24&255)+(O>>>8&65280)+((O&65280)<<8)+((O&255)<<24)}function bt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function St(O){var q;return!O||!O.state?S:(q=O.state,O.total_in=O.total_out=q.total=0,O.msg="",q.wrap&&(O.adler=q.wrap&1),q.mode=G,q.last=0,q.havedict=0,q.dmax=32768,q.head=null,q.hold=0,q.bits=0,q.lencode=q.lendyn=new t.Buf32(De),q.distcode=q.distdyn=new t.Buf32(xe),q.sane=1,q.back=-1,g)}function nt(O){var q;return!O||!O.state?S:(q=O.state,q.wsize=0,q.whave=0,q.wnext=0,St(O))}function At(O,q){var m,W;return!O||!O.state||(W=O.state,q<0?(m=0,q=-q):(m=(q>>4)+1,q<48&&(q&=15)),q&&(q<8||q>15))?S:(W.window!==null&&W.wbits!==q&&(W.window=null),W.wrap=m,W.wbits=q,nt(O))}function Ze(O,q){var m,W;return O?(W=new bt,O.state=W,W.window=null,m=At(O,q),m!==g&&(O.state=null),m):S}function et(O){return Ze(O,ne)}var tt=!0,it,Ve;function st(O){if(tt){var q;for(it=new t.Buf32(512),Ve=new t.Buf32(32),q=0;q<144;)O.lens[q++]=8;for(;q<256;)O.lens[q++]=9;for(;q<280;)O.lens[q++]=7;for(;q<288;)O.lens[q++]=8;for(a(o,O.lens,0,288,it,0,O.work,{bits:9}),q=0;q<32;)O.lens[q++]=5;a(s,O.lens,0,32,Ve,0,O.work,{bits:5}),tt=!1}O.lencode=it,O.lenbits=9,O.distcode=Ve,O.distbits=5}function Dt(O,q,m,W){var Ee,f=O.state;return f.window===null&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new t.Buf8(f.wsize)),W>=f.wsize?(t.arraySet(f.window,q,m-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(Ee=f.wsize-f.wnext,Ee>W&&(Ee=W),t.arraySet(f.window,q,m-W,Ee,f.wnext),W-=Ee,W?(t.arraySet(f.window,q,m-W,W,0),f.wnext=W,f.whave=f.wsize):(f.wnext+=Ee,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=Ee))),0}function w(O,q){var m,W,Ee,f,U,B,_,T,F,ye,le,ce,qe,jt,k=0,I,D,V,J,Se,ke,te,fe,re=new t.Buf8(4),ve,Pe,$e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return S;m=O.state,m.mode===ae&&(m.mode=he),U=O.next_out,Ee=O.output,_=O.avail_out,f=O.next_in,W=O.input,B=O.avail_in,T=m.hold,F=m.bits,ye=B,le=_,fe=g;e:for(;;)switch(m.mode){case G:if(m.wrap===0){m.mode=he;break}for(;F<16;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}if(m.wrap&2&&T===35615){m.check=0,re[0]=T&255,re[1]=T>>>8&255,m.check=i(m.check,re,2,0),T=0,F=0,m.mode=z;break}if(m.flags=0,m.head&&(m.head.done=!1),!(m.wrap&1)||(((T&255)<<8)+(T>>8))%31){O.msg="incorrect header check",m.mode=me;break}if((T&15)!==M){O.msg="unknown compression method",m.mode=me;break}if(T>>>=4,F-=4,te=(T&15)+8,m.wbits===0)m.wbits=te;else if(te>m.wbits){O.msg="invalid window size",m.mode=me;break}m.dmax=1<<te,O.adler=m.check=1,m.mode=T&512?R:ae,T=0,F=0;break;case z:for(;F<16;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}if(m.flags=T,(m.flags&255)!==M){O.msg="unknown compression method",m.mode=me;break}if(m.flags&57344){O.msg="unknown header flags set",m.mode=me;break}m.head&&(m.head.text=T>>8&1),m.flags&512&&(re[0]=T&255,re[1]=T>>>8&255,m.check=i(m.check,re,2,0)),T=0,F=0,m.mode=E;case E:for(;F<32;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}m.head&&(m.head.time=T),m.flags&512&&(re[0]=T&255,re[1]=T>>>8&255,re[2]=T>>>16&255,re[3]=T>>>24&255,m.check=i(m.check,re,4,0)),T=0,F=0,m.mode=C;case C:for(;F<16;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}m.head&&(m.head.xflags=T&255,m.head.os=T>>8),m.flags&512&&(re[0]=T&255,re[1]=T>>>8&255,m.check=i(m.check,re,2,0)),T=0,F=0,m.mode=d;case d:if(m.flags&1024){for(;F<16;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}m.length=T,m.head&&(m.head.extra_len=T),m.flags&512&&(re[0]=T&255,re[1]=T>>>8&255,m.check=i(m.check,re,2,0)),T=0,F=0}else m.head&&(m.head.extra=null);m.mode=p;case p:if(m.flags&1024&&(ce=m.length,ce>B&&(ce=B),ce&&(m.head&&(te=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),t.arraySet(m.head.extra,W,f,ce,te)),m.flags&512&&(m.check=i(m.check,W,ce,f)),B-=ce,f+=ce,m.length-=ce),m.length))break e;m.length=0,m.mode=v;case v:if(m.flags&2048){if(B===0)break e;ce=0;do te=W[f+ce++],m.head&&te&&m.length<65536&&(m.head.name+=String.fromCharCode(te));while(te&&ce<B);if(m.flags&512&&(m.check=i(m.check,W,ce,f)),B-=ce,f+=ce,te)break e}else m.head&&(m.head.name=null);m.length=0,m.mode=x;case x:if(m.flags&4096){if(B===0)break e;ce=0;do te=W[f+ce++],m.head&&te&&m.length<65536&&(m.head.comment+=String.fromCharCode(te));while(te&&ce<B);if(m.flags&512&&(m.check=i(m.check,W,ce,f)),B-=ce,f+=ce,te)break e}else m.head&&(m.head.comment=null);m.mode=L;case L:if(m.flags&512){for(;F<16;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}if(T!==(m.check&65535)){O.msg="header crc mismatch",m.mode=me;break}T=0,F=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),O.adler=m.check=0,m.mode=ae;break;case R:for(;F<32;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}O.adler=m.check=Fe(T),T=0,F=0,m.mode=N;case N:if(m.havedict===0)return O.next_out=U,O.avail_out=_,O.next_in=f,O.avail_in=B,m.hold=T,m.bits=F,y;O.adler=m.check=1,m.mode=ae;case ae:if(q===l||q===u)break e;case he:if(m.last){T>>>=F&7,F-=F&7,m.mode=Ae;break}for(;F<3;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}switch(m.last=T&1,T>>>=1,F-=1,T&3){case 0:m.mode=Ce;break;case 1:if(st(m),m.mode=ie,q===u){T>>>=2,F-=2;break e}break;case 2:m.mode=$;break;case 3:O.msg="invalid block type",m.mode=me}T>>>=2,F-=2;break;case Ce:for(T>>>=F&7,F-=F&7;F<32;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}if((T&65535)!==(T>>>16^65535)){O.msg="invalid stored block lengths",m.mode=me;break}if(m.length=T&65535,T=0,F=0,m.mode=X,q===u)break e;case X:m.mode=j;case j:if(ce=m.length,ce){if(ce>B&&(ce=B),ce>_&&(ce=_),ce===0)break e;t.arraySet(Ee,W,f,ce,U),B-=ce,f+=ce,_-=ce,U+=ce,m.length-=ce;break}m.mode=ae;break;case $:for(;F<14;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}if(m.nlen=(T&31)+257,T>>>=5,F-=5,m.ndist=(T&31)+1,T>>>=5,F-=5,m.ncode=(T&15)+4,T>>>=4,F-=4,m.nlen>286||m.ndist>30){O.msg="too many length or distance symbols",m.mode=me;break}m.have=0,m.mode=se;case se:for(;m.have<m.ncode;){for(;F<3;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}m.lens[$e[m.have++]]=T&7,T>>>=3,F-=3}for(;m.have<19;)m.lens[$e[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,ve={bits:m.lenbits},fe=a(n,m.lens,0,19,m.lencode,0,m.work,ve),m.lenbits=ve.bits,fe){O.msg="invalid code lengths set",m.mode=me;break}m.have=0,m.mode=ee;case ee:for(;m.have<m.nlen+m.ndist;){for(;k=m.lencode[T&(1<<m.lenbits)-1],I=k>>>24,D=k>>>16&255,V=k&65535,!(I<=F);){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}if(V<16)T>>>=I,F-=I,m.lens[m.have++]=V;else{if(V===16){for(Pe=I+2;F<Pe;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}if(T>>>=I,F-=I,m.have===0){O.msg="invalid bit length repeat",m.mode=me;break}te=m.lens[m.have-1],ce=3+(T&3),T>>>=2,F-=2}else if(V===17){for(Pe=I+3;F<Pe;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}T>>>=I,F-=I,te=0,ce=3+(T&7),T>>>=3,F-=3}else{for(Pe=I+7;F<Pe;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}T>>>=I,F-=I,te=0,ce=11+(T&127),T>>>=7,F-=7}if(m.have+ce>m.nlen+m.ndist){O.msg="invalid bit length repeat",m.mode=me;break}for(;ce--;)m.lens[m.have++]=te}}if(m.mode===me)break;if(m.lens[256]===0){O.msg="invalid code -- missing end-of-block",m.mode=me;break}if(m.lenbits=9,ve={bits:m.lenbits},fe=a(o,m.lens,0,m.nlen,m.lencode,0,m.work,ve),m.lenbits=ve.bits,fe){O.msg="invalid literal/lengths set",m.mode=me;break}if(m.distbits=6,m.distcode=m.distdyn,ve={bits:m.distbits},fe=a(s,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,ve),m.distbits=ve.bits,fe){O.msg="invalid distances set",m.mode=me;break}if(m.mode=ie,q===u)break e;case ie:m.mode=Y;case Y:if(B>=6&&_>=258){O.next_out=U,O.avail_out=_,O.next_in=f,O.avail_in=B,m.hold=T,m.bits=F,r(O,le),U=O.next_out,Ee=O.output,_=O.avail_out,f=O.next_in,W=O.input,B=O.avail_in,T=m.hold,F=m.bits,m.mode===ae&&(m.back=-1);break}for(m.back=0;k=m.lencode[T&(1<<m.lenbits)-1],I=k>>>24,D=k>>>16&255,V=k&65535,!(I<=F);){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}if(D&&(D&240)===0){for(J=I,Se=D,ke=V;k=m.lencode[ke+((T&(1<<J+Se)-1)>>J)],I=k>>>24,D=k>>>16&255,V=k&65535,!(J+I<=F);){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}T>>>=J,F-=J,m.back+=J}if(T>>>=I,F-=I,m.back+=I,m.length=V,D===0){m.mode=ge;break}if(D&32){m.back=-1,m.mode=ae;break}if(D&64){O.msg="invalid literal/length code",m.mode=me;break}m.extra=D&15,m.mode=Te;case Te:if(m.extra){for(Pe=m.extra;F<Pe;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}m.length+=T&(1<<m.extra)-1,T>>>=m.extra,F-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=Me;case Me:for(;k=m.distcode[T&(1<<m.distbits)-1],I=k>>>24,D=k>>>16&255,V=k&65535,!(I<=F);){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}if((D&240)===0){for(J=I,Se=D,ke=V;k=m.distcode[ke+((T&(1<<J+Se)-1)>>J)],I=k>>>24,D=k>>>16&255,V=k&65535,!(J+I<=F);){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}T>>>=J,F-=J,m.back+=J}if(T>>>=I,F-=I,m.back+=I,D&64){O.msg="invalid distance code",m.mode=me;break}m.offset=V,m.extra=D&15,m.mode=_e;case _e:if(m.extra){for(Pe=m.extra;F<Pe;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}m.offset+=T&(1<<m.extra)-1,T>>>=m.extra,F-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){O.msg="invalid distance too far back",m.mode=me;break}m.mode=Ie;case Ie:if(_===0)break e;if(ce=le-_,m.offset>ce){if(ce=m.offset-ce,ce>m.whave&&m.sane){O.msg="invalid distance too far back",m.mode=me;break}ce>m.wnext?(ce-=m.wnext,qe=m.wsize-ce):qe=m.wnext-ce,ce>m.length&&(ce=m.length),jt=m.window}else jt=Ee,qe=U-m.offset,ce=m.length;ce>_&&(ce=_),_-=ce,m.length-=ce;do Ee[U++]=jt[qe++];while(--ce);m.length===0&&(m.mode=Y);break;case ge:if(_===0)break e;Ee[U++]=m.length,_--,m.mode=Y;break;case Ae:if(m.wrap){for(;F<32;){if(B===0)break e;B--,T|=W[f++]<<F,F+=8}if(le-=_,O.total_out+=le,m.total+=le,le&&(O.adler=m.check=m.flags?i(m.check,Ee,le,U-le):e(m.check,Ee,le,U-le)),le=_,(m.flags?T:Fe(T))!==m.check){O.msg="incorrect data check",m.mode=me;break}T=0,F=0}m.mode=ze;case ze:if(m.wrap&&m.flags){for(;F<32;){if(B===0)break e;B--,T+=W[f++]<<F,F+=8}if(T!==(m.total&4294967295)){O.msg="incorrect length check",m.mode=me;break}T=0,F=0}m.mode=be;case be:fe=c;break e;case me:fe=P;break e;case Le:return A;case Ue:default:return S}return O.next_out=U,O.avail_out=_,O.next_in=f,O.avail_in=B,m.hold=T,m.bits=F,(m.wsize||le!==O.avail_out&&m.mode<me&&(m.mode<Ae||q!==h))&&Dt(O,O.output,O.next_out,le-O.avail_out),ye-=O.avail_in,le-=O.avail_out,O.total_in+=ye,O.total_out+=le,m.total+=le,m.wrap&&le&&(O.adler=m.check=m.flags?i(m.check,Ee,le,O.next_out-le):e(m.check,Ee,le,O.next_out-le)),O.data_type=m.bits+(m.last?64:0)+(m.mode===ae?128:0)+(m.mode===ie||m.mode===X?256:0),(ye===0&&le===0||q===h)&&fe===g&&(fe=b),fe}function Z(O){if(!O||!O.state)return S;var q=O.state;return q.window&&(q.window=null),O.state=null,g}function H(O,q){var m;return!O||!O.state||(m=O.state,(m.wrap&2)===0)?S:(m.head=q,q.done=!1,g)}function ue(O,q){var m=q.length,W,Ee,f;return!O||!O.state||(W=O.state,W.wrap!==0&&W.mode!==N)?S:W.mode===N&&(Ee=1,Ee=e(Ee,q,m,0),Ee!==W.check)?P:(f=Dt(O,q,m,m),f?(W.mode=Le,A):(W.havedict=1,g))}return Ft.inflateReset=nt,Ft.inflateReset2=At,Ft.inflateResetKeep=St,Ft.inflateInit=et,Ft.inflateInit2=Ze,Ft.inflate=w,Ft.inflateEnd=Z,Ft.inflateGetHeader=H,Ft.inflateSetDictionary=ue,Ft.inflateInfo="pako inflate (from Nodeca project)",Ft}var In,kh;function Ll(){return kh||(kh=1,In={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),In}var Nn,Ch;function yp(){if(Ch)return Nn;Ch=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return Nn=t,Nn}var Ah;function wp(){if(Ah)return Wi;Ah=1;var t=_p(),e=Ui(),i=Nh(),r=Ll(),a=Is(),n=Rh(),o=yp(),s=Object.prototype.toString;function h(g){if(!(this instanceof h))return new h(g);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},g||{});var c=this.options;c.raw&&c.windowBits>=0&&c.windowBits<16&&(c.windowBits=-c.windowBits,c.windowBits===0&&(c.windowBits=-15)),c.windowBits>=0&&c.windowBits<16&&!(g&&g.windowBits)&&(c.windowBits+=32),c.windowBits>15&&c.windowBits<48&&(c.windowBits&15)===0&&(c.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var y=t.inflateInit2(this.strm,c.windowBits);if(y!==r.Z_OK)throw new Error(a[y]);if(this.header=new o,t.inflateGetHeader(this.strm,this.header),c.dictionary&&(typeof c.dictionary=="string"?c.dictionary=i.string2buf(c.dictionary):s.call(c.dictionary)==="[object ArrayBuffer]"&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(y=t.inflateSetDictionary(this.strm,c.dictionary),y!==r.Z_OK)))throw new Error(a[y])}h.prototype.push=function(g,c){var y=this.strm,S=this.options.chunkSize,P=this.options.dictionary,A,b,M,G,z,E=!1;if(this.ended)return!1;b=c===~~c?c:c===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof g=="string"?y.input=i.binstring2buf(g):s.call(g)==="[object ArrayBuffer]"?y.input=new Uint8Array(g):y.input=g,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new e.Buf8(S),y.next_out=0,y.avail_out=S),A=t.inflate(y,r.Z_NO_FLUSH),A===r.Z_NEED_DICT&&P&&(A=t.inflateSetDictionary(this.strm,P)),A===r.Z_BUF_ERROR&&E===!0&&(A=r.Z_OK,E=!1),A!==r.Z_STREAM_END&&A!==r.Z_OK)return this.onEnd(A),this.ended=!0,!1;y.next_out&&(y.avail_out===0||A===r.Z_STREAM_END||y.avail_in===0&&(b===r.Z_FINISH||b===r.Z_SYNC_FLUSH))&&(this.options.to==="string"?(M=i.utf8border(y.output,y.next_out),G=y.next_out-M,z=i.buf2string(y.output,M),y.next_out=G,y.avail_out=S-G,G&&e.arraySet(y.output,y.output,M,G,0),this.onData(z)):this.onData(e.shrinkBuf(y.output,y.next_out))),y.avail_in===0&&y.avail_out===0&&(E=!0)}while((y.avail_in>0||y.avail_out===0)&&A!==r.Z_STREAM_END);return A===r.Z_STREAM_END&&(b=r.Z_FINISH),b===r.Z_FINISH?(A=t.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===r.Z_OK):(b===r.Z_SYNC_FLUSH&&(this.onEnd(r.Z_OK),y.avail_out=0),!0)},h.prototype.onData=function(g){this.chunks.push(g)},h.prototype.onEnd=function(g){g===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function l(g,c){var y=new h(c);if(y.push(g,!0),y.err)throw y.msg||a[y.err];return y.result}function u(g,c){return c=c||{},c.raw=!0,l(g,c)}return Wi.Inflate=h,Wi.inflate=l,Wi.inflateRaw=u,Wi.ungzip=l,Wi}var Rn,Th;function bp(){if(Th)return Rn;Th=1;var t=Ui().assign,e=pp(),i=wp(),r=Ll(),a={};return t(a,e,i,r),Rn=a,Rn}var Sp=bp();const Up=Ia(Sp);export{yt as A,On as E,kp as P,Cp as a,Np as b,Rp as c,Op as d,at as e,Bi as f,Na as g,sf as h,Fp as i,kr as j,ga as k,Pp as l,Ki as m,Ip as n,Gp as o,Up as p,Ep as q,of as r,Tp as s,$r as t,Lp as u,Mp as v,Ap as w,Dp as x};
//# sourceMappingURL=vendor-Cv8-97MN.js.map
