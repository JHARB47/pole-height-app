import{P as b,a as Ot,b as P,c as k,d as oe,e as hr,S as ht,C as fr,J as vr,f as gr,A as pe,M as $t,g as Ir,h as Tt,i as Hr,j as be,k as zt,l as Q,m as N,n as mt,o as Nt,p as Lt,q as Me,r as jt,s as pr,t as H,u as It,v as Ht,w as er,x as tr,y as yr,z as Le,B as Je,D as Vr,E as Bt,F as rr,U as Ur,G as Gr,H as Kr,I as qr,K as ar,L as Xr,N as Yr,O as Jr,Q as Zr,R as Qr,T as $r,V as ea}from"./pdf-core-XUHen7ke.js";import{a as c,e as Qe,b as ve,_ as L,c as V,l as br,d as Ft,m as mr,f as ta,g as ra,h as T,i as Fr,j as G,k as K,n as g,o as Cr,p as Ct,q as aa,r as Sr,s as fe,C as Rt,t as na,u as nr,v as Ge,w as ie,x as ia,y as oa,z as da,A as la,B as at,D as sa,E as ua}from"./pdf-libs-BHK3Zt8R.js";var St=function(r){return r instanceof b?r:b.of(r)},m=function(r){return r instanceof Ot?r:Ot.of(r)},D=function(r){return r instanceof Ot?r.asNumber():r},je;(function(r){r.Degrees="degrees",r.Radians="radians"})(je||(je={}));var hn=function(r){return c(r,"radianAngle",["number"]),{type:je.Radians,angle:r}},A=function(r){return c(r,"degreeAngle",["number"]),{type:je.Degrees,angle:r}},xr=je.Radians,wr=je.Degrees,Oe=function(r){return r*Math.PI/180},ca=function(r){return r*180/Math.PI},q=function(r){return r.type===xr?r.angle:r.type===wr?Oe(r.angle):Qe("Invalid rotation: "+JSON.stringify(r))},Ar=function(r){return r.type===xr?ca(r.angle):r.type===wr?r.angle:Qe("Invalid rotation: "+JSON.stringify(r))},me=function(r){r===void 0&&(r=0);var e=r/90%4;return e===0?0:e===1?90:e===2?180:e===3?270:0},Re=function(r,e){e===void 0&&(e=0);var t=me(e);return t===90||t===270?{width:r.height,height:r.width}:{width:r.width,height:r.height}},ha=function(r,e,t){e===void 0&&(e=0),t===void 0&&(t=0);var a=r.x,n=r.y,i=r.width,o=r.height,d=me(t),l=e/2;return d===0?{x:a-l,y:n-l,width:i,height:o}:d===90?{x:a-o+l,y:n-l,width:o,height:i}:d===180?{x:a-i+l,y:n-o+l,width:i,height:o}:d===270?{x:a-l,y:n-i+l,width:o,height:i}:{x:a-l,y:n-l,width:i,height:o}},Dr=function(){return P.of(k.ClipNonZero)},fn=function(){return P.of(k.ClipEvenOdd)},ft=Math.cos,vt=Math.sin,gt=Math.tan,xt=function(r,e,t,a,n,i){return P.of(k.ConcatTransformationMatrix,[m(r),m(e),m(t),m(a),m(n),m(i)])},le=function(r,e){return xt(1,0,0,1,r,e)},Ze=function(r,e){return xt(r,0,0,e,0,0)},He=function(r){return xt(ft(D(r)),vt(D(r)),-vt(D(r)),ft(D(r)),0,0)},nt=function(r){return He(Oe(D(r)))},wt=function(r,e){return xt(1,gt(D(r)),gt(D(e)),1,0,0)},vn=function(r,e){return wt(Oe(D(r)),Oe(D(e)))},$e=function(r,e){return P.of(k.SetLineDashPattern,["["+r.map(m).join(" ")+"]",m(e)])},gn=function(){return $e([],0)},Ne;(function(r){r[r.Butt=0]="Butt",r[r.Round=1]="Round",r[r.Projecting=2]="Projecting"})(Ne||(Ne={}));var At=function(r){return P.of(k.SetLineCapStyle,[m(r)])},ir;(function(r){r[r.Miter=0]="Miter",r[r.Round=1]="Round",r[r.Bevel=2]="Bevel"})(ir||(ir={}));var pn=function(r){return P.of(k.SetLineJoinStyle,[m(r)])},De=function(r){return P.of(k.SetGraphicsStateParams,[St(r)])},X=function(){return P.of(k.PushGraphicsState)},Y=function(){return P.of(k.PopGraphicsState)},et=function(r){return P.of(k.SetLineWidth,[m(r)])},ae=function(r,e,t,a,n,i){return P.of(k.AppendBezierCurve,[m(r),m(e),m(t),m(a),m(n),m(i)])},it=function(r,e,t,a){return P.of(k.CurveToReplicateInitialPoint,[m(r),m(e),m(t),m(a)])},xe=function(){return P.of(k.ClosePath)},ge=function(r,e){return P.of(k.MoveTo,[m(r),m(e)])},$=function(r,e){return P.of(k.LineTo,[m(r),m(e)])},fa=function(r,e,t,a){return P.of(k.AppendRectangle,[m(r),m(e),m(t),m(a)])},yn=function(r,e,t){return fa(r,e,t,t)},tt=function(){return P.of(k.StrokePath)},Vt=function(){return P.of(k.FillNonZero)},Ut=function(){return P.of(k.FillNonZeroAndStroke)},Pr=function(){return P.of(k.EndPath)},va=function(){return P.of(k.NextLine)},bn=function(r,e){return P.of(k.MoveText,[m(r),m(e)])},Gt=function(r){return P.of(k.ShowText,[r])},Kt=function(){return P.of(k.BeginText)},qt=function(){return P.of(k.EndText)},Dt=function(r,e){return P.of(k.SetFontAndSize,[St(r),m(e)])},mn=function(r){return P.of(k.SetCharacterSpacing,[m(r)])},Fn=function(r){return P.of(k.SetWordSpacing,[m(r)])},Cn=function(r){return P.of(k.SetTextHorizontalScaling,[m(r)])},ga=function(r){return P.of(k.SetTextLineHeight,[m(r)])},Sn=function(r){return P.of(k.SetTextRise,[m(r)])},or;(function(r){r[r.Fill=0]="Fill",r[r.Outline=1]="Outline",r[r.FillAndOutline=2]="FillAndOutline",r[r.Invisible=3]="Invisible",r[r.FillAndClip=4]="FillAndClip",r[r.OutlineAndClip=5]="OutlineAndClip",r[r.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",r[r.Clip=7]="Clip"})(or||(or={}));var xn=function(r){return P.of(k.SetTextRenderingMode,[m(r)])},pa=function(r,e,t,a,n,i){return P.of(k.SetTextMatrix,[m(r),m(e),m(t),m(a),m(n),m(i)])},Pt=function(r,e,t,a,n){return pa(ft(D(r)),vt(D(r))+gt(D(e)),-vt(D(r))+gt(D(t)),ft(D(r)),a,n)},wn=function(r,e,t,a,n){return Pt(Oe(D(r)),Oe(D(e)),Oe(D(t)),a,n)},Xt=function(r){return P.of(k.DrawObject,[St(r)])},ya=function(r){return P.of(k.NonStrokingColorGray,[m(r)])},ba=function(r){return P.of(k.StrokingColorGray,[m(r)])},ma=function(r,e,t){return P.of(k.NonStrokingColorRgb,[m(r),m(e),m(t)])},Fa=function(r,e,t){return P.of(k.StrokingColorRgb,[m(r),m(e),m(t)])},Ca=function(r,e,t,a){return P.of(k.NonStrokingColorCmyk,[m(r),m(e),m(t),m(a)])},Sa=function(r,e,t,a){return P.of(k.StrokingColorCmyk,[m(r),m(e),m(t),m(a)])},kr=function(r){return P.of(k.BeginMarkedContent,[St(r)])},Tr=function(){return P.of(k.EndMarkedContent)},we;(function(r){r.Grayscale="Grayscale",r.RGB="RGB",r.CMYK="CMYK"})(we||(we={}));var Or=function(r){return ve(r,"gray",0,1),{type:we.Grayscale,gray:r}},_=function(r,e,t){return ve(r,"red",0,1),ve(e,"green",0,1),ve(t,"blue",0,1),{type:we.RGB,red:r,green:e,blue:t}},Br=function(r,e,t,a){return ve(r,"cyan",0,1),ve(e,"magenta",0,1),ve(t,"yellow",0,1),ve(a,"key",0,1),{type:we.CMYK,cyan:r,magenta:e,yellow:t,key:a}},Yt=we.Grayscale,Jt=we.RGB,Zt=we.CMYK,Pe=function(r){return r.type===Yt?ya(r.gray):r.type===Jt?ma(r.red,r.green,r.blue):r.type===Zt?Ca(r.cyan,r.magenta,r.yellow,r.key):Qe("Invalid color: "+JSON.stringify(r))},rt=function(r){return r.type===Yt?ba(r.gray):r.type===Jt?Fa(r.red,r.green,r.blue):r.type===Zt?Sa(r.cyan,r.magenta,r.yellow,r.key):Qe("Invalid color: "+JSON.stringify(r))},te=function(r,e){return e===void 0&&(e=1),(r==null?void 0:r.length)===1?Or(r[0]*e):(r==null?void 0:r.length)===3?_(r[0]*e,r[1]*e,r[2]*e):(r==null?void 0:r.length)===4?Br(r[0]*e,r[1]*e,r[2]*e,r[3]*e):void 0},dr=function(r){return r.type===Yt?[r.gray]:r.type===Jt?[r.red,r.green,r.blue]:r.type===Zt?[r.cyan,r.magenta,r.yellow,r.key]:Qe("Invalid color: "+JSON.stringify(r))},F=0,C=0,B=0,R=0,Ke=0,qe=0,lr=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),xa=function(r){for(var e,t=[],a=[],n="",i=!1,o=0,d=0,l=r;d<l.length;d++){var s=l[d];if(lr.has(s))o=lr.get(s),e&&(n.length>0&&(a[a.length]=+n),t[t.length]={cmd:e,args:a},a=[],n="",i=!1),e=s;else if([" ",","].includes(s)||s==="-"&&n.length>0&&n[n.length-1]!=="e"||s==="."&&i){if(n.length===0)continue;a.length===o?(t[t.length]={cmd:e,args:a},a=[+n],e==="M"&&(e="L"),e==="m"&&(e="l")):a[a.length]=+n,i=s===".",n=["-","."].includes(s)?s:""}else n+=s,s==="."&&(i=!0)}return n.length>0&&(a.length===o?(t[t.length]={cmd:e,args:a},a=[+n],e==="M"&&(e="L"),e==="m"&&(e="l")):a[a.length]=+n),t[t.length]={cmd:e,args:a},t},wa=function(r){F=C=B=R=Ke=qe=0;for(var e=[],t=0;t<r.length;t++){var a=r[t];if(a.cmd&&typeof sr[a.cmd]=="function"){var n=sr[a.cmd](a.args);Array.isArray(n)?e=e.concat(n):e.push(n)}}return e},sr={M:function(r){return F=r[0],C=r[1],B=R=null,Ke=F,qe=C,ge(F,C)},m:function(r){return F+=r[0],C+=r[1],B=R=null,Ke=F,qe=C,ge(F,C)},C:function(r){return F=r[4],C=r[5],B=r[2],R=r[3],ae(r[0],r[1],r[2],r[3],r[4],r[5])},c:function(r){var e=ae(r[0]+F,r[1]+C,r[2]+F,r[3]+C,r[4]+F,r[5]+C);return B=F+r[2],R=C+r[3],F+=r[4],C+=r[5],e},S:function(r){(B===null||R===null)&&(B=F,R=C);var e=ae(F-(B-F),C-(R-C),r[0],r[1],r[2],r[3]);return B=r[0],R=r[1],F=r[2],C=r[3],e},s:function(r){(B===null||R===null)&&(B=F,R=C);var e=ae(F-(B-F),C-(R-C),F+r[0],C+r[1],F+r[2],C+r[3]);return B=F+r[0],R=C+r[1],F+=r[2],C+=r[3],e},Q:function(r){return B=r[0],R=r[1],F=r[2],C=r[3],it(r[0],r[1],F,C)},q:function(r){var e=it(r[0]+F,r[1]+C,r[2]+F,r[3]+C);return B=F+r[0],R=C+r[1],F+=r[2],C+=r[3],e},T:function(r){B===null||R===null?(B=F,R=C):(B=F-(B-F),R=C-(R-C));var e=it(B,R,r[0],r[1]);return B=F-(B-F),R=C-(R-C),F=r[0],C=r[1],e},t:function(r){B===null||R===null?(B=F,R=C):(B=F-(B-F),R=C-(R-C));var e=it(B,R,F+r[0],C+r[1]);return F+=r[0],C+=r[1],e},A:function(r){var e=ur(F,C,r);return F=r[5],C=r[6],e},a:function(r){r[5]+=F,r[6]+=C;var e=ur(F,C,r);return F=r[5],C=r[6],e},L:function(r){return F=r[0],C=r[1],B=R=null,$(F,C)},l:function(r){return F+=r[0],C+=r[1],B=R=null,$(F,C)},H:function(r){return F=r[0],B=R=null,$(F,C)},h:function(r){return F+=r[0],B=R=null,$(F,C)},V:function(r){return C=r[0],B=R=null,$(F,C)},v:function(r){return C+=r[0],B=R=null,$(F,C)},Z:function(){var r=xe();return F=Ke,C=qe,r},z:function(){var r=xe();return F=Ke,C=qe,r}},ur=function(r,e,t){for(var a=t[0],n=t[1],i=t[2],o=t[3],d=t[4],l=t[5],s=t[6],u=Aa(l,s,a,n,o,d,i,r,e),h=[],f=0,v=u;f<v.length;f++){var p=v[f],y=Da.apply(void 0,p);h.push(ae.apply(void 0,y))}return h},Aa=function(r,e,t,a,n,i,o,d,l){var s=o*(Math.PI/180),u=Math.sin(s),h=Math.cos(s);t=Math.abs(t),a=Math.abs(a),B=h*(d-r)*.5+u*(l-e)*.5,R=h*(l-e)*.5-u*(d-r)*.5;var f=B*B/(t*t)+R*R/(a*a);f>1&&(f=Math.sqrt(f),t*=f,a*=f);var v=h/t,p=u/t,y=-u/a,w=h/a,S=v*d+p*l,x=y*d+w*l,O=v*r+p*e,M=y*r+w*e,W=(O-S)*(O-S)+(M-x)*(M-x),I=1/W-.25;I<0&&(I=0);var E=Math.sqrt(I);i===n&&(E=-E);var j=.5*(S+O)-E*(M-x),U=.5*(x+M)+E*(O-S),J=Math.atan2(x-U,S-j),re=Math.atan2(M-U,O-j),z=re-J;z<0&&i===1?z+=2*Math.PI:z>0&&i===0&&(z-=2*Math.PI);for(var ee=Math.ceil(Math.abs(z/(Math.PI*.5+.001))),ce=[],he=0;he<ee;he++){var Fe=J+he*z/ee,Ee=J+(he+1)*z/ee;ce[he]=[j,U,Fe,Ee,t,a,u,h]}return ce},Da=function(r,e,t,a,n,i,o,d){var l=d*n,s=-o*i,u=o*n,h=d*i,f=.5*(a-t),v=8/3*Math.sin(f*.5)*Math.sin(f*.5)/Math.sin(f),p=r+Math.cos(t)-v*Math.sin(t),y=e+Math.sin(t)+v*Math.cos(t),w=r+Math.cos(a),S=e+Math.sin(a),x=w+v*Math.sin(a),O=S-v*Math.cos(a),M=[l*p+s*y,u*p+h*y,l*x+s*O,u*x+h*O,l*w+s*S,u*w+h*S];return M},Pa=function(r){return wa(xa(r))},An=function(r,e){return[X(),e.graphicsState&&De(e.graphicsState),Kt(),Pe(e.color),Dt(e.font,e.size),Pt(q(e.rotate),q(e.xSkew),q(e.ySkew),e.x,e.y),Gt(r),qt(),Y()].filter(Boolean)},ka=function(r,e){for(var t=[X(),e.graphicsState&&De(e.graphicsState),Kt(),Pe(e.color),Dt(e.font,e.size),ga(e.lineHeight),Pt(q(e.rotate),q(e.xSkew),q(e.ySkew),e.x,e.y)].filter(Boolean),a=0,n=r.length;a<n;a++)t.push(Gt(r[a]),va());return t.push(qt(),Y()),t},Rr=function(r,e){return[X(),e.graphicsState&&De(e.graphicsState),le(e.x,e.y),He(q(e.rotate)),Ze(e.width,e.height),wt(q(e.xSkew),q(e.ySkew)),Xt(r),Y()].filter(Boolean)},Ta=function(r,e){return[X(),e.graphicsState&&De(e.graphicsState),le(e.x,e.y),He(q(e.rotate)),Ze(e.xScale,e.yScale),wt(q(e.xSkew),q(e.ySkew)),Xt(r),Y()].filter(Boolean)},Oa=function(r){var e,t;return[X(),r.graphicsState&&De(r.graphicsState),r.color&&rt(r.color),et(r.thickness),$e((e=r.dashArray)!==null&&e!==void 0?e:[],(t=r.dashPhase)!==null&&t!==void 0?t:0),ge(r.start.x,r.start.y),r.lineCap&&At(r.lineCap),ge(r.start.x,r.start.y),$(r.end.x,r.end.y),tt(),Y()].filter(Boolean)},Ie=function(r){var e,t;return[X(),r.graphicsState&&De(r.graphicsState),r.color&&Pe(r.color),r.borderColor&&rt(r.borderColor),et(r.borderWidth),r.borderLineCap&&At(r.borderLineCap),$e((e=r.borderDashArray)!==null&&e!==void 0?e:[],(t=r.borderDashPhase)!==null&&t!==void 0?t:0),le(r.x,r.y),He(q(r.rotate)),wt(q(r.xSkew),q(r.ySkew)),ge(0,0),$(0,r.height),$(r.width,r.height),$(r.width,0),xe(),r.color&&r.borderWidth?Ut():r.color?Vt():r.borderColor?tt():xe(),Y()].filter(Boolean)},pt=4*((Math.sqrt(2)-1)/3),Ba=function(r){var e=D(r.x),t=D(r.y),a=D(r.xScale),n=D(r.yScale);e-=a,t-=n;var i=a*pt,o=n*pt,d=e+a*2,l=t+n*2,s=e+a,u=t+n;return[X(),ge(e,u),ae(e,u-o,s-i,t,s,t),ae(s+i,t,d,u-o,d,u),ae(d,u+o,s+i,l,s,l),ae(s-i,l,e,u+o,e,u),Y()]},Ra=function(r){var e=D(r.x),t=D(r.y),a=D(r.xScale),n=D(r.yScale),i=-a,o=-n,d=a*pt,l=n*pt,s=i+a*2,u=o+n*2,h=i+a,f=o+n;return[le(e,t),He(q(r.rotate)),ge(i,f),ae(i,f-l,h-d,o,h,o),ae(h+d,o,s,f-l,s,f),ae(s,f+l,h+d,u,h,u),ae(h-d,u,i,f+l,i,f)]},Wt=function(r){var e,t,a;return L([X(),r.graphicsState&&De(r.graphicsState),r.color&&Pe(r.color),r.borderColor&&rt(r.borderColor),et(r.borderWidth),r.borderLineCap&&At(r.borderLineCap),$e((e=r.borderDashArray)!==null&&e!==void 0?e:[],(t=r.borderDashPhase)!==null&&t!==void 0?t:0)],r.rotate===void 0?Ba({x:r.x,y:r.y,xScale:r.xScale,yScale:r.yScale}):Ra({x:r.x,y:r.y,xScale:r.xScale,yScale:r.yScale,rotate:(a=r.rotate)!==null&&a!==void 0?a:A(0)}),[r.color&&r.borderWidth?Ut():r.color?Vt():r.borderColor?tt():xe(),Y()]).filter(Boolean)},Wa=function(r,e){var t,a,n;return L([X(),e.graphicsState&&De(e.graphicsState),le(e.x,e.y),He(q((t=e.rotate)!==null&&t!==void 0?t:A(0))),e.scale?Ze(e.scale,-e.scale):Ze(1,-1),e.color&&Pe(e.color),e.borderColor&&rt(e.borderColor),e.borderWidth&&et(e.borderWidth),e.borderLineCap&&At(e.borderLineCap),$e((a=e.borderDashArray)!==null&&a!==void 0?a:[],(n=e.borderDashPhase)!==null&&n!==void 0?n:0)],Pa(r),[e.color&&e.borderWidth?Ut():e.color?Vt():e.borderColor?tt():xe(),Y()]).filter(Boolean)},Ea=function(r){var e=D(r.size),t=-1+.75,a=-1+.51,n=1-.525,i=1-.31,o=-1+.325,d=.3995/(n-a)+a;return[X(),r.color&&rt(r.color),et(r.thickness),le(r.x,r.y),ge(o*e,d*e),$(t*e,a*e),$(i*e,n*e),tt(),Y()].filter(Boolean)},ke=function(r){return r.rotation===0?[le(0,0),nt(0)]:r.rotation===90?[le(r.width,0),nt(90)]:r.rotation===180?[le(r.width,r.height),nt(180)]:r.rotation===270?[le(0,r.height),nt(270)]:[]},ot=function(r){var e=Ie({x:r.x,y:r.y,width:r.width,height:r.height,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:A(0),xSkew:A(0),ySkew:A(0)});if(!r.filled)return e;var t=D(r.width),a=D(r.height),n=Math.min(t,a)/2,i=Ea({x:t/2,y:a/2,size:n,thickness:r.thickness,color:r.markColor});return L([X()],e,i,[Y()])},dt=function(r){var e=D(r.width),t=D(r.height),a=Math.min(e,t)/2,n=Wt({x:r.x,y:r.y,xScale:a,yScale:a,color:r.color,borderColor:r.borderColor,borderWidth:r.borderWidth});if(!r.filled)return n;var i=Wt({x:r.x,y:r.y,xScale:a*.45,yScale:a*.45,color:r.dotColor,borderColor:void 0,borderWidth:0});return L([X()],n,i,[Y()])},cr=function(r){var e=D(r.x),t=D(r.y),a=D(r.width),n=D(r.height),i=Ie({x:e,y:t,width:a,height:n,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:A(0),xSkew:A(0),ySkew:A(0)}),o=Qt(r.textLines,{color:r.textColor,font:r.font,size:r.fontSize,rotate:A(0),xSkew:A(0),ySkew:A(0)});return L([X()],i,o,[Y()])},Qt=function(r,e){for(var t=[Kt(),Pe(e.color),Dt(e.font,e.size)],a=0,n=r.length;a<n;a++){var i=r[a],o=i.encoded,d=i.x,l=i.y;t.push(Pt(q(e.rotate),q(e.xSkew),q(e.ySkew),d,l),Gt(o))}return t.push(qt()),t},Wr=function(r){var e=D(r.x),t=D(r.y),a=D(r.width),n=D(r.height),i=D(r.borderWidth),o=D(r.padding),d=e+i/2+o,l=t+i/2+o,s=a-(i/2+o)*2,u=n-(i/2+o)*2,h=[ge(d,l),$(d,l+u),$(d+s,l+u),$(d+s,l),xe(),Dr(),Pr()],f=Ie({x:e,y:t,width:a,height:n,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:A(0),xSkew:A(0),ySkew:A(0)}),v=Qt(r.textLines,{color:r.textColor,font:r.font,size:r.fontSize,rotate:A(0),xSkew:A(0),ySkew:A(0)}),p=L([kr("Tx"),X()],v,[Y(),Tr()]);return L([X()],f,h,p,[Y()])},Ma=function(r){for(var e=D(r.x),t=D(r.y),a=D(r.width),n=D(r.height),i=D(r.lineHeight),o=D(r.borderWidth),d=D(r.padding),l=e+o/2+d,s=t+o/2+d,u=a-(o/2+d)*2,h=n-(o/2+d)*2,f=[ge(l,s),$(l,s+h),$(l+u,s+h),$(l+u,s),xe(),Dr(),Pr()],v=Ie({x:e,y:t,width:a,height:n,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:A(0),xSkew:A(0),ySkew:A(0)}),p=[],y=0,w=r.selectedLines.length;y<w;y++){var S=r.textLines[r.selectedLines[y]];p.push.apply(p,Ie({x:S.x-d,y:S.y-(i-S.height)/2,width:a-o,height:S.height+(i-S.height)/2,borderWidth:0,color:r.selectedColor,borderColor:void 0,rotate:A(0),xSkew:A(0),ySkew:A(0)}))}var x=Qt(r.textLines,{color:r.textColor,font:r.font,size:r.fontSize,rotate:A(0),xSkew:A(0),ySkew:A(0)}),O=L([kr("Tx"),X()],x,[Y(),Tr()]);return L([X()],v,p,f,O,[Y()])},_a=(function(r){V(e,r);function e(){var t=this,a="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return t=r.call(this,a)||this,t}return e})(Error),za=(function(r){V(e,r);function e(){var t=this,a="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return t=r.call(this,a)||this,t}return e})(Error),Na=(function(r){V(e,r);function e(){var t=this,a="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return t=r.call(this,a)||this,t}return e})(Error),La=(function(r){V(e,r);function e(){var t=this,a="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return t=r.call(this,a)||this,t}return e})(Error),ja=(function(r){V(e,r);function e(t){var a=this,n='PDFDocument has no form field with the name "'+t+'"';return a=r.call(this,n)||this,a}return e})(Error),Te=(function(r){V(e,r);function e(t,a,n){var i,o,d=this,l=a==null?void 0:a.name,s=(o=(i=n==null?void 0:n.constructor)===null||i===void 0?void 0:i.name)!==null&&o!==void 0?o:n,u='Expected field "'+t+'" to be of type '+l+", "+("but it is actually of type "+s);return d=r.call(this,u)||this,d}return e})(Error),Dn=(function(r){V(e,r);function e(t){var a=this,n='Failed to select check box due to missing onValue: "'+t+'"';return a=r.call(this,n)||this,a}return e})(Error),Er=(function(r){V(e,r);function e(t){var a=this,n='A field already exists with the specified name: "'+t+'"';return a=r.call(this,n)||this,a}return e})(Error),Ia=(function(r){V(e,r);function e(t){var a=this,n='Field name contains invalid component: "'+t+'"';return a=r.call(this,n)||this,a}return e})(Error),Pn=(function(r){V(e,r);function e(t){var a=this,n='A non-terminal field already exists with the specified name: "'+t+'"';return a=r.call(this,n)||this,a}return e})(Error),Ha=(function(r){V(e,r);function e(t){var a=this,n="Reading rich text fields is not supported: Attempted to read rich text field: "+t;return a=r.call(this,n)||this,a}return e})(Error),Va=(function(r){V(e,r);function e(t,a){var n=this,i="Failed to layout combed text as lineLength="+t+" is greater than cellCount="+a;return n=r.call(this,i)||this,n}return e})(Error),Ua=(function(r){V(e,r);function e(t,a,n){var i=this,o="Attempted to set text with length="+t+" for TextField with maxLength="+a+" and name="+n;return i=r.call(this,o)||this,i}return e})(Error),Ga=(function(r){V(e,r);function e(t,a,n){var i=this,o="Attempted to set maxLength="+a+", which is less than "+t+", the length of this field's current value (name="+n+")";return i=r.call(this,o)||this,i}return e})(Error),Z;(function(r){r[r.Left=0]="Left",r[r.Center=1]="Center",r[r.Right=2]="Right"})(Z||(Z={}));var Mr=4,_r=500,zr=function(r,e,t,a){a===void 0&&(a=!1);for(var n=Mr;n<_r;){for(var i=0,o=0,d=r.length;o<d;o++){i+=1;for(var l=r[o],s=l.split(" "),u=t.width,h=0,f=s.length;h<f;h++){var v=h===f-1,p=v?s[h]:s[h]+" ",y=e.widthOfTextAtSize(p,n);u-=y,u<=0&&(i+=1,u=t.width-y)}}if(!a&&i>r.length)return n-1;var w=e.heightAtSize(n),S=w+w*.2,x=S*i;if(x>Math.abs(t.height))return n-1;n+=1}return n},Ka=function(r,e,t,a){for(var n=t.width/a,i=t.height,o=Mr,d=ra(r);o<_r;){for(var l=0,s=d.length;l<s;l++){var u=d[l],h=e.widthOfTextAtSize(u,o)>n*.75;if(h)return o-1}var f=e.heightAtSize(o,{descender:!1});if(f>i)return o-1;o+=1}return o},qa=function(r){for(var e=r.length;e>0;e--)if(/\s/.test(r[e]))return e},Xa=function(r,e,t,a){for(var n,i=r.length;i>0;){var o=r.substring(0,i),d=t.encodeText(o),l=t.widthOfTextAtSize(o,a);if(l<e){var s=r.substring(i)||void 0;return{line:o,encoded:d,width:l,remainder:s}}i=(n=qa(o))!==null&&n!==void 0?n:0}return{line:r,encoded:t.encodeText(r),width:t.widthOfTextAtSize(r,a),remainder:void 0}},Nr=function(r,e){var t=e.alignment,a=e.fontSize,n=e.font,i=e.bounds,o=br(Ft(r));(a===void 0||a===0)&&(a=zr(o,n,i,!0));for(var d=n.heightAtSize(a),l=d+d*.2,s=[],u=i.x,h=i.y,f=i.x+i.width,v=i.y+i.height,p=i.y+i.height,y=0,w=o.length;y<w;y++)for(var S=o[y];S!==void 0;){var x=Xa(S,i.width,n,a),O=x.line,M=x.encoded,W=x.width,I=x.remainder,E=t===Z.Left?i.x:t===Z.Center?i.x+i.width/2-W/2:t===Z.Right?i.x+i.width-W:i.x;p-=l,E<u&&(u=E),p<h&&(h=p),E+W>f&&(f=E+W),p+d>v&&(v=p+d),s.push({text:O,encoded:M,width:W,height:d,x:E,y:p}),S=I==null?void 0:I.trim()}return{fontSize:a,lineHeight:l,lines:s,bounds:{x:u,y:h,width:f-u,height:v-h}}},Ya=function(r,e){var t=e.fontSize,a=e.font,n=e.bounds,i=e.cellCount,o=mr(Ft(r));if(o.length>i)throw new Va(o.length,i);(t===void 0||t===0)&&(t=Ka(o,a,n,i));for(var d=n.width/i,l=a.heightAtSize(t,{descender:!1}),s=n.y+(n.height/2-l/2),u=[],h=n.x,f=n.y,v=n.x+n.width,p=n.y+n.height,y=0,w=0;y<i;){var S=ta(o,w),x=S[0],O=S[1],M=a.encodeText(x),W=a.widthOfTextAtSize(x,t),I=n.x+(d*y+d/2),E=I-W/2;E<h&&(h=E),s<f&&(f=s),E+W>v&&(v=E+W),s+l>p&&(p=s+l),u.push({text:o,encoded:M,width:W,height:l,x:E,y:s}),y+=1,w+=O}return{fontSize:t,cells:u,bounds:{x:h,y:f,width:v-h,height:p-f}}},yt=function(r,e){var t=e.alignment,a=e.fontSize,n=e.font,i=e.bounds,o=mr(Ft(r));(a===void 0||a===0)&&(a=zr([o],n,i));var d=n.encodeText(o),l=n.widthOfTextAtSize(o,a),s=n.heightAtSize(a,{descender:!1}),u=t===Z.Left?i.x:t===Z.Center?i.x+i.width/2-l/2:t===Z.Right?i.x+i.width-l:i.x,h=i.y+(i.height/2-s/2);return{fontSize:a,line:{text:o,encoded:d,width:l,height:s,x:u,y:h},bounds:{x:u,y:h,width:l,height:s}}},Ve=function(r){return"normal"in r?r:{normal:r}},Ja=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,Ae=function(r){var e,t,a=(e=r.getDefaultAppearance())!==null&&e!==void 0?e:"",n=(t=Fr(a,Ja).match)!==null&&t!==void 0?t:[],i=Number(n[2]);return isFinite(i)?i:void 0},Za=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,se=function(r){var e,t=(e=r.getDefaultAppearance())!==null&&e!==void 0?e:"",a=Fr(t,Za).match,n=a!=null?a:[],i=n[1],o=n[2],d=n[3],l=n[4],s=n[5];if(s==="g"&&i)return Or(Number(i));if(s==="rg"&&i&&o&&d)return _(Number(i),Number(o),Number(d));if(s==="k"&&i&&o&&d&&l)return Br(Number(i),Number(o),Number(d),Number(l))},ue=function(r,e,t,a){var n;a===void 0&&(a=0);var i=[Pe(e).toString(),Dt((n=t==null?void 0:t.name)!==null&&n!==void 0?n:"dummy__noop",a).toString()].join(`
`);r.setDefaultAppearance(i)},Qa=function(r,e){var t,a,n,i=se(e),o=se(r.acroField),d=e.getRectangle(),l=e.getAppearanceCharacteristics(),s=e.getBorderStyle(),u=(t=s==null?void 0:s.getWidth())!==null&&t!==void 0?t:0,h=me(l==null?void 0:l.getRotation()),f=Re(d,h),v=f.width,p=f.height,y=ke(T(T({},d),{rotation:h})),w=_(0,0,0),S=(a=te(l==null?void 0:l.getBorderColor()))!==null&&a!==void 0?a:w,x=te(l==null?void 0:l.getBackgroundColor()),O=te(l==null?void 0:l.getBackgroundColor(),.8),M=(n=i!=null?i:o)!==null&&n!==void 0?n:w;ue(i?e:r.acroField,M);var W={x:0+u/2,y:0+u/2,width:v-u,height:p-u,thickness:1.5,borderWidth:u,borderColor:S,markColor:M};return{normal:{on:L(y,ot(T(T({},W),{color:x,filled:!0}))),off:L(y,ot(T(T({},W),{color:x,filled:!1})))},down:{on:L(y,ot(T(T({},W),{color:O,filled:!0}))),off:L(y,ot(T(T({},W),{color:O,filled:!1})))}}},$a=function(r,e){var t,a,n,i=se(e),o=se(r.acroField),d=e.getRectangle(),l=e.getAppearanceCharacteristics(),s=e.getBorderStyle(),u=(t=s==null?void 0:s.getWidth())!==null&&t!==void 0?t:0,h=me(l==null?void 0:l.getRotation()),f=Re(d,h),v=f.width,p=f.height,y=ke(T(T({},d),{rotation:h})),w=_(0,0,0),S=(a=te(l==null?void 0:l.getBorderColor()))!==null&&a!==void 0?a:w,x=te(l==null?void 0:l.getBackgroundColor()),O=te(l==null?void 0:l.getBackgroundColor(),.8),M=(n=i!=null?i:o)!==null&&n!==void 0?n:w;ue(i?e:r.acroField,M);var W={x:v/2,y:p/2,width:v-u,height:p-u,borderWidth:u,borderColor:S,dotColor:M};return{normal:{on:L(y,dt(T(T({},W),{color:x,filled:!0}))),off:L(y,dt(T(T({},W),{color:x,filled:!1})))},down:{on:L(y,dt(T(T({},W),{color:O,filled:!0}))),off:L(y,dt(T(T({},W),{color:O,filled:!1})))}}},en=function(r,e,t){var a,n,i,o,d,l=se(e),s=se(r.acroField),u=Ae(e),h=Ae(r.acroField),f=e.getRectangle(),v=e.getAppearanceCharacteristics(),p=e.getBorderStyle(),y=v==null?void 0:v.getCaptions(),w=(a=y==null?void 0:y.normal)!==null&&a!==void 0?a:"",S=(i=(n=y==null?void 0:y.down)!==null&&n!==void 0?n:w)!==null&&i!==void 0?i:"",x=(o=p==null?void 0:p.getWidth())!==null&&o!==void 0?o:0,O=me(v==null?void 0:v.getRotation()),M=Re(f,O),W=M.width,I=M.height,E=ke(T(T({},f),{rotation:O})),j=_(0,0,0),U=te(v==null?void 0:v.getBorderColor()),J=te(v==null?void 0:v.getBackgroundColor()),re=te(v==null?void 0:v.getBackgroundColor(),.8),z={x,y:x,width:W-x*2,height:I-x*2},ee=yt(w,{alignment:Z.Center,fontSize:u!=null?u:h,font:t,bounds:z}),ce=yt(S,{alignment:Z.Center,fontSize:u!=null?u:h,font:t,bounds:z}),he=Math.min(ee.fontSize,ce.fontSize),Fe=(d=l!=null?l:s)!==null&&d!==void 0?d:j;ue(l||u!==void 0?e:r.acroField,Fe,t,he);var Ee={x:0+x/2,y:0+x/2,width:W-x,height:I-x,borderWidth:x,borderColor:U,textColor:Fe,font:t.name,fontSize:he};return{normal:L(E,cr(T(T({},Ee),{color:J,textLines:[ee.line]}))),down:L(E,cr(T(T({},Ee),{color:re,textLines:[ce.line]})))}},tn=function(r,e,t){var a,n,i,o,d=se(e),l=se(r.acroField),s=Ae(e),u=Ae(r.acroField),h=e.getRectangle(),f=e.getAppearanceCharacteristics(),v=e.getBorderStyle(),p=(a=r.getText())!==null&&a!==void 0?a:"",y=(n=v==null?void 0:v.getWidth())!==null&&n!==void 0?n:0,w=me(f==null?void 0:f.getRotation()),S=Re(h,w),x=S.width,O=S.height,M=ke(T(T({},h),{rotation:w})),W=_(0,0,0),I=te(f==null?void 0:f.getBorderColor()),E=te(f==null?void 0:f.getBackgroundColor()),j,U,J=r.isCombed()?0:1,re={x:y+J,y:y+J,width:x-(y+J)*2,height:O-(y+J)*2};if(r.isMultiline()){var z=Nr(p,{alignment:r.getAlignment(),fontSize:s!=null?s:u,font:t,bounds:re});j=z.lines,U=z.fontSize}else if(r.isCombed()){var z=Ya(p,{fontSize:s!=null?s:u,font:t,bounds:re,cellCount:(i=r.getMaxLength())!==null&&i!==void 0?i:0});j=z.cells,U=z.fontSize}else{var z=yt(p,{alignment:r.getAlignment(),fontSize:s!=null?s:u,font:t,bounds:re});j=[z.line],U=z.fontSize}var ee=(o=d!=null?d:l)!==null&&o!==void 0?o:W;ue(d||s!==void 0?e:r.acroField,ee,t,U);var ce={x:0+y/2,y:0+y/2,width:x-y,height:O-y,borderWidth:y!=null?y:0,borderColor:I,textColor:ee,font:t.name,fontSize:U,color:E,textLines:j,padding:J};return L(M,Wr(ce))},rn=function(r,e,t){var a,n,i,o=se(e),d=se(r.acroField),l=Ae(e),s=Ae(r.acroField),u=e.getRectangle(),h=e.getAppearanceCharacteristics(),f=e.getBorderStyle(),v=(a=r.getSelected()[0])!==null&&a!==void 0?a:"",p=(n=f==null?void 0:f.getWidth())!==null&&n!==void 0?n:0,y=me(h==null?void 0:h.getRotation()),w=Re(u,y),S=w.width,x=w.height,O=ke(T(T({},u),{rotation:y})),M=_(0,0,0),W=te(h==null?void 0:h.getBorderColor()),I=te(h==null?void 0:h.getBackgroundColor()),E=1,j={x:p+E,y:p+E,width:S-(p+E)*2,height:x-(p+E)*2},U=yt(v,{alignment:Z.Left,fontSize:l!=null?l:s,font:t,bounds:j}),J=U.line,re=U.fontSize,z=(i=o!=null?o:d)!==null&&i!==void 0?i:M;ue(o||l!==void 0?e:r.acroField,z,t,re);var ee={x:0+p/2,y:0+p/2,width:S-p,height:x-p,borderWidth:p!=null?p:0,borderColor:W,textColor:z,font:t.name,fontSize:re,color:I,textLines:[J],padding:E};return L(O,Wr(ee))},an=function(r,e,t){var a,n,i=se(e),o=se(r.acroField),d=Ae(e),l=Ae(r.acroField),s=e.getRectangle(),u=e.getAppearanceCharacteristics(),h=e.getBorderStyle(),f=(a=h==null?void 0:h.getWidth())!==null&&a!==void 0?a:0,v=me(u==null?void 0:u.getRotation()),p=Re(s,v),y=p.width,w=p.height,S=ke(T(T({},s),{rotation:v})),x=_(0,0,0),O=te(u==null?void 0:u.getBorderColor()),M=te(u==null?void 0:u.getBackgroundColor()),W=r.getOptions(),I=r.getSelected();r.isSorted()&&W.sort();for(var E="",j=0,U=W.length;j<U;j++)E+=W[j],j<U-1&&(E+=`
`);for(var J=1,re={x:f+J,y:f+J,width:y-(f+J)*2,height:w-(f+J)*2},z=Nr(E,{alignment:Z.Left,fontSize:d!=null?d:l,font:t,bounds:re}),ee=z.lines,ce=z.fontSize,he=z.lineHeight,Fe=[],j=0,U=ee.length;j<U;j++){var Ee=ee[j];I.includes(Ee.text)&&Fe.push(j)}var jr=_(153/255,193/255,218/255),kt=(n=i!=null?i:o)!==null&&n!==void 0?n:x;return ue(i||d!==void 0?e:r.acroField,kt,t,ce),L(S,Ma({x:0+f/2,y:0+f/2,width:y-f,height:w-f,borderWidth:f!=null?f:0,borderColor:O,textColor:kt,font:t.name,fontSize:ce,color:M,textLines:ee,lineHeight:he,selectedColor:jr,selectedLines:Fe,padding:J}))},Lr=(function(){function r(e,t,a){this.alreadyEmbedded=!1,c(e,"ref",[[oe,"PDFRef"]]),c(t,"doc",[[Be,"PDFDocument"]]),c(a,"embedder",[[hr,"PDFPageEmbedder"]]),this.ref=e,this.doc=t,this.width=a.width,this.height=a.height,this.embedder=a}return r.prototype.scale=function(e){return c(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},r.prototype.size=function(){return this.scale(1)},r.prototype.embed=function(){return G(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}})})},r.of=function(e,t,a){return new r(e,t,a)},r})(),ne=(function(){function r(e,t,a){this.modified=!0,c(e,"ref",[[oe,"PDFRef"]]),c(t,"doc",[[Be,"PDFDocument"]]),c(a,"embedder",[[fr,"CustomFontEmbedder"],[ht,"StandardFontEmbedder"]]),this.ref=e,this.doc=t,this.name=a.fontName,this.embedder=a}return r.prototype.encodeText=function(e){return c(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},r.prototype.widthOfTextAtSize=function(e,t){return c(e,"text",["string"]),c(t,"size",["number"]),this.embedder.widthOfTextAtSize(e,t)},r.prototype.heightAtSize=function(e,t){var a;return c(e,"size",["number"]),g(t==null?void 0:t.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:(a=t==null?void 0:t.descender)!==null&&a!==void 0?a:!0})},r.prototype.sizeAtHeight=function(e){return c(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},r.prototype.getCharacterSet=function(){return this.embedder instanceof ht?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},r.prototype.embed=function(){return G(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}})})},r.of=function(e,t,a){return new r(e,t,a)},r})(),Et=(function(){function r(e,t,a){c(e,"ref",[[oe,"PDFRef"]]),c(t,"doc",[[Be,"PDFDocument"]]),c(a,"embedder",[[vr,"JpegEmbedder"],[gr,"PngEmbedder"]]),this.ref=e,this.doc=t,this.width=a.width,this.height=a.height,this.embedder=a}return r.prototype.scale=function(e){return c(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},r.prototype.scaleToFit=function(e,t){c(e,"width",["number"]),c(t,"height",["number"]);var a=e/this.width,n=t/this.height,i=Math.min(a,n);return this.scale(i)},r.prototype.size=function(){return this.scale(1)},r.prototype.embed=function(){return G(this,void 0,void 0,function(){var e,t,a;return K(this,function(n){switch(n.label){case 0:return this.embedder?(this.embedTask||(e=this,t=e.doc,a=e.ref,this.embedTask=this.embedder.embedIntoContext(t.context,a)),[4,this.embedTask]):[2];case 1:return n.sent(),this.embedder=void 0,[2]}})})},r.of=function(e,t,a){return new r(e,t,a)},r})(),Se;(function(r){r[r.Left=0]="Left",r[r.Center=1]="Center",r[r.Right=2]="Right"})(Se||(Se={}));var Ue=function(r){g(r==null?void 0:r.x,"options.x",["number"]),g(r==null?void 0:r.y,"options.y",["number"]),g(r==null?void 0:r.width,"options.width",["number"]),g(r==null?void 0:r.height,"options.height",["number"]),g(r==null?void 0:r.textColor,"options.textColor",[[Object,"Color"]]),g(r==null?void 0:r.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),g(r==null?void 0:r.borderColor,"options.borderColor",[[Object,"Color"]]),g(r==null?void 0:r.borderWidth,"options.borderWidth",["number"]),g(r==null?void 0:r.rotate,"options.rotate",[[Object,"Rotation"]])},We=(function(){function r(e,t,a){c(e,"acroField",[[Hr,"PDFAcroTerminal"]]),c(t,"ref",[[oe,"PDFRef"]]),c(a,"doc",[[Be,"PDFDocument"]]),this.acroField=e,this.ref=t,this.doc=a}return r.prototype.getName=function(){var e;return(e=this.acroField.getFullyQualifiedName())!==null&&e!==void 0?e:""},r.prototype.isReadOnly=function(){return this.acroField.hasFlag(pe.ReadOnly)},r.prototype.enableReadOnly=function(){this.acroField.setFlagTo(pe.ReadOnly,!0)},r.prototype.disableReadOnly=function(){this.acroField.setFlagTo(pe.ReadOnly,!1)},r.prototype.isRequired=function(){return this.acroField.hasFlag(pe.Required)},r.prototype.enableRequired=function(){this.acroField.setFlagTo(pe.Required,!0)},r.prototype.disableRequired=function(){this.acroField.setFlagTo(pe.Required,!1)},r.prototype.isExported=function(){return!this.acroField.hasFlag(pe.NoExport)},r.prototype.enableExporting=function(){this.acroField.setFlagTo(pe.NoExport,!1)},r.prototype.disableExporting=function(){this.acroField.setFlagTo(pe.NoExport,!0)},r.prototype.needsAppearancesUpdate=function(){throw new $t(this.constructor.name,"needsAppearancesUpdate")},r.prototype.defaultUpdateAppearances=function(e){throw new $t(this.constructor.name,"defaultUpdateAppearances")},r.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},r.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},r.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},r.prototype.createWidget=function(e){var t,a=e.textColor,n=e.backgroundColor,i=e.borderColor,o=e.borderWidth,d=Ar(e.rotate),l=e.caption,s=e.x,u=e.y,h=e.width+o,f=e.height+o,v=!!e.hidden,p=e.page;Cr(d,"degreesAngle",90);var y=Ir.create(this.doc.context,this.ref),w=ha({x:s,y:u,width:h,height:f},o,d);y.setRectangle(w),p&&y.setP(p);var S=y.getOrCreateAppearanceCharacteristics();n&&S.setBackgroundColor(dr(n)),S.setRotation(d),l&&S.setCaptions({normal:l}),i&&S.setBorderColor(dr(i));var x=y.getOrCreateBorderStyle();if(o!==void 0&&x.setWidth(o),y.setFlagTo(Tt.Print,!0),y.setFlagTo(Tt.Hidden,v),y.setFlagTo(Tt.Invisible,!1),a){var O=(t=this.acroField.getDefaultAppearance())!==null&&t!==void 0?t:"",M=O+`
`+Pe(a).toString();this.acroField.setDefaultAppearance(M)}return y},r.prototype.updateWidgetAppearanceWithFont=function(e,t,a){var n=a.normal,i=a.rollover,o=a.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,n,t),rollover:i&&this.createAppearanceStream(e,i,t),down:o&&this.createAppearanceStream(e,o,t)})},r.prototype.updateOnOffWidgetAppearance=function(e,t,a){var n=a.normal,i=a.rollover,o=a.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,n,t),rollover:i&&this.createAppearanceDict(e,i,t),down:o&&this.createAppearanceDict(e,o,t)})},r.prototype.updateWidgetAppearances=function(e,t){var a=t.normal,n=t.rollover,i=t.down;e.setNormalAppearance(a),n?e.setRolloverAppearance(n):e.removeRolloverAppearance(),i?e.setDownAppearance(i):e.removeDownAppearance()},r.prototype.createAppearanceStream=function(e,t,a){var n,i=this.acroField.dict.context,o=e.getRectangle(),d=o.width,l=o.height,s=a&&{Font:(n={},n[a.name]=a.ref,n)},u=i.formXObject(t,{Resources:s,BBox:i.obj([0,0,d,l]),Matrix:i.obj([1,0,0,1,0,0])}),h=i.register(u);return h},r.prototype.createImageAppearanceStream=function(e,t,a){var n,i,o=this.acroField.dict.context,d=e.getRectangle(),l=e.getAppearanceCharacteristics(),s=e.getBorderStyle(),u=(i=s==null?void 0:s.getWidth())!==null&&i!==void 0?i:0,h=me(l==null?void 0:l.getRotation()),f=ke(T(T({},d),{rotation:h})),v=Re(d,h),p=t.scaleToFit(v.width-u*2,v.height-u*2),y={x:u,y:u,width:p.width,height:p.height,rotate:A(0),xSkew:A(0),ySkew:A(0)};a===Se.Center?(y.x+=(v.width-u*2)/2-p.width/2,y.y+=(v.height-u*2)/2-p.height/2):a===Se.Right&&(y.x=v.width-u-p.width,y.y=v.height-u-p.height);var w=this.doc.context.addRandomSuffix("Image",10),S=L(f,Rr(w,y)),x={XObject:(n={},n[w]=t.ref,n)},O=o.formXObject(S,{Resources:x,BBox:o.obj([0,0,d.width,d.height]),Matrix:o.obj([1,0,0,1,0,0])});return o.register(O)},r.prototype.createAppearanceDict=function(e,t,a){var n=this.acroField.dict.context,i=this.createAppearanceStream(e,t.on),o=this.createAppearanceStream(e,t.off),d=n.obj({});return d.set(a,i),d.set(b.of("Off"),o),d},r})(),Xe=(function(r){V(e,r);function e(t,a,n){var i=r.call(this,t,a,n)||this;return c(t,"acroCheckBox",[[zt,"PDFAcroCheckBox"]]),i.acroField=t,i}return e.prototype.check=function(){var t,a=(t=this.acroField.getOnValue())!==null&&t!==void 0?t:b.of("Yes");this.markAsDirty(),this.acroField.setValue(a)},e.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(b.of("Off"))},e.prototype.isChecked=function(){var t=this.acroField.getOnValue();return!!t&&t===this.acroField.getValue()},e.prototype.addToPage=function(t,a){var n,i,o,d,l,s;c(t,"page",[[de,"PDFPage"]]),Ue(a),a||(a={}),"textColor"in a||(a.textColor=_(0,0,0)),"backgroundColor"in a||(a.backgroundColor=_(1,1,1)),"borderColor"in a||(a.borderColor=_(0,0,0)),"borderWidth"in a||(a.borderWidth=1);var u=this.createWidget({x:(n=a.x)!==null&&n!==void 0?n:0,y:(i=a.y)!==null&&i!==void 0?i:0,width:(o=a.width)!==null&&o!==void 0?o:50,height:(d=a.height)!==null&&d!==void 0?d:50,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:(l=a.borderWidth)!==null&&l!==void 0?l:0,rotate:(s=a.rotate)!==null&&s!==void 0?s:A(0),hidden:a.hidden,page:t.ref}),h=this.doc.context.register(u.dict);this.acroField.addWidget(h),u.setAppearanceState(b.of("Off")),this.updateWidgetAppearance(u,b.of("Yes")),t.node.addAnnot(h)},e.prototype.needsAppearancesUpdate=function(){for(var t,a=this.acroField.getWidgets(),n=0,i=a.length;n<i;n++){var o=a[n],d=o.getAppearanceState(),l=(t=o.getAppearances())===null||t===void 0?void 0:t.normal;if(!(l instanceof be)||d&&!l.has(d))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(t){var a;g(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var d=n[i],l=(a=d.getOnValue())!==null&&a!==void 0?a:b.of("Yes");l&&this.updateWidgetAppearance(d,l,t)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,a,n){var i=n!=null?n:Qa,o=Ve(i(this,t));this.updateOnOffWidgetAppearance(t,a,o)},e.of=function(t,a,n){return new e(t,a,n)},e})(We),lt=(function(r){V(e,r);function e(t,a,n){var i=r.call(this,t,a,n)||this;return c(t,"acroComboBox",[[Nt,"PDFAcroComboBox"]]),i.acroField=t,i}return e.prototype.getOptions=function(){for(var t=this.acroField.getOptions(),a=new Array(t.length),n=0,i=a.length;n<i;n++){var o=t[n],d=o.display,l=o.value;a[n]=(d!=null?d:l).decodeText()}return a},e.prototype.getSelected=function(){for(var t=this.acroField.getValues(),a=new Array(t.length),n=0,i=t.length;n<i;n++)a[n]=t[n].decodeText();return a},e.prototype.setOptions=function(t){c(t,"options",[Array]);for(var a=new Array(t.length),n=0,i=t.length;n<i;n++)a[n]={value:Q.fromText(t[n])};this.acroField.setOptions(a)},e.prototype.addOptions=function(t){c(t,"options",["string",Array]);for(var a=Array.isArray(t)?t:[t],n=this.acroField.getOptions(),i=new Array(a.length),o=0,d=a.length;o<d;o++)i[o]={value:Q.fromText(a[o])};this.acroField.setOptions(n.concat(i))},e.prototype.select=function(t,a){a===void 0&&(a=!1),c(t,"options",["string",Array]),c(a,"merge",["boolean"]);var n=Array.isArray(t)?t:[t],i=this.getOptions(),o=n.find(function(h){return!i.includes(h)});o&&this.enableEditing(),this.markAsDirty(),(n.length>1||n.length===1&&a)&&this.enableMultiselect();for(var d=new Array(n.length),l=0,s=n.length;l<s;l++)d[l]=Q.fromText(n[l]);if(a){var u=this.acroField.getValues();this.acroField.setValues(u.concat(d))}else this.acroField.setValues(d)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(t){Ct(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isEditable=function(){return this.acroField.hasFlag(N.Edit)},e.prototype.enableEditing=function(){this.acroField.setFlagTo(N.Edit,!0)},e.prototype.disableEditing=function(){this.acroField.setFlagTo(N.Edit,!1)},e.prototype.isSorted=function(){return this.acroField.hasFlag(N.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(N.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(N.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(N.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(N.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(N.MultiSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(N.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(N.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(N.DoNotSpellCheck,!0)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(N.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(N.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(N.CommitOnSelChange,!1)},e.prototype.addToPage=function(t,a){var n,i,o,d,l,s,u;c(t,"page",[[de,"PDFPage"]]),Ue(a),a||(a={}),"textColor"in a||(a.textColor=_(0,0,0)),"backgroundColor"in a||(a.backgroundColor=_(1,1,1)),"borderColor"in a||(a.borderColor=_(0,0,0)),"borderWidth"in a||(a.borderWidth=1);var h=this.createWidget({x:(n=a.x)!==null&&n!==void 0?n:0,y:(i=a.y)!==null&&i!==void 0?i:0,width:(o=a.width)!==null&&o!==void 0?o:200,height:(d=a.height)!==null&&d!==void 0?d:50,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:(l=a.borderWidth)!==null&&l!==void 0?l:0,rotate:(s=a.rotate)!==null&&s!==void 0?s:A(0),hidden:a.hidden,page:t.ref}),f=this.doc.context.register(h.dict);this.acroField.addWidget(f);var v=(u=a.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(h,v),t.node.addAnnot(f)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var a=this.acroField.getWidgets(),n=0,i=a.length;n<i;n++){var o=a[n],d=((t=o.getAppearances())===null||t===void 0?void 0:t.normal)instanceof mt;if(!d)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){c(t,"font",[[ne,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,a){c(t,"font",[[ne,"PDFFont"]]),g(a,"provider",[Function]);for(var n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var d=n[i];this.updateWidgetAppearance(d,t,a)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,a,n){var i=n!=null?n:rn,o=Ve(i(this,t,a));this.updateWidgetAppearanceWithFont(t,a,o)},e.of=function(t,a,n){return new e(t,a,n)},e})(We),st=(function(r){V(e,r);function e(t,a,n){var i=r.call(this,t,a,n)||this;return c(t,"acroListBox",[[Lt,"PDFAcroListBox"]]),i.acroField=t,i}return e.prototype.getOptions=function(){for(var t=this.acroField.getOptions(),a=new Array(t.length),n=0,i=a.length;n<i;n++){var o=t[n],d=o.display,l=o.value;a[n]=(d!=null?d:l).decodeText()}return a},e.prototype.getSelected=function(){for(var t=this.acroField.getValues(),a=new Array(t.length),n=0,i=t.length;n<i;n++)a[n]=t[n].decodeText();return a},e.prototype.setOptions=function(t){c(t,"options",[Array]),this.markAsDirty();for(var a=new Array(t.length),n=0,i=t.length;n<i;n++)a[n]={value:Q.fromText(t[n])};this.acroField.setOptions(a)},e.prototype.addOptions=function(t){c(t,"options",["string",Array]),this.markAsDirty();for(var a=Array.isArray(t)?t:[t],n=this.acroField.getOptions(),i=new Array(a.length),o=0,d=a.length;o<d;o++)i[o]={value:Q.fromText(a[o])};this.acroField.setOptions(n.concat(i))},e.prototype.select=function(t,a){a===void 0&&(a=!1),c(t,"options",["string",Array]),c(a,"merge",["boolean"]);var n=Array.isArray(t)?t:[t],i=this.getOptions();aa(n,"option",i),this.markAsDirty(),(n.length>1||n.length===1&&a)&&this.enableMultiselect();for(var o=new Array(n.length),d=0,l=n.length;d<l;d++)o[d]=Q.fromText(n[d]);if(a){var s=this.acroField.getValues();this.acroField.setValues(s.concat(o))}else this.acroField.setValues(o)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(t){Ct(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isSorted=function(){return this.acroField.hasFlag(N.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(N.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(N.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(N.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(N.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(N.MultiSelect,!1)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(N.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(N.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(N.CommitOnSelChange,!1)},e.prototype.addToPage=function(t,a){var n,i,o,d,l,s,u;c(t,"page",[[de,"PDFPage"]]),Ue(a),a||(a={}),"textColor"in a||(a.textColor=_(0,0,0)),"backgroundColor"in a||(a.backgroundColor=_(1,1,1)),"borderColor"in a||(a.borderColor=_(0,0,0)),"borderWidth"in a||(a.borderWidth=1);var h=this.createWidget({x:(n=a.x)!==null&&n!==void 0?n:0,y:(i=a.y)!==null&&i!==void 0?i:0,width:(o=a.width)!==null&&o!==void 0?o:200,height:(d=a.height)!==null&&d!==void 0?d:100,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:(l=a.borderWidth)!==null&&l!==void 0?l:0,rotate:(s=a.rotate)!==null&&s!==void 0?s:A(0),hidden:a.hidden,page:t.ref}),f=this.doc.context.register(h.dict);this.acroField.addWidget(f);var v=(u=a.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(h,v),t.node.addAnnot(f)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var a=this.acroField.getWidgets(),n=0,i=a.length;n<i;n++){var o=a[n],d=((t=o.getAppearances())===null||t===void 0?void 0:t.normal)instanceof mt;if(!d)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){c(t,"font",[[ne,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,a){c(t,"font",[[ne,"PDFFont"]]),g(a,"provider",[Function]);for(var n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var d=n[i];this.updateWidgetAppearance(d,t,a)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,a,n){var i=n!=null?n:an,o=Ve(i(this,t,a));this.updateWidgetAppearanceWithFont(t,a,o)},e.of=function(t,a,n){return new e(t,a,n)},e})(We),Ye=(function(r){V(e,r);function e(t,a,n){var i=r.call(this,t,a,n)||this;return c(t,"acroRadioButton",[[jt,"PDFAcroRadioButton"]]),i.acroField=t,i}return e.prototype.getOptions=function(){var t=this.acroField.getExportValues();if(t){for(var a=new Array(t.length),n=0,i=t.length;n<i;n++)a[n]=t[n].decodeText();return a}for(var o=this.acroField.getOnValues(),d=new Array(o.length),n=0,i=d.length;n<i;n++)d[n]=o[n].decodeText();return d},e.prototype.getSelected=function(){var t=this.acroField.getValue();if(t!==b.of("Off")){var a=this.acroField.getExportValues();if(a){for(var n=this.acroField.getOnValues(),i=0,o=n.length;i<o;i++)if(n[i]===t)return a[i].decodeText()}return t.decodeText()}},e.prototype.select=function(t){c(t,"option",["string"]);var a=this.getOptions();Sr(t,"option",a),this.markAsDirty();var n=this.acroField.getOnValues(),i=this.acroField.getExportValues();if(i)for(var o=0,d=i.length;o<d;o++)i[o].decodeText()===t&&this.acroField.setValue(n[o]);else for(var o=0,d=n.length;o<d;o++){var l=n[o];l.decodeText()===t&&this.acroField.setValue(l)}},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(b.of("Off"))},e.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(Me.NoToggleToOff)},e.prototype.enableOffToggling=function(){this.acroField.setFlagTo(Me.NoToggleToOff,!1)},e.prototype.disableOffToggling=function(){this.acroField.setFlagTo(Me.NoToggleToOff,!0)},e.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(Me.RadiosInUnison)},e.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(Me.RadiosInUnison,!1)},e.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(Me.RadiosInUnison,!0)},e.prototype.addOptionToPage=function(t,a,n){var i,o,d,l,s,u,h,f,v;c(t,"option",["string"]),c(a,"page",[[de,"PDFPage"]]),Ue(n);var p=this.createWidget({x:(i=n==null?void 0:n.x)!==null&&i!==void 0?i:0,y:(o=n==null?void 0:n.y)!==null&&o!==void 0?o:0,width:(d=n==null?void 0:n.width)!==null&&d!==void 0?d:50,height:(l=n==null?void 0:n.height)!==null&&l!==void 0?l:50,textColor:(s=n==null?void 0:n.textColor)!==null&&s!==void 0?s:_(0,0,0),backgroundColor:(u=n==null?void 0:n.backgroundColor)!==null&&u!==void 0?u:_(1,1,1),borderColor:(h=n==null?void 0:n.borderColor)!==null&&h!==void 0?h:_(0,0,0),borderWidth:(f=n==null?void 0:n.borderWidth)!==null&&f!==void 0?f:1,rotate:(v=n==null?void 0:n.rotate)!==null&&v!==void 0?v:A(0),hidden:n==null?void 0:n.hidden,page:a.ref}),y=this.doc.context.register(p.dict),w=this.acroField.addWidgetWithOpt(y,Q.fromText(t),!this.isMutuallyExclusive());p.setAppearanceState(b.of("Off")),this.updateWidgetAppearance(p,w),a.node.addAnnot(y)},e.prototype.needsAppearancesUpdate=function(){for(var t,a=this.acroField.getWidgets(),n=0,i=a.length;n<i;n++){var o=a[n],d=o.getAppearanceState(),l=(t=o.getAppearances())===null||t===void 0?void 0:t.normal;if(!(l instanceof be)||d&&!l.has(d))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(t){g(t,"provider",[Function]);for(var a=this.acroField.getWidgets(),n=0,i=a.length;n<i;n++){var o=a[n],d=o.getOnValue();d&&this.updateWidgetAppearance(o,d,t)}},e.prototype.updateWidgetAppearance=function(t,a,n){var i=n!=null?n:$a,o=Ve(i(this,t));this.updateOnOffWidgetAppearance(t,a,o)},e.of=function(t,a,n){return new e(t,a,n)},e})(We),Mt=(function(r){V(e,r);function e(t,a,n){var i=r.call(this,t,a,n)||this;return c(t,"acroSignature",[[pr,"PDFAcroSignature"]]),i.acroField=t,i}return e.prototype.needsAppearancesUpdate=function(){return!1},e.of=function(t,a,n){return new e(t,a,n)},e})(We),ut=(function(r){V(e,r);function e(t,a,n){var i=r.call(this,t,a,n)||this;return c(t,"acroText",[[It,"PDFAcroText"]]),i.acroField=t,i}return e.prototype.getText=function(){var t=this.acroField.getValue();if(!t&&this.isRichFormatted())throw new Ha(this.getName());return t==null?void 0:t.decodeText()},e.prototype.setText=function(t){g(t,"text",["string"]);var a=this.getMaxLength();if(a!==void 0&&t&&t.length>a)throw new Ua(t.length,a,this.getName());this.markAsDirty(),this.disableRichFormatting(),t?this.acroField.setValue(Q.fromText(t)):this.acroField.removeValue()},e.prototype.getAlignment=function(){var t=this.acroField.getQuadding();return t===0?Z.Left:t===1?Z.Center:t===2?Z.Right:Z.Left},e.prototype.setAlignment=function(t){Sr(t,"alignment",Z),this.markAsDirty(),this.acroField.setQuadding(t)},e.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},e.prototype.setMaxLength=function(t){if(fe(t,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),t===void 0)this.acroField.removeMaxLength();else{var a=this.getText();if(a&&a.length>t)throw new Ga(a.length,t,this.getName());this.acroField.setMaxLength(t)}},e.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},e.prototype.setImage=function(t){for(var a=this.getAlignment(),n=a===Z.Center?Se.Center:a===Z.Right?Se.Right:Se.Left,i=this.acroField.getWidgets(),o=0,d=i.length;o<d;o++){var l=i[o],s=this.createImageAppearanceStream(l,t,n);this.updateWidgetAppearances(l,{normal:s})}this.markAsClean()},e.prototype.setFontSize=function(t){Ct(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isMultiline=function(){return this.acroField.hasFlag(H.Multiline)},e.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(H.Multiline,!0)},e.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(H.Multiline,!1)},e.prototype.isPassword=function(){return this.acroField.hasFlag(H.Password)},e.prototype.enablePassword=function(){this.acroField.setFlagTo(H.Password,!0)},e.prototype.disablePassword=function(){this.acroField.setFlagTo(H.Password,!1)},e.prototype.isFileSelector=function(){return this.acroField.hasFlag(H.FileSelect)},e.prototype.enableFileSelection=function(){this.acroField.setFlagTo(H.FileSelect,!0)},e.prototype.disableFileSelection=function(){this.acroField.setFlagTo(H.FileSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(H.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(H.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(H.DoNotSpellCheck,!0)},e.prototype.isScrollable=function(){return!this.acroField.hasFlag(H.DoNotScroll)},e.prototype.enableScrolling=function(){this.acroField.setFlagTo(H.DoNotScroll,!1)},e.prototype.disableScrolling=function(){this.acroField.setFlagTo(H.DoNotScroll,!0)},e.prototype.isCombed=function(){return this.acroField.hasFlag(H.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},e.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var t="PDFTextFields must have a max length in order to be combed";console.warn(t)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(H.Comb,!0)},e.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(H.Comb,!1)},e.prototype.isRichFormatted=function(){return this.acroField.hasFlag(H.RichText)},e.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(H.RichText,!0)},e.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(H.RichText,!1)},e.prototype.addToPage=function(t,a){var n,i,o,d,l,s,u;c(t,"page",[[de,"PDFPage"]]),Ue(a),a||(a={}),"textColor"in a||(a.textColor=_(0,0,0)),"backgroundColor"in a||(a.backgroundColor=_(1,1,1)),"borderColor"in a||(a.borderColor=_(0,0,0)),"borderWidth"in a||(a.borderWidth=1);var h=this.createWidget({x:(n=a.x)!==null&&n!==void 0?n:0,y:(i=a.y)!==null&&i!==void 0?i:0,width:(o=a.width)!==null&&o!==void 0?o:200,height:(d=a.height)!==null&&d!==void 0?d:50,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:(l=a.borderWidth)!==null&&l!==void 0?l:0,rotate:(s=a.rotate)!==null&&s!==void 0?s:A(0),hidden:a.hidden,page:t.ref}),f=this.doc.context.register(h.dict);this.acroField.addWidget(f);var v=(u=a.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(h,v),t.node.addAnnot(f)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var a=this.acroField.getWidgets(),n=0,i=a.length;n<i;n++){var o=a[n],d=((t=o.getAppearances())===null||t===void 0?void 0:t.normal)instanceof mt;if(!d)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){c(t,"font",[[ne,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,a){c(t,"font",[[ne,"PDFFont"]]),g(a,"provider",[Function]);for(var n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var d=n[i];this.updateWidgetAppearance(d,t,a)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,a,n){var i=n!=null?n:tn,o=Ve(i(this,t,a));this.updateWidgetAppearanceWithFont(t,a,o)},e.of=function(t,a,n){return new e(t,a,n)},e})(We),bt;(function(r){r.Courier="Courier",r.CourierBold="Courier-Bold",r.CourierOblique="Courier-Oblique",r.CourierBoldOblique="Courier-BoldOblique",r.Helvetica="Helvetica",r.HelveticaBold="Helvetica-Bold",r.HelveticaOblique="Helvetica-Oblique",r.HelveticaBoldOblique="Helvetica-BoldOblique",r.TimesRoman="Times-Roman",r.TimesRomanBold="Times-Bold",r.TimesRomanItalic="Times-Italic",r.TimesRomanBoldItalic="Times-BoldItalic",r.Symbol="Symbol",r.ZapfDingbats="ZapfDingbats"})(bt||(bt={}));var nn=(function(){function r(e,t){var a=this;this.embedDefaultFont=function(){return a.doc.embedStandardFont(bt.Helvetica)},c(e,"acroForm",[[tr,"PDFAcroForm"]]),c(t,"doc",[[Be,"PDFDocument"]]),this.acroForm=e,this.doc=t,this.dirtyFields=new Set,this.defaultFontCache=Rt.populatedBy(this.embedDefaultFont)}return r.prototype.hasXFA=function(){return this.acroForm.dict.has(b.of("XFA"))},r.prototype.deleteXFA=function(){this.acroForm.dict.delete(b.of("XFA"))},r.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),t=[],a=0,n=e.length;a<n;a++){var i=e[a],o=i[0],d=i[1],l=on(o,d,this.doc);l&&t.push(l)}return t},r.prototype.getFieldMaybe=function(e){c(e,"name",["string"]);for(var t=this.getFields(),a=0,n=t.length;a<n;a++){var i=t[a];if(i.getName()===e)return i}},r.prototype.getField=function(e){c(e,"name",["string"]);var t=this.getFieldMaybe(e);if(t)return t;throw new ja(e)},r.prototype.getButton=function(e){c(e,"name",["string"]);var t=this.getField(e);if(t instanceof ct)return t;throw new Te(e,ct,t)},r.prototype.getCheckBox=function(e){c(e,"name",["string"]);var t=this.getField(e);if(t instanceof Xe)return t;throw new Te(e,Xe,t)},r.prototype.getDropdown=function(e){c(e,"name",["string"]);var t=this.getField(e);if(t instanceof lt)return t;throw new Te(e,lt,t)},r.prototype.getOptionList=function(e){c(e,"name",["string"]);var t=this.getField(e);if(t instanceof st)return t;throw new Te(e,st,t)},r.prototype.getRadioGroup=function(e){c(e,"name",["string"]);var t=this.getField(e);if(t instanceof Ye)return t;throw new Te(e,Ye,t)},r.prototype.getSignature=function(e){c(e,"name",["string"]);var t=this.getField(e);if(t instanceof Mt)return t;throw new Te(e,Mt,t)},r.prototype.getTextField=function(e){c(e,"name",["string"]);var t=this.getField(e);if(t instanceof ut)return t;throw new Te(e,ut,t)},r.prototype.createButton=function(e){c(e,"name",["string"]);var t=_e(e),a=this.findOrCreateNonTerminals(t.nonTerminal),n=Ht.create(this.doc.context);return n.setPartialName(t.terminal),ze(a,[n,n.ref],t.terminal),ct.of(n,n.ref,this.doc)},r.prototype.createCheckBox=function(e){c(e,"name",["string"]);var t=_e(e),a=this.findOrCreateNonTerminals(t.nonTerminal),n=zt.create(this.doc.context);return n.setPartialName(t.terminal),ze(a,[n,n.ref],t.terminal),Xe.of(n,n.ref,this.doc)},r.prototype.createDropdown=function(e){c(e,"name",["string"]);var t=_e(e),a=this.findOrCreateNonTerminals(t.nonTerminal),n=Nt.create(this.doc.context);return n.setPartialName(t.terminal),ze(a,[n,n.ref],t.terminal),lt.of(n,n.ref,this.doc)},r.prototype.createOptionList=function(e){c(e,"name",["string"]);var t=_e(e),a=this.findOrCreateNonTerminals(t.nonTerminal),n=Lt.create(this.doc.context);return n.setPartialName(t.terminal),ze(a,[n,n.ref],t.terminal),st.of(n,n.ref,this.doc)},r.prototype.createRadioGroup=function(e){c(e,"name",["string"]);var t=_e(e),a=this.findOrCreateNonTerminals(t.nonTerminal),n=jt.create(this.doc.context);return n.setPartialName(t.terminal),ze(a,[n,n.ref],t.terminal),Ye.of(n,n.ref,this.doc)},r.prototype.createTextField=function(e){c(e,"name",["string"]);var t=_e(e),a=this.findOrCreateNonTerminals(t.nonTerminal),n=It.create(this.doc.context);return n.setPartialName(t.terminal),ze(a,[n,n.ref],t.terminal),ut.of(n,n.ref,this.doc)},r.prototype.flatten=function(e){e===void 0&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var t=this.getFields(),a=0,n=t.length;a<n;a++){for(var i=t[a],o=i.acroField.getWidgets(),d=0,l=o.length;d<l;d++){var s=o[d],u=this.findWidgetPage(s),h=this.findWidgetAppearanceRef(i,s),f=u.node.newXObject("FlatWidget",h),v=s.getRectangle(),p=L([X(),le(v.x,v.y)],ke(T(T({},v),{rotation:0})),[Xt(f),Y()]).filter(Boolean);u.pushOperators.apply(u,p)}this.removeField(i)}},r.prototype.removeField=function(e){for(var t=e.acroField.getWidgets(),a=new Set,n=0,i=t.length;n<i;n++){var o=t[n],d=this.findWidgetAppearanceRef(e,o),l=this.findWidgetPage(o);a.add(l),l.node.removeAnnot(d)}a.forEach(function(v){return v.node.removeAnnot(e.ref)}),this.acroForm.removeField(e.acroField);for(var s=e.acroField.normalizedEntries().Kids,u=s.size(),h=0;h<u;h++){var f=s.get(h);f instanceof oe&&this.doc.context.delete(f)}this.doc.context.delete(e.ref)},r.prototype.updateFieldAppearances=function(e){g(e,"font",[[ne,"PDFFont"]]),e=e!=null?e:this.getDefaultFont();for(var t=this.getFields(),a=0,n=t.length;a<n;a++){var i=t[a];i.needsAppearancesUpdate()&&i.defaultUpdateAppearances(e)}},r.prototype.markFieldAsDirty=function(e){g(e,"fieldRef",[[oe,"PDFRef"]]),this.dirtyFields.add(e)},r.prototype.markFieldAsClean=function(e){g(e,"fieldRef",[[oe,"PDFRef"]]),this.dirtyFields.delete(e)},r.prototype.fieldIsDirty=function(e){return g(e,"fieldRef",[[oe,"PDFRef"]]),this.dirtyFields.has(e)},r.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},r.prototype.findWidgetPage=function(e){var t=e.P(),a=this.doc.getPages().find(function(i){return i.ref===t});if(a===void 0){var n=this.doc.context.getObjectRef(e.dict);if(n===void 0)throw new Error("Could not find PDFRef for PDFObject");if(a=this.doc.findPageForAnnotationRef(n),a===void 0)throw new Error("Could not find page for PDFRef "+n)}return a},r.prototype.findWidgetAppearanceRef=function(e,t){var a,n=t.getNormalAppearance();if(n instanceof be&&(e instanceof Xe||e instanceof Ye)){var i=e.acroField.getValue(),o=(a=n.get(i))!==null&&a!==void 0?a:n.get(b.of("Off"));o instanceof oe&&(n=o)}if(!(n instanceof oe)){var d=e.getName();throw new Error("Failed to extract appearance ref for: "+d)}return n},r.prototype.findOrCreateNonTerminals=function(e){for(var t=[this.acroForm],a=0,n=e.length;a<n;a++){var i=e[a];if(!i)throw new Ia(i);var o=t[0],d=t[1],l=this.findNonTerminal(i,o);if(l)t=l;else{var s=er.create(this.doc.context);s.setPartialName(i),s.setParent(d);var u=this.doc.context.register(s.dict);o.addField(u),t=[s,u]}}return t},r.prototype.findNonTerminal=function(e,t){for(var a=t instanceof tr?this.acroForm.getFields():yr(t.Kids()),n=0,i=a.length;n<i;n++){var o=a[n],d=o[0],l=o[1];if(d.getPartialName()===e){if(d instanceof er)return[d,l];throw new Er(e)}}},r.of=function(e,t){return new r(e,t)},r})(),on=function(r,e,t){if(r instanceof Ht)return ct.of(r,e,t);if(r instanceof zt)return Xe.of(r,e,t);if(r instanceof Nt)return lt.of(r,e,t);if(r instanceof Lt)return st.of(r,e,t);if(r instanceof It)return ut.of(r,e,t);if(r instanceof jt)return Ye.of(r,e,t);if(r instanceof pr)return Mt.of(r,e,t)},_e=function(r){if(r.length===0)throw new Error("PDF field names must not be empty strings");for(var e=r.split("."),t=0,a=e.length;t<a;t++)if(e[t]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+r+'"');return e.length===1?{nonTerminal:[],terminal:e[0]}:{nonTerminal:e.slice(0,e.length-1),terminal:e[e.length-1]}},ze=function(r,e,t){for(var a=r[0],n=r[1],i=e[0],o=e[1],d=a.normalizedEntries(),l=yr("Kids"in d?d.Kids:d.Fields),s=0,u=l.length;s<u;s++)if(l[s][0].getPartialName()===t)throw new Er(t);a.addField(o),i.setParent(n)},dn={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]},_t;(function(r){r[r.Fastest=1/0]="Fastest",r[r.Fast=1500]="Fast",r[r.Medium=500]="Medium",r[r.Slow=100]="Slow"})(_t||(_t={}));var ln=(function(){function r(e,t,a){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=a}return r.prototype.embed=function(){return G(this,void 0,void 0,function(){var e,t,a,n,i;return K(this,function(o){switch(o.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=o.sent(),this.doc.catalog.has(b.of("Names"))||this.doc.catalog.set(b.of("Names"),this.doc.context.obj({})),t=this.doc.catalog.lookup(b.of("Names"),be),t.has(b.of("EmbeddedFiles"))||t.set(b.of("EmbeddedFiles"),this.doc.context.obj({})),a=t.lookup(b.of("EmbeddedFiles"),be),a.has(b.of("Names"))||a.set(b.of("Names"),this.doc.context.obj([])),n=a.lookup(b.of("Names"),Le),n.push(Q.fromText(this.embedder.fileName)),n.push(e),this.doc.catalog.has(b.of("AF"))||this.doc.catalog.set(b.of("AF"),this.doc.context.obj([])),i=this.doc.catalog.lookup(b.of("AF"),Le),i.push(e),this.alreadyEmbedded=!0,o.label=2;case 2:return[2]}})})},r.of=function(e,t,a){return new r(e,t,a)},r})(),sn=(function(){function r(e,t,a){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=a}return r.prototype.embed=function(){return G(this,void 0,void 0,function(){var e,t,a,n,i,o,d;return K(this,function(l){switch(l.label){case 0:return this.alreadyEmbedded?[3,2]:(e=this.doc,t=e.catalog,a=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:n=l.sent(),t.has(b.of("Names"))||t.set(b.of("Names"),a.obj({})),i=t.lookup(b.of("Names"),be),i.has(b.of("JavaScript"))||i.set(b.of("JavaScript"),a.obj({})),o=i.lookup(b.of("JavaScript"),be),o.has(b.of("Names"))||o.set(b.of("Names"),a.obj([])),d=o.lookup(b.of("Names"),Le),d.push(Q.fromText(this.embedder.scriptName)),d.push(n),this.alreadyEmbedded=!0,l.label=2;case 2:return[2]}})})},r.of=function(e,t,a){return new r(e,t,a)},r})(),Be=(function(){function r(e,t,a){var n=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var i=[];return n.catalog.Pages().traverse(function(o,d){if(o instanceof Bt){var l=n.pageMap.get(o);l||(l=de.of(o,d,n),n.pageMap.set(o,l)),i.push(l)}}),i},this.getOrCreateForm=function(){var i=n.catalog.getOrCreateAcroForm();return nn.of(i,n)},c(e,"context",[[rr,"PDFContext"]]),c(t,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=Rt.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Rt.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!t&&this.isEncrypted)throw new _a;a&&this.updateInfoDict()}return r.load=function(e,t){return t===void 0&&(t={}),G(this,void 0,void 0,function(){var a,n,i,o,d,l,s,u,h,f,v,p;return K(this,function(y){switch(y.label){case 0:return a=t.ignoreEncryption,n=a===void 0?!1:a,i=t.parseSpeed,o=i===void 0?_t.Slow:i,d=t.throwOnInvalidObject,l=d===void 0?!1:d,s=t.updateMetadata,u=s===void 0?!0:s,h=t.capNumbers,f=h===void 0?!1:h,c(e,"pdf",["string",Uint8Array,ArrayBuffer]),c(n,"ignoreEncryption",["boolean"]),c(o,"parseSpeed",["number"]),c(l,"throwOnInvalidObject",["boolean"]),v=Ge(e),[4,Gr.forBytesWithOptions(v,o,l,f).parseDocument()];case 1:return p=y.sent(),[2,new r(p,n,u)]}})})},r.create=function(e){return e===void 0&&(e={}),G(this,void 0,void 0,function(){var t,a,n,i,o,d;return K(this,function(l){return t=e.updateMetadata,a=t===void 0?!0:t,n=rr.create(),i=Kr.withContext(n),o=n.register(i),d=qr.withContextAndPages(n,o),n.trailerInfo.Root=n.register(d),[2,new r(n,!1,a)]})})},r.prototype.registerFontkit=function(e){this.fontkit=e},r.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},r.prototype.getTitle=function(){var e=this.getInfoDict().lookup(b.Title);if(e)return Ce(e),e.decodeText()},r.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(b.Author);if(e)return Ce(e),e.decodeText()},r.prototype.getSubject=function(){var e=this.getInfoDict().lookup(b.Subject);if(e)return Ce(e),e.decodeText()},r.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(b.Keywords);if(e)return Ce(e),e.decodeText()},r.prototype.getCreator=function(){var e=this.getInfoDict().lookup(b.Creator);if(e)return Ce(e),e.decodeText()},r.prototype.getProducer=function(){var e=this.getInfoDict().lookup(b.Producer);if(e)return Ce(e),e.decodeText()},r.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(b.CreationDate);if(e)return Ce(e),e.decodeDate()},r.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(b.ModDate);if(e)return Ce(e),e.decodeDate()},r.prototype.setTitle=function(e,t){c(e,"title",["string"]);var a=b.of("Title");if(this.getInfoDict().set(a,Q.fromText(e)),t!=null&&t.showInWindowTitleBar){var n=this.catalog.getOrCreateViewerPreferences();n.setDisplayDocTitle(!0)}},r.prototype.setAuthor=function(e){c(e,"author",["string"]);var t=b.of("Author");this.getInfoDict().set(t,Q.fromText(e))},r.prototype.setSubject=function(e){c(e,"author",["string"]);var t=b.of("Subject");this.getInfoDict().set(t,Q.fromText(e))},r.prototype.setKeywords=function(e){c(e,"keywords",[Array]);var t=b.of("Keywords");this.getInfoDict().set(t,Q.fromText(e.join(" ")))},r.prototype.setCreator=function(e){c(e,"creator",["string"]);var t=b.of("Creator");this.getInfoDict().set(t,Q.fromText(e))},r.prototype.setProducer=function(e){c(e,"creator",["string"]);var t=b.of("Producer");this.getInfoDict().set(t,Q.fromText(e))},r.prototype.setLanguage=function(e){c(e,"language",["string"]);var t=b.of("Lang");this.catalog.set(t,Je.of(e))},r.prototype.setCreationDate=function(e){c(e,"creationDate",[[Date,"Date"]]);var t=b.of("CreationDate");this.getInfoDict().set(t,Je.fromDate(e))},r.prototype.setModificationDate=function(e){c(e,"modificationDate",[[Date,"Date"]]);var t=b.of("ModDate");this.getInfoDict().set(t,Je.fromDate(e))},r.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},r.prototype.getPages=function(){return this.pageCache.access()},r.prototype.getPage=function(e){var t=this.getPages();return ve(e,"index",0,t.length-1),t[e]},r.prototype.getPageIndices=function(){return na(0,this.getPageCount())},r.prototype.removePage=function(e){var t=this.getPageCount();if(this.pageCount===0)throw new La;ve(e,"index",0,t-1),this.catalog.removeLeafNode(e),this.pageCount=t-1},r.prototype.addPage=function(e){return c(e,"page",["undefined",[de,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},r.prototype.insertPage=function(e,t){var a=this.getPageCount();if(ve(e,"index",0,a),c(t,"page",["undefined",[de,"PDFPage"],Array]),!t||Array.isArray(t)){var n=Array.isArray(t)?t:dn.A4;t=de.create(this),t.setSize.apply(t,n)}else if(t.doc!==this)throw new Na;var i=this.catalog.insertLeafNode(t.ref,e);return t.node.setParent(i),this.pageMap.set(t.node,t),this.pageCache.invalidate(),this.pageCount=a+1,t},r.prototype.copyPages=function(e,t){return G(this,void 0,void 0,function(){var a,n,i,o,d,l,s,u;return K(this,function(h){switch(h.label){case 0:return c(e,"srcDoc",[[r,"PDFDocument"]]),c(t,"indices",[Array]),[4,e.flush()];case 1:for(h.sent(),a=ar.for(e.context,this.context),n=e.getPages(),i=new Array(t.length),o=0,d=t.length;o<d;o++)l=n[t[o]],s=a.copy(l.node),u=this.context.register(s),i[o]=de.of(s,u,this);return[2,i]}})})},r.prototype.copy=function(){return G(this,void 0,void 0,function(){var e,t,a,n;return K(this,function(i){switch(i.label){case 0:return[4,r.create()];case 1:return e=i.sent(),[4,e.copyPages(this,this.getPageIndices())];case 2:for(t=i.sent(),a=0,n=t.length;a<n;a++)e.addPage(t[a]);return this.getAuthor()!==void 0&&e.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&e.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&e.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&e.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&e.setProducer(this.getProducer()),this.getSubject()!==void 0&&e.setSubject(this.getSubject()),this.getTitle()!==void 0&&e.setTitle(this.getTitle()),e.defaultWordBreaks=this.defaultWordBreaks,[2,e]}})})},r.prototype.addJavaScript=function(e,t){c(e,"name",["string"]),c(t,"script",["string"]);var a=Vr.for(t,e),n=this.context.nextRef(),i=sn.of(n,this,a);this.javaScripts.push(i)},r.prototype.attach=function(e,t,a){return a===void 0&&(a={}),G(this,void 0,void 0,function(){var n,i,o,d;return K(this,function(l){return c(e,"attachment",["string",Uint8Array,ArrayBuffer]),c(t,"name",["string"]),g(a.mimeType,"mimeType",["string"]),g(a.description,"description",["string"]),g(a.creationDate,"options.creationDate",[Date]),g(a.modificationDate,"options.modificationDate",[Date]),ie(a.afRelationship,"options.afRelationship",Xr),n=Ge(e),i=Yr.for(n,t,a),o=this.context.nextRef(),d=ln.of(o,this,i),this.embeddedFiles.push(d),[2]})})},r.prototype.embedFont=function(e,t){return t===void 0&&(t={}),G(this,void 0,void 0,function(){var a,n,i,o,d,l,s,u,h,f;return K(this,function(v){switch(v.label){case 0:return a=t.subset,n=a===void 0?!1:a,i=t.customName,o=t.features,c(e,"font",["string",Uint8Array,ArrayBuffer]),c(n,"subset",["boolean"]),nr(e)?(d=ht.for(e,i),[3,7]):[3,1];case 1:return ia(e)?(l=Ge(e),s=this.assertFontkit(),n?[4,Jr.for(s,l,i,o)]:[3,3]):[3,6];case 2:return u=v.sent(),[3,5];case 3:return[4,fr.for(s,l,i,o)];case 4:u=v.sent(),v.label=5;case 5:return d=u,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return h=this.context.nextRef(),f=ne.of(h,this,d),this.fonts.push(f),[2,f]}})})},r.prototype.embedStandardFont=function(e,t){if(c(e,"font",["string"]),!nr(e))throw new TypeError("`font` must be one of type `StandardFonts`");var a=ht.for(e,t),n=this.context.nextRef(),i=ne.of(n,this,a);return this.fonts.push(i),i},r.prototype.embedJpg=function(e){return G(this,void 0,void 0,function(){var t,a,n,i;return K(this,function(o){switch(o.label){case 0:return c(e,"jpg",["string",Uint8Array,ArrayBuffer]),t=Ge(e),[4,vr.for(t)];case 1:return a=o.sent(),n=this.context.nextRef(),i=Et.of(n,this,a),this.images.push(i),[2,i]}})})},r.prototype.embedPng=function(e){return G(this,void 0,void 0,function(){var t,a,n,i;return K(this,function(o){switch(o.label){case 0:return c(e,"png",["string",Uint8Array,ArrayBuffer]),t=Ge(e),[4,gr.for(t)];case 1:return a=o.sent(),n=this.context.nextRef(),i=Et.of(n,this,a),this.images.push(i),[2,i]}})})},r.prototype.embedPdf=function(e,t){return t===void 0&&(t=[0]),G(this,void 0,void 0,function(){var a,n,i;return K(this,function(o){switch(o.label){case 0:return c(e,"pdf",["string",Uint8Array,ArrayBuffer,[r,"PDFDocument"]]),c(t,"indices",[Array]),e instanceof r?(n=e,[3,3]):[3,1];case 1:return[4,r.load(e)];case 2:n=o.sent(),o.label=3;case 3:return a=n,i=oa(a.getPages(),t),[2,this.embedPages(i)]}})})},r.prototype.embedPage=function(e,t,a){return G(this,void 0,void 0,function(){var n;return K(this,function(i){switch(i.label){case 0:return c(e,"page",[[de,"PDFPage"]]),[4,this.embedPages([e],[t],[a])];case 1:return n=i.sent()[0],[2,n]}})})},r.prototype.embedPages=function(e,t,a){return t===void 0&&(t=[]),a===void 0&&(a=[]),G(this,void 0,void 0,function(){var s,u,n,i,o,d,l,s,u,h,f,v,p,y,w;return K(this,function(S){switch(S.label){case 0:if(e.length===0)return[2,[]];for(s=0,u=e.length-1;s<u;s++)if(n=e[s],i=e[s+1],n.node.context!==i.node.context)throw new Zr;o=e[0].node.context,d=o===this.context?function(x){return x}:ar.for(o,this.context).copy,l=new Array(e.length),s=0,u=e.length,S.label=1;case 1:return s<u?(h=d(e[s].node),f=t[s],v=a[s],[4,hr.for(h,f,v)]):[3,4];case 2:p=S.sent(),y=this.context.nextRef(),l[s]=Lr.of(y,this,p),S.label=3;case 3:return s++,[3,1];case 4:return(w=this.embeddedPages).push.apply(w,l),[2,l]}})})},r.prototype.flush=function(){return G(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}})})},r.prototype.save=function(e){return e===void 0&&(e={}),G(this,void 0,void 0,function(){var t,a,n,i,o,d,l,s,u,h;return K(this,function(f){switch(f.label){case 0:return t=e.useObjectStreams,a=t===void 0?!0:t,n=e.addDefaultPage,i=n===void 0?!0:n,o=e.objectsPerTick,d=o===void 0?50:o,l=e.updateFieldAppearances,s=l===void 0?!0:l,c(a,"useObjectStreams",["boolean"]),c(i,"addDefaultPage",["boolean"]),c(d,"objectsPerTick",["number"]),c(s,"updateFieldAppearances",["boolean"]),i&&this.getPageCount()===0&&this.addPage(),s&&(u=this.formCache.getValue(),u&&u.updateFieldAppearances()),[4,this.flush()];case 1:return f.sent(),h=a?Qr:$r,[2,h.forContext(this.context,d).serializeToBuffer()]}})})},r.prototype.saveAsBase64=function(e){return e===void 0&&(e={}),G(this,void 0,void 0,function(){var t,a,n,i,o;return K(this,function(d){switch(d.label){case 0:return t=e.dataUri,a=t===void 0?!1:t,n=la(e,["dataUri"]),c(a,"dataUri",["boolean"]),[4,this.save(n)];case 1:return i=d.sent(),o=da(i),[2,a?"data:application/pdf;base64,"+o:o]}})})},r.prototype.findPageForAnnotationRef=function(e){for(var t=this.getPages(),a=0,n=t.length;a<n;a++){var i=t[a],o=i.node.Annots();if((o==null?void 0:o.indexOf(e))!==void 0)return i}},r.prototype.embedAll=function(e){return G(this,void 0,void 0,function(){var t,a;return K(this,function(n){switch(n.label){case 0:t=0,a=e.length,n.label=1;case 1:return t<a?[4,e[t].embed()]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},r.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",t=new Date,a=this.getInfoDict();this.setProducer(e),this.setModificationDate(t),a.get(b.of("Creator"))||this.setCreator(e),a.get(b.of("CreationDate"))||this.setCreationDate(t)},r.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof be)return e;var t=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(t),t},r.prototype.assertFontkit=function(){if(!this.fontkit)throw new za;return this.fontkit},r})();function Ce(r){if(!(r instanceof Q)&&!(r instanceof Je))throw new Ur([Q,Je],r)}var ye;(function(r){r.Normal="Normal",r.Multiply="Multiply",r.Screen="Screen",r.Overlay="Overlay",r.Darken="Darken",r.Lighten="Lighten",r.ColorDodge="ColorDodge",r.ColorBurn="ColorBurn",r.HardLight="HardLight",r.SoftLight="SoftLight",r.Difference="Difference",r.Exclusion="Exclusion"})(ye||(ye={}));var de=(function(){function r(e,t,a){this.fontSize=24,this.fontColor=_(0,0,0),this.lineHeight=24,this.x=0,this.y=0,c(e,"leafNode",[[Bt,"PDFPageLeaf"]]),c(t,"ref",[[oe,"PDFRef"]]),c(a,"doc",[[Be,"PDFDocument"]]),this.node=e,this.ref=t,this.doc=a}return r.prototype.setRotation=function(e){var t=Ar(e);Cr(t,"degreesAngle",90),this.node.set(b.of("Rotate"),this.doc.context.obj(t))},r.prototype.getRotation=function(){var e=this.node.Rotate();return A(e?e.asNumber():0)},r.prototype.setSize=function(e,t){c(e,"width",["number"]),c(t,"height",["number"]);var a=this.getMediaBox();this.setMediaBox(a.x,a.y,e,t);var n=this.getCropBox(),i=this.getBleedBox(),o=this.getTrimBox(),d=this.getArtBox(),l=this.node.CropBox(),s=this.node.BleedBox(),u=this.node.TrimBox(),h=this.node.ArtBox();l&&at(n,a)&&this.setCropBox(a.x,a.y,e,t),s&&at(i,a)&&this.setBleedBox(a.x,a.y,e,t),u&&at(o,a)&&this.setTrimBox(a.x,a.y,e,t),h&&at(d,a)&&this.setArtBox(a.x,a.y,e,t)},r.prototype.setWidth=function(e){c(e,"width",["number"]),this.setSize(e,this.getSize().height)},r.prototype.setHeight=function(e){c(e,"height",["number"]),this.setSize(this.getSize().width,e)},r.prototype.setMediaBox=function(e,t,a,n){c(e,"x",["number"]),c(t,"y",["number"]),c(a,"width",["number"]),c(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+a,t+n]);this.node.set(b.MediaBox,i)},r.prototype.setCropBox=function(e,t,a,n){c(e,"x",["number"]),c(t,"y",["number"]),c(a,"width",["number"]),c(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+a,t+n]);this.node.set(b.CropBox,i)},r.prototype.setBleedBox=function(e,t,a,n){c(e,"x",["number"]),c(t,"y",["number"]),c(a,"width",["number"]),c(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+a,t+n]);this.node.set(b.BleedBox,i)},r.prototype.setTrimBox=function(e,t,a,n){c(e,"x",["number"]),c(t,"y",["number"]),c(a,"width",["number"]),c(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+a,t+n]);this.node.set(b.TrimBox,i)},r.prototype.setArtBox=function(e,t,a,n){c(e,"x",["number"]),c(t,"y",["number"]),c(a,"width",["number"]),c(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+a,t+n]);this.node.set(b.ArtBox,i)},r.prototype.getSize=function(){var e=this.getMediaBox(),t=e.width,a=e.height;return{width:t,height:a}},r.prototype.getWidth=function(){return this.getSize().width},r.prototype.getHeight=function(){return this.getSize().height},r.prototype.getMediaBox=function(){var e=this.node.MediaBox();return e.asRectangle()},r.prototype.getCropBox=function(){var e,t=this.node.CropBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getMediaBox()},r.prototype.getBleedBox=function(){var e,t=this.node.BleedBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},r.prototype.getTrimBox=function(){var e,t=this.node.TrimBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},r.prototype.getArtBox=function(){var e,t=this.node.ArtBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},r.prototype.translateContent=function(e,t){c(e,"x",["number"]),c(t,"y",["number"]),this.node.normalize(),this.getContentStream();var a=this.createContentStream(X(),le(e,t)),n=this.doc.context.register(a),i=this.createContentStream(Y()),o=this.doc.context.register(i);this.node.wrapContentStreams(n,o)},r.prototype.scale=function(e,t){c(e,"x",["number"]),c(t,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*t),this.scaleContent(e,t),this.scaleAnnotations(e,t)},r.prototype.scaleContent=function(e,t){c(e,"x",["number"]),c(t,"y",["number"]),this.node.normalize(),this.getContentStream();var a=this.createContentStream(X(),Ze(e,t)),n=this.doc.context.register(a),i=this.createContentStream(Y()),o=this.doc.context.register(i);this.node.wrapContentStreams(n,o)},r.prototype.scaleAnnotations=function(e,t){c(e,"x",["number"]),c(t,"y",["number"]);var a=this.node.Annots();if(a)for(var n=0;n<a.size();n++){var i=a.lookup(n);i instanceof be&&this.scaleAnnot(i,e,t)}},r.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},r.prototype.setFont=function(e){c(e,"font",[[ne,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},r.prototype.setFontSize=function(e){c(e,"fontSize",["number"]),this.fontSize=e},r.prototype.setFontColor=function(e){c(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},r.prototype.setLineHeight=function(e){c(e,"lineHeight",["number"]),this.lineHeight=e},r.prototype.getPosition=function(){return{x:this.x,y:this.y}},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.moveTo=function(e,t){c(e,"x",["number"]),c(t,"y",["number"]),this.x=e,this.y=t},r.prototype.moveDown=function(e){c(e,"yDecrease",["number"]),this.y-=e},r.prototype.moveUp=function(e){c(e,"yIncrease",["number"]),this.y+=e},r.prototype.moveLeft=function(e){c(e,"xDecrease",["number"]),this.x-=e},r.prototype.moveRight=function(e){c(e,"xIncrease",["number"]),this.x+=e},r.prototype.pushOperators=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];sa(e,"operator",[[P,"PDFOperator"]]);var a=this.getContentStream();a.push.apply(a,e)},r.prototype.drawText=function(e,t){var a,n,i,o,d,l,s;t===void 0&&(t={}),c(e,"text",["string"]),g(t.color,"options.color",[[Object,"Color"]]),fe(t.opacity,"opacity.opacity",0,1),g(t.font,"options.font",[[ne,"PDFFont"]]),g(t.size,"options.size",["number"]),g(t.rotate,"options.rotate",[[Object,"Rotation"]]),g(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),g(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),g(t.x,"options.x",["number"]),g(t.y,"options.y",["number"]),g(t.lineHeight,"options.lineHeight",["number"]),g(t.maxWidth,"options.maxWidth",["number"]),g(t.wordBreaks,"options.wordBreaks",[Array]),ie(t.blendMode,"options.blendMode",ye);for(var u=this.setOrEmbedFont(t.font),h=u.oldFont,f=u.newFont,v=u.newFontKey,p=t.size||this.fontSize,y=t.wordBreaks||this.doc.defaultWordBreaks,w=function(E){return f.widthOfTextAtSize(E,p)},S=t.maxWidth===void 0?br(Ft(e)):ua(e,y,t.maxWidth,w),x=new Array(S.length),O=0,M=S.length;O<M;O++)x[O]=f.encodeText(S[O]);var W=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),I=this.getContentStream();I.push.apply(I,ka(x,{color:(a=t.color)!==null&&a!==void 0?a:this.fontColor,font:v,size:p,rotate:(n=t.rotate)!==null&&n!==void 0?n:A(0),xSkew:(i=t.xSkew)!==null&&i!==void 0?i:A(0),ySkew:(o=t.ySkew)!==null&&o!==void 0?o:A(0),x:(d=t.x)!==null&&d!==void 0?d:this.x,y:(l=t.y)!==null&&l!==void 0?l:this.y,lineHeight:(s=t.lineHeight)!==null&&s!==void 0?s:this.lineHeight,graphicsState:W})),t.font&&(h?this.setFont(h):this.resetFont())},r.prototype.drawImage=function(e,t){var a,n,i,o,d,l,s;t===void 0&&(t={}),c(e,"image",[[Et,"PDFImage"]]),g(t.x,"options.x",["number"]),g(t.y,"options.y",["number"]),g(t.width,"options.width",["number"]),g(t.height,"options.height",["number"]),g(t.rotate,"options.rotate",[[Object,"Rotation"]]),g(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),g(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),fe(t.opacity,"opacity.opacity",0,1),ie(t.blendMode,"options.blendMode",ye);var u=this.node.newXObject("Image",e.ref),h=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),f=this.getContentStream();f.push.apply(f,Rr(u,{x:(a=t.x)!==null&&a!==void 0?a:this.x,y:(n=t.y)!==null&&n!==void 0?n:this.y,width:(i=t.width)!==null&&i!==void 0?i:e.size().width,height:(o=t.height)!==null&&o!==void 0?o:e.size().height,rotate:(d=t.rotate)!==null&&d!==void 0?d:A(0),xSkew:(l=t.xSkew)!==null&&l!==void 0?l:A(0),ySkew:(s=t.ySkew)!==null&&s!==void 0?s:A(0),graphicsState:h}))},r.prototype.drawPage=function(e,t){var a,n,i,o,d;t===void 0&&(t={}),c(e,"embeddedPage",[[Lr,"PDFEmbeddedPage"]]),g(t.x,"options.x",["number"]),g(t.y,"options.y",["number"]),g(t.xScale,"options.xScale",["number"]),g(t.yScale,"options.yScale",["number"]),g(t.width,"options.width",["number"]),g(t.height,"options.height",["number"]),g(t.rotate,"options.rotate",[[Object,"Rotation"]]),g(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),g(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),fe(t.opacity,"opacity.opacity",0,1),ie(t.blendMode,"options.blendMode",ye);var l=this.node.newXObject("EmbeddedPdfPage",e.ref),s=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),u=t.width!==void 0?t.width/e.width:t.xScale!==void 0?t.xScale:1,h=t.height!==void 0?t.height/e.height:t.yScale!==void 0?t.yScale:1,f=this.getContentStream();f.push.apply(f,Ta(l,{x:(a=t.x)!==null&&a!==void 0?a:this.x,y:(n=t.y)!==null&&n!==void 0?n:this.y,xScale:u,yScale:h,rotate:(i=t.rotate)!==null&&i!==void 0?i:A(0),xSkew:(o=t.xSkew)!==null&&o!==void 0?o:A(0),ySkew:(d=t.ySkew)!==null&&d!==void 0?d:A(0),graphicsState:s}))},r.prototype.drawSvgPath=function(e,t){var a,n,i,o,d,l,s,u,h;t===void 0&&(t={}),c(e,"path",["string"]),g(t.x,"options.x",["number"]),g(t.y,"options.y",["number"]),g(t.scale,"options.scale",["number"]),g(t.rotate,"options.rotate",[[Object,"Rotation"]]),g(t.borderWidth,"options.borderWidth",["number"]),g(t.color,"options.color",[[Object,"Color"]]),fe(t.opacity,"opacity.opacity",0,1),g(t.borderColor,"options.borderColor",[[Object,"Color"]]),g(t.borderDashArray,"options.borderDashArray",[Array]),g(t.borderDashPhase,"options.borderDashPhase",["number"]),ie(t.borderLineCap,"options.borderLineCap",Ne),fe(t.borderOpacity,"options.borderOpacity",0,1),ie(t.blendMode,"options.blendMode",ye);var f=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.borderColor=_(0,0,0));var v=this.getContentStream();v.push.apply(v,Wa(e,{x:(a=t.x)!==null&&a!==void 0?a:this.x,y:(n=t.y)!==null&&n!==void 0?n:this.y,scale:t.scale,rotate:(i=t.rotate)!==null&&i!==void 0?i:A(0),color:(o=t.color)!==null&&o!==void 0?o:void 0,borderColor:(d=t.borderColor)!==null&&d!==void 0?d:void 0,borderWidth:(l=t.borderWidth)!==null&&l!==void 0?l:0,borderDashArray:(s=t.borderDashArray)!==null&&s!==void 0?s:void 0,borderDashPhase:(u=t.borderDashPhase)!==null&&u!==void 0?u:void 0,borderLineCap:(h=t.borderLineCap)!==null&&h!==void 0?h:void 0,graphicsState:f}))},r.prototype.drawLine=function(e){var t,a,n,i,o;c(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),c(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),c(e.start.x,"options.start.x",["number"]),c(e.start.y,"options.start.y",["number"]),c(e.end.x,"options.end.x",["number"]),c(e.end.y,"options.end.y",["number"]),g(e.thickness,"options.thickness",["number"]),g(e.color,"options.color",[[Object,"Color"]]),g(e.dashArray,"options.dashArray",[Array]),g(e.dashPhase,"options.dashPhase",["number"]),ie(e.lineCap,"options.lineCap",Ne),fe(e.opacity,"opacity.opacity",0,1),ie(e.blendMode,"options.blendMode",ye);var d=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=_(0,0,0));var l=this.getContentStream();l.push.apply(l,Oa({start:e.start,end:e.end,thickness:(t=e.thickness)!==null&&t!==void 0?t:1,color:(a=e.color)!==null&&a!==void 0?a:void 0,dashArray:(n=e.dashArray)!==null&&n!==void 0?n:void 0,dashPhase:(i=e.dashPhase)!==null&&i!==void 0?i:void 0,lineCap:(o=e.lineCap)!==null&&o!==void 0?o:void 0,graphicsState:d}))},r.prototype.drawRectangle=function(e){var t,a,n,i,o,d,l,s,u,h,f,v,p;e===void 0&&(e={}),g(e.x,"options.x",["number"]),g(e.y,"options.y",["number"]),g(e.width,"options.width",["number"]),g(e.height,"options.height",["number"]),g(e.rotate,"options.rotate",[[Object,"Rotation"]]),g(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),g(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),g(e.borderWidth,"options.borderWidth",["number"]),g(e.color,"options.color",[[Object,"Color"]]),fe(e.opacity,"opacity.opacity",0,1),g(e.borderColor,"options.borderColor",[[Object,"Color"]]),g(e.borderDashArray,"options.borderDashArray",[Array]),g(e.borderDashPhase,"options.borderDashPhase",["number"]),ie(e.borderLineCap,"options.borderLineCap",Ne),fe(e.borderOpacity,"options.borderOpacity",0,1),ie(e.blendMode,"options.blendMode",ye);var y=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=_(0,0,0));var w=this.getContentStream();w.push.apply(w,Ie({x:(t=e.x)!==null&&t!==void 0?t:this.x,y:(a=e.y)!==null&&a!==void 0?a:this.y,width:(n=e.width)!==null&&n!==void 0?n:150,height:(i=e.height)!==null&&i!==void 0?i:100,rotate:(o=e.rotate)!==null&&o!==void 0?o:A(0),xSkew:(d=e.xSkew)!==null&&d!==void 0?d:A(0),ySkew:(l=e.ySkew)!==null&&l!==void 0?l:A(0),borderWidth:(s=e.borderWidth)!==null&&s!==void 0?s:0,color:(u=e.color)!==null&&u!==void 0?u:void 0,borderColor:(h=e.borderColor)!==null&&h!==void 0?h:void 0,borderDashArray:(f=e.borderDashArray)!==null&&f!==void 0?f:void 0,borderDashPhase:(v=e.borderDashPhase)!==null&&v!==void 0?v:void 0,graphicsState:y,borderLineCap:(p=e.borderLineCap)!==null&&p!==void 0?p:void 0}))},r.prototype.drawSquare=function(e){e===void 0&&(e={});var t=e.size;g(t,"size",["number"]),this.drawRectangle(T(T({},e),{width:t,height:t}))},r.prototype.drawEllipse=function(e){var t,a,n,i,o,d,l,s,u,h,f;e===void 0&&(e={}),g(e.x,"options.x",["number"]),g(e.y,"options.y",["number"]),g(e.xScale,"options.xScale",["number"]),g(e.yScale,"options.yScale",["number"]),g(e.rotate,"options.rotate",[[Object,"Rotation"]]),g(e.color,"options.color",[[Object,"Color"]]),fe(e.opacity,"opacity.opacity",0,1),g(e.borderColor,"options.borderColor",[[Object,"Color"]]),fe(e.borderOpacity,"options.borderOpacity",0,1),g(e.borderWidth,"options.borderWidth",["number"]),g(e.borderDashArray,"options.borderDashArray",[Array]),g(e.borderDashPhase,"options.borderDashPhase",["number"]),ie(e.borderLineCap,"options.borderLineCap",Ne),ie(e.blendMode,"options.blendMode",ye);var v=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=_(0,0,0));var p=this.getContentStream();p.push.apply(p,Wt({x:(t=e.x)!==null&&t!==void 0?t:this.x,y:(a=e.y)!==null&&a!==void 0?a:this.y,xScale:(n=e.xScale)!==null&&n!==void 0?n:100,yScale:(i=e.yScale)!==null&&i!==void 0?i:100,rotate:(o=e.rotate)!==null&&o!==void 0?o:void 0,color:(d=e.color)!==null&&d!==void 0?d:void 0,borderColor:(l=e.borderColor)!==null&&l!==void 0?l:void 0,borderWidth:(s=e.borderWidth)!==null&&s!==void 0?s:0,borderDashArray:(u=e.borderDashArray)!==null&&u!==void 0?u:void 0,borderDashPhase:(h=e.borderDashPhase)!==null&&h!==void 0?h:void 0,borderLineCap:(f=e.borderLineCap)!==null&&f!==void 0?f:void 0,graphicsState:v}))},r.prototype.drawCircle=function(e){e===void 0&&(e={});var t=e.size,a=t===void 0?100:t;g(a,"size",["number"]),this.drawEllipse(T(T({},e),{xScale:a,yScale:a}))},r.prototype.setOrEmbedFont=function(e){var t=this.font,a=this.fontKey;e?this.setFont(e):this.getFont();var n=this.font,i=this.fontKey;return{oldFont:t,oldFontKey:a,newFont:n,newFontKey:i}},r.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont(bt.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},r.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},r.prototype.getContentStream=function(e){return e===void 0&&(e=!0),e&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},r.prototype.createContentStream=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.doc.context.obj({}),n=ea.of(a,e);return n},r.prototype.maybeEmbedGraphicsState=function(e){var t=e.opacity,a=e.borderOpacity,n=e.blendMode;if(!(t===void 0&&a===void 0&&n===void 0)){var i=this.doc.context.obj({Type:"ExtGState",ca:t,CA:a,BM:n}),o=this.node.newExtGState("GS",i);return o}},r.prototype.scaleAnnot=function(e,t,a){for(var n=["RD","CL","Vertices","QuadPoints","L","Rect"],i=0,o=n.length;i<o;i++){var d=e.lookup(b.of(n[i]));d instanceof Le&&d.scalePDFNumbers(t,a)}var l=e.lookup(b.of("InkList"));if(l instanceof Le)for(var i=0,o=l.size();i<o;i++){var s=l.lookup(i);s instanceof Le&&s.scalePDFNumbers(t,a)}},r.of=function(e,t,a){return new r(e,t,a)},r.create=function(e){c(e,"doc",[[Be,"PDFDocument"]]);var t=oe.of(-1),a=Bt.withContextAndParent(e.context,t),n=e.context.register(a);return new r(a,n,e)},r})(),ct=(function(r){V(e,r);function e(t,a,n){var i=r.call(this,t,a,n)||this;return c(t,"acroButton",[[Ht,"PDFAcroPushButton"]]),i.acroField=t,i}return e.prototype.setImage=function(t,a){a===void 0&&(a=Se.Center);for(var n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var d=n[i],l=this.createImageAppearanceStream(d,t,a);this.updateWidgetAppearances(d,{normal:l})}this.markAsClean()},e.prototype.setFontSize=function(t){Ct(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.addToPage=function(t,a,n){var i,o,d,l,s,u,h,f,v,p,y;g(t,"text",["string"]),g(a,"page",[[de,"PDFPage"]]),Ue(n);var w=this.createWidget({x:((i=n==null?void 0:n.x)!==null&&i!==void 0?i:0)-((o=n==null?void 0:n.borderWidth)!==null&&o!==void 0?o:0)/2,y:((d=n==null?void 0:n.y)!==null&&d!==void 0?d:0)-((l=n==null?void 0:n.borderWidth)!==null&&l!==void 0?l:0)/2,width:(s=n==null?void 0:n.width)!==null&&s!==void 0?s:100,height:(u=n==null?void 0:n.height)!==null&&u!==void 0?u:50,textColor:(h=n==null?void 0:n.textColor)!==null&&h!==void 0?h:_(0,0,0),backgroundColor:(f=n==null?void 0:n.backgroundColor)!==null&&f!==void 0?f:_(.75,.75,.75),borderColor:n==null?void 0:n.borderColor,borderWidth:(v=n==null?void 0:n.borderWidth)!==null&&v!==void 0?v:0,rotate:(p=n==null?void 0:n.rotate)!==null&&p!==void 0?p:A(0),caption:t,hidden:n==null?void 0:n.hidden,page:a.ref}),S=this.doc.context.register(w.dict);this.acroField.addWidget(S);var x=(y=n==null?void 0:n.font)!==null&&y!==void 0?y:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(w,x),a.node.addAnnot(S)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var a=this.acroField.getWidgets(),n=0,i=a.length;n<i;n++){var o=a[n],d=((t=o.getAppearances())===null||t===void 0?void 0:t.normal)instanceof mt;if(!d)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){c(t,"font",[[ne,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,a){c(t,"font",[[ne,"PDFFont"]]),g(a,"provider",[Function]);for(var n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var d=n[i];this.updateWidgetAppearance(d,t,a)}},e.prototype.updateWidgetAppearance=function(t,a,n){var i=n!=null?n:en,o=Ve(i(this,t,a));this.updateWidgetAppearanceWithFont(t,a,o)},e.of=function(t,a,n){return new e(t,a,n)},e})(We);export{ka as $,Br as A,Pe as B,we as C,rt as D,te as E,dr as F,_a as G,za as H,Na as I,Er as J,Ia as K,Pn as L,Dn as M,ja as N,Ha as O,Be as P,Va as Q,La as R,Ua as S,Z as T,Te as U,Ga as V,Se as W,St as X,m as Y,D as Z,An as _,ne as a,ba as a$,Rr as a0,Ta as a1,Oa as a2,Ie as a3,Ba as a4,Wt as a5,Wa as a6,Ea as a7,ke as a8,ot as a9,xe as aA,ge as aB,$ as aC,fa as aD,yn as aE,tt as aF,Vt as aG,Ut as aH,Pr as aI,va as aJ,bn as aK,Gt as aL,Kt as aM,qt as aN,Dt as aO,mn as aP,Fn as aQ,Cn as aR,ga as aS,Sn as aT,or as aU,xn as aV,pa as aW,Pt as aX,wn as aY,Xt as aZ,ya as a_,dt as aa,cr as ab,Qt as ac,Wr as ad,Ma as ae,Dr as af,fn as ag,xt as ah,le as ai,Ze as aj,He as ak,nt as al,wt as am,vn as an,$e as ao,gn as ap,Ne as aq,At as ar,ir as as,pn as at,De as au,X as av,Y as aw,et as ax,ae as ay,it as az,Et as b,ma as b0,Fa as b1,Ca as b2,Sa as b3,kr as b4,Tr as b5,je as b6,hn as b7,A as b8,Oe as b9,ca as ba,q as bb,Ar as bc,me as bd,Re as be,ha as bf,dn as bg,ye as bh,_t as bi,bt as bj,de as c,Lr as d,sn as e,ct as f,Xe as g,lt as h,We as i,nn as j,st as k,Ye as l,Mt as m,ut as n,Ve as o,Qa as p,$a as q,en as r,tn as s,rn as t,an as u,Nr as v,Ya as w,yt as x,Or as y,_ as z};
//# sourceMappingURL=pdf-api-BXmHbbLX.js.map
